{"version":3,"sources":["./src/app/admin/import-export-manager/product-csv-importer/product-csv-importer.page.html","./src/app/admin/import-export-manager/product-csv-importer/product-csv-importer.module.ts","./src/app/admin/import-export-manager/product-csv-importer/product-csv-importer.page.scss","./src/app/admin/import-export-manager/product-csv-importer/product-csv-importer.page.ts"],"names":[],"mappings":"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","file":"admin-import-export-manager-product-csv-importer-product-csv-importer-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons style=\\\"margin-left: -8px;\\\" slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Product CSV Importer</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col id=\\\"scroll\\\" size=\\\"6\\\">\\r\\n          <div class=\\\"sectionArea\\\">\\r\\n            <h2>Detected Fields</h2>\\r\\n            <p class=\\\"ion-text-center\\\" *ngIf=\\\"!detectedFields.length\\\">\\r\\n              Please Upload CSV\\r\\n            </p>\\r\\n            <!-- <ion-progress-bar  type=\\\"indeterminate\\\"></ion-progress-bar> -->\\r\\n            <ion-list *ngIf=\\\"detectedFields.length\\\">\\r\\n              <div id=\\\"mainField\\\" *ngFor=\\\"let entry of detectedFields; let i = index\\\">\\r\\n                <ion-label>{{entry.name}}</ion-label>\\r\\n                <ion-checkbox mode=\\\"ios\\\" slot=\\\"end\\\" [disabled]=\\\"true\\\" [(ngModel)]=\\\"entry.active\\\"></ion-checkbox>\\r\\n              </div>\\r\\n            </ion-list>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n        <ion-col id=\\\"scroll\\\" size=\\\"6\\\">\\r\\n          <div class=\\\"sectionArea\\\">\\r\\n            <h2>Instructions</h2>\\r\\n          </div>\\r\\n          <div>\\r\\n            <ol>\\r\\n              <li style=\\\"font-weight: bold\\\">Before Uploading</li>\\r\\n                <ion-button expand=\\\"block\\\" shape=\\\"round\\\" mode=\\\"ios\\\" style=\\\"margin: 10px 0 10px 0\\\" (click)=\\\"openCSVImportRules()\\\">View Rules</ion-button>\\r\\n              <li style=\\\"font-weight: bold\\\">While Uploading</li>\\r\\n              <ol>\\r\\n                <li>Make sure that the file is of .csv format.</li>\\r\\n                <li>You can use the sample csv format provided for formatting the products accordingly.</li>\\r\\n              </ol>\\r\\n              <li style=\\\"font-weight: bold\\\">While Importing</li>\\r\\n              <ol>\\r\\n                <li>Please wait while the importing of products is undergoing & make sure to not close this tab.</li>\\r\\n              </ol>\\r\\n            </ol>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer no-border class=\\\"page-footer\\\">\\r\\n  <!-- <ion-progress-bar *ngIf=\\\"isProgressBarActive\\\" value=\\\"progressValue\\\" buffer=\\\"progressBuffer\\\"></ion-progress-bar> -->\\r\\n  <ion-progress-bar *ngIf=\\\"isProgressBarActive\\\" type=\\\"indeterminate\\\"></ion-progress-bar>\\r\\n  <div class=\\\"main-container\\\" style=\\\"display: flex; justify-content: space-between; align-items: center;\\\">\\r\\n    <div class=\\\"status-update\\\">\\r\\n      <strong style=\\\"display: inline;\\\">Total Products Imported : {{totalProcessed}} / {{calcProcessedEntities()}}</strong>\\r\\n    </div>\\r\\n    <div class=\\\"upload-btn-wrapper\\\">\\r\\n      <ion-button [disabled]=\\\"saveDisable() || isProgressBarActive\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\" (click)=\\\"importProductsHandler($event, buttonState)\\\" >\\r\\n        <i *ngIf=\\\"buttonState === 'Import'\\\" class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n        <i *ngIf=\\\"buttonState === 'Upload'\\\" class=\\\"flaticon-null-16\\\"></i>\\r\\n        {{buttonState}} CSV\\r\\n      </ion-button>\\r\\n      <ng-container *ngIf=\\\"!isProgressBarActive && buttonState !== 'Import'\\\">\\r\\n        <input type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"importProductsHandler($event, buttonState)\\\"/>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-footer>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ProductCsvImporterPage } from './product-csv-importer.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductCsvImporterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ProductCsvImporterPage]\r\n})\r\nexport class ProductCsvImporterPageModule {}\r\n","module.exports = \".main-container {\\n  width: 100%;\\n  padding: 0;\\n}\\n\\n#scroll1 {\\n  overflow: hidden;\\n  height: 75vh;\\n  border-right: 1px solid lightgray;\\n}\\n\\n#scroll1:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll2 {\\n  overflow: hidden;\\n  height: 86vh;\\n}\\n\\n#scroll2:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll {\\n  overflow: hidden;\\n  height: calc(100vh - 107px);\\n  border-right: 1px solid lightgray;\\n}\\n\\n#scroll:hover {\\n  overflow-y: auto;\\n}\\n\\n.sectionArea h2 {\\n  text-align: center;\\n}\\n\\nh2 {\\n  margin-top: 0;\\n  font-size: 24px;\\n}\\n\\n#mainField {\\n  margin: 0 4px 8px 8px;\\n  padding: 4px 0 4px 0;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n\\n.upload-btn-wrapper input[type=file] {\\n  font-size: 100px;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  opacity: 0;\\n  z-index: 99;\\n}\\n\\n.page-footer {\\n  border-top: 1px solid #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vaW1wb3J0LWV4cG9ydC1tYW5hZ2VyL3Byb2R1Y3QtY3N2LWltcG9ydGVyL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFxhZG1pblxcaW1wb3J0LWV4cG9ydC1tYW5hZ2VyXFxwcm9kdWN0LWNzdi1pbXBvcnRlclxccHJvZHVjdC1jc3YtaW1wb3J0ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9pbXBvcnQtZXhwb3J0LW1hbmFnZXIvcHJvZHVjdC1jc3YtaW1wb3J0ZXIvcHJvZHVjdC1jc3YtaW1wb3J0ZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtFQUNBLFVBQUE7QUNDRjs7QURFQTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGlDQUFBO0FDQ0Y7O0FEQUU7RUFDRSxnQkFBQTtBQ0VKOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FEQUU7RUFDRSxnQkFBQTtBQ0VKOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSwyQkFBQTtFQUNBLGlDQUFBO0FDQ0Y7O0FEQUU7RUFDRSxnQkFBQTtBQ0VKOztBREdFO0VBQ0Usa0JBQUE7QUNBSjs7QURJQTtFQUNFLGFBQUE7RUFDQSxlQUFBO0FDREY7O0FESUE7RUFDRSxxQkFBQTtFQUNBLG9CQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7QUNERjs7QURJQTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxPQUFBO0VBQ0EsTUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0FDREY7O0FER0E7RUFDRSwwQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vaW1wb3J0LWV4cG9ydC1tYW5hZ2VyL3Byb2R1Y3QtY3N2LWltcG9ydGVyL3Byb2R1Y3QtY3N2LWltcG9ydGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLWNvbnRhaW5lciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMDtcclxufVxyXG5cclxuI3Njcm9sbDEge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgaGVpZ2h0OiA3NXZoO1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAmOmhvdmVyIHtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgfVxyXG59XHJcblxyXG4jc2Nyb2xsMiB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IDg2dmg7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gIH1cclxufVxyXG5cclxuI3Njcm9sbCB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDdweCk7XHJcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgbGlnaHRncmF5O1xyXG4gICY6aG92ZXIge1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbi5zZWN0aW9uQXJlYXtcclxuICBoMiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG59XHJcblxyXG5oMiB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbn1cclxuXHJcbiNtYWluRmllbGQge1xyXG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcclxuICBwYWRkaW5nOiA0cHggMCA0cHggMDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4udXBsb2FkLWJ0bi13cmFwcGVyIGlucHV0W3R5cGU9ZmlsZV0ge1xyXG4gIGZvbnQtc2l6ZTogMTAwcHg7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGxlZnQ6IDA7XHJcbiAgdG9wOiAwO1xyXG4gIG9wYWNpdHk6IDA7XHJcbiAgei1pbmRleDogOTk7XHJcbn1cclxuLnBhZ2UtZm9vdGVye1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2NjO1xyXG59IiwiLm1haW4tY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDA7XG59XG5cbiNzY3JvbGwxIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiA3NXZoO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XG59XG4jc2Nyb2xsMTpob3ZlciB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbiNzY3JvbGwyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiA4NnZoO1xufVxuI3Njcm9sbDI6aG92ZXIge1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4jc2Nyb2xsIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTA3cHgpO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XG59XG4jc2Nyb2xsOmhvdmVyIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLnNlY3Rpb25BcmVhIGgyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5oMiB7XG4gIG1hcmdpbi10b3A6IDA7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuI21haW5GaWVsZCB7XG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcbiAgcGFkZGluZzogNHB4IDAgNHB4IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLnVwbG9hZC1idG4td3JhcHBlciBpbnB1dFt0eXBlPWZpbGVdIHtcbiAgZm9udC1zaXplOiAxMDBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIG9wYWNpdHk6IDA7XG4gIHotaW5kZXg6IDk5O1xufVxuXG4ucGFnZS1mb290ZXIge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2NjYztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from '@angular/fire/firestore';\r\nimport { SubscriptionLike } from 'rxjs';\r\nimport { ImportExportManagerService } from 'src/app/services/import-export-manager/import-export-manager.service';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { map, first, take } from 'rxjs/operators';\r\nimport { ExportToCsv } from 'export-to-csv';\r\nimport * as moment from 'moment';\r\nimport { FileDetector } from 'protractor';\r\nimport { Events, MenuController, Platform, ModalController } from '@ionic/angular';\r\nimport { Papa } from 'ngx-papaparse';\r\nimport { CsvImportRulesPage } from '../csv-import-rules/csv-import-rules.page';\r\n\r\n@Component({\r\n  selector: 'app-product-csv-importer',\r\n  templateUrl: './product-csv-importer.page.html',\r\n  styleUrls: ['./product-csv-importer.page.scss'],\r\n})\r\nexport class ProductCsvImporterPage implements OnInit {\r\n\r\n  buttonState: string = ''\r\n  prodLength: number = 0\r\n  detectedFields: any[] = []\r\n  allCategories: any[] = []\r\n  allSubCategories: any[] = []\r\n  allVendors: any[] = []\r\n  allBrands: any[] = []\r\n  allFilters: any = []\r\n  allFields: any[] = ['Sku', 'Name', 'Barcode', 'Active', 'Is Variant', 'Type of Variant', 'Variant Value', 'Variant Name', 'Price', 'Discounted Price', 'Purchase Price', 'Vendor Phone Number', 'Stocks', 'Shipping Weight', 'Minimum Quantity', 'Maximum Quantity', 'Product Description', 'HSN Code', 'GST', 'Color', 'keywords', 'Out of Stock', 'Categories', 'Brands', 'Filters']\r\n  allCSVProducts: any[] = []\r\n  totalProcessed: number = 0\r\n  needBrands: boolean = false;\r\n  needCategories: boolean = false;\r\n  brands: any;\r\n  categories: any;\r\n  isProgressBarActive: boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private sharedService: SharedService,\r\n    private importExportManagerService: ImportExportManagerService,\r\n    private toastController: ToastController,\r\n    private papa: Papa,\r\n    private afs: AngularFirestore,\r\n    private modalController: ModalController,\r\n  ) { }\r\n\r\n  ngOnInit() {}\r\n\r\n  async ionViewWillEnter() {\r\n    await this.sharedService.presentLoading();\r\n    this.buttonState = 'Upload'\r\n    this.allCategories = await this.importExportManagerService.getAllCategories()\r\n    this.allSubCategories = await this.importExportManagerService.getAllSubCategories()\r\n    this.allBrands = await this.importExportManagerService.getAllBrands()\r\n    this.allVendors = await this.importExportManagerService.getAllVendors()\r\n    this.allFilters = await this.importExportManagerService.getAllFilters()\r\n    console.log('allFilters : ', this.allFilters)\r\n    await this.sharedService.loading.dismiss();\r\n  }\r\n\r\n  async presentToast(message: string) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async presentToastWithOptions(header: string, message: string, errorCode: string) {\r\n    const toast = await this.toastController.create({\r\n      mode: 'ios',\r\n      color: 'dark',\r\n      header: header,\r\n      message: message,\r\n      duration: 5000,\r\n      position: 'top',\r\n      buttons: [\r\n        {\r\n          side: 'start',\r\n          text: errorCode,\r\n          handler: () => {\r\n            console.log('Favorite clicked');\r\n          }\r\n        }, {\r\n          text: 'Done',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async openCSVImportRules() {\r\n    const modal = await this.modalController.create({\r\n      component: CsvImportRulesPage,\r\n      cssClass: 'custom-modalFull',\r\n    });\r\n    await modal.present();\r\n  }\r\n\r\n  getCSVHeaderValue(field: string) {\r\n    switch (field) {\r\n      case 'Sku':\r\n        return 'sku'\r\n        break;\r\n      case 'Name':\r\n        return 'name'\r\n        break;\r\n      case 'Barcode':\r\n        return 'barcodeNo'\r\n        break;\r\n      case 'Active':\r\n        return 'active'\r\n        break;\r\n      case 'Is Variant':\r\n        return 'variants'\r\n        break;\r\n      case 'Type of Variant':\r\n        return 'variantType'\r\n        break;\r\n      case 'Variant Name':\r\n        return 'variantName'\r\n        break;\r\n      case 'Variant Value':\r\n        return 'variantValue'\r\n        break;\r\n      case 'Price':\r\n        return 'price'\r\n        break;\r\n      case 'Discounted Price':\r\n        return 'discountedPrice'\r\n        break;\r\n      case 'Purchase Price':\r\n        return 'purchasePrice'\r\n        break;\r\n      case 'Vendor Phone Number':\r\n        return 'vendorPhoneNo'\r\n        break;\r\n      case 'Stocks':\r\n        return 'quantity'\r\n        break;\r\n      case 'Shipping Weight':\r\n        return 'shippingWt'\r\n        break;\r\n      case 'Minimum Quantity':\r\n        return 'minQuantity'\r\n        break;\r\n      case 'Maximum Quantity':\r\n        return 'maxQuantity'\r\n        break;\r\n      case 'Product Description':\r\n        return 'prodDescription'\r\n        break;\r\n      case 'HSN Code':\r\n        return 'hsnCode'\r\n        break;\r\n      case 'GST':\r\n        return 'gst'\r\n        break;\r\n      case 'Color':\r\n        return 'color'\r\n        break;\r\n      case 'Keywords':\r\n        return 'keywords'\r\n        break;\r\n      case 'Out of Stock':\r\n        return 'out_of_stock'\r\n        break;\r\n      case 'Categories':\r\n        return 'catSubcat'\r\n        break;\r\n      case 'Brands':\r\n        return 'brands'\r\n        break;\r\n      case 'Filters':\r\n        return 'filters'\r\n      default: // experimental\r\n        return field\r\n    }\r\n  }\r\n\r\n  async checkValidCSV(event: any, jsonData: any[]) {\r\n    if (event.target.files[0].name.includes('.csv')) {\r\n      for (const mainField of jsonData[0]) {\r\n        if (this.allFields.some(field => field === mainField)) {\r\n          return true\r\n        }\r\n        else {\r\n          await this.presentToastWithOptions('Invalid CSV Column(s)!', 'Pls Check the CSV before uploading.', 'ERR-191')\r\n          return false\r\n        }\r\n      }\r\n    } else {\r\n      await this.presentToastWithOptions('Invalid File Format!', 'The file should be only in [ .csv ] format.', 'ERR-190')\r\n      return false\r\n    }\r\n  }\r\n\r\n  getItem(detectedFields: any, csvProd: any) {\r\n    // console.log('detectedFields: ', detectedFields);\r\n    // console.log('csvProd: ', csvProd)\r\n    let item = {}\r\n    for (let i = 0; i < detectedFields.length; i++) {\r\n      item[detectedFields[i].value] = csvProd[i]\r\n    }\r\n    // console.log('item : ', item)\r\n    return item\r\n  }\r\n\r\n  async checkProductName(allCSVProducts: any) {\r\n    console.log('ddddd : ', allCSVProducts)\r\n    for (let i = 0; i < allCSVProducts.length; i++) {\r\n      console.log('eeeee : ',i + 1, allCSVProducts[i][1])\r\n      if (allCSVProducts[i][1] && allCSVProducts[i][1].length > 200) {\r\n        await this.presentToastWithOptions('Invalid Product Name!', `Product - \" ${JSON.stringify(allCSVProducts[i][1])} \", Name exceeding 200 character limit!`, 'ERR-195')\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  async importProductsHandler(event: any, state: string) {\r\n    let jsonData = []\r\n    if (state === 'Upload') {\r\n      this.totalProcessed = 0\r\n      this.allCSVProducts = []\r\n      let csv = event.target.files[0]\r\n      console.log('csv : ', csv)\r\n      let options = {\r\n        complete: async (result, file) => {\r\n          jsonData = result.data\r\n          let validity = await this.checkValidCSV(event, jsonData)\r\n          console.log('validity : ', validity)\r\n          if (validity) {\r\n            console.log('jsonData : ', jsonData)\r\n            this.detectedFields = []\r\n            this.prodLength = jsonData.length - 1\r\n            console.log('this.prodLength : ', this.prodLength);\r\n            for (const field of jsonData[0]) {\r\n              this.detectedFields.push({\r\n                name: field,\r\n                value: this.getCSVHeaderValue(field),\r\n                active: false\r\n              })\r\n            }\r\n            console.log('detectedFields : ', this.detectedFields)\r\n            this.allCSVProducts = jsonData\r\n            // * Remove headers\r\n            this.allCSVProducts.shift()\r\n            this.allCSVProducts.splice(-1,1)\r\n            if (this.detectedFields.length && await this.checkProductName(this.allCSVProducts)) {\r\n              this.buttonState = 'Import'\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.papa.parse(csv, options)\r\n    }\r\n    if (state === 'Import') {\r\n      console.log('importing');\r\n      await this.presentToastWithOptions('NOTE','Please do not close this tab while products are being imported!','WR-19')\r\n      for (const field of this.detectedFields) {\r\n        field.active = true;\r\n      }\r\n\r\n      console.log('this.detectedFields.length : ' + this.detectedFields.length);\r\n      console.log('this.allCSVProducts.length : ' + this.allCSVProducts.length);\r\n      let chunkCount = 0\r\n      if (this.allCSVProducts && this.allCSVProducts.length) {\r\n        await this.sharedService.presentLoading(\"Please Wait...\",1000000)\r\n        console.log(this.allCSVProducts)\r\n        for (var i = 0; i < this.allCSVProducts.length; i++) {\r\n\r\n          // if (this.allCSVProducts[i][20] && this.allCSVProducts[i][20] != '') {\r\n            this.needCategories = true;\r\n          // }\r\n    \r\n          // if (this.allCSVProducts[i][21] && this.allCSVProducts[i][21] != '') {\r\n            this.needBrands = true;\r\n          // }\r\n        }\r\n        let catList = [];\r\n        if (!this.brands && this.needBrands) {\r\n          this.brands = {};\r\n          const brandsRef = this.afs.collection('brands');\r\n          const brandsSnap = brandsRef.snapshotChanges().pipe(\r\n            map(actions => actions.map(a => {\r\n              const data: any = a.payload.doc.data();\r\n              const id = a.payload.doc.id;\r\n              return { id, ...data };\r\n            })));\r\n          const brandsDocs = await brandsSnap.pipe(first()).toPromise();\r\n    \r\n    \r\n          brandsDocs.forEach((brand: any) => {\r\n    \r\n            if (brand.name) {\r\n              this.brands[(brand.name || '').toLowerCase().trim()] = brand.id;\r\n            }\r\n    \r\n          });\r\n        }\r\n        if (!this.categories && this.needCategories) {\r\n          this.categories = {};\r\n          const catgeoryRef = this.afs.collection('categories');\r\n          const catgeorySnap = catgeoryRef.snapshotChanges().pipe(\r\n            map(actions => actions.map(a => {\r\n              const data: any = a.payload.doc.data();\r\n              const id = a.payload.doc.id;\r\n              return { id, ...data };\r\n            })));\r\n          const catDocs = await catgeorySnap.pipe(first()).toPromise();\r\n    \r\n    \r\n          catDocs.forEach((cat: any) => {\r\n    \r\n            this.categories[cat.name.toLowerCase().trim()] = { id: cat.id, subcategories: {} };\r\n            catList.push({ id: cat.id, name: cat.name.toLowerCase().trim() });\r\n    \r\n          });\r\n    \r\n          for (var i = 0; i < catList.length; i++) {\r\n    \r\n            const subcatgeoryRef = this.afs.collection('categories').doc(catList[i]['id']).collection('subcategories');\r\n            const subcatgeorySnap = subcatgeoryRef.snapshotChanges().pipe(\r\n              map(actions => actions.map(a => {\r\n                const data = a.payload.doc.data();\r\n                const id = a.payload.doc.id;\r\n                return { id, ...data };\r\n              })));\r\n    \r\n            const subCatDocs = await subcatgeorySnap.pipe(first()).toPromise();\r\n    \r\n            subCatDocs.forEach(async (cat: any) => {\r\n    \r\n              this.categories[catList[i]['name']]['subcategories'][cat.name.toLowerCase().trim()] = cat.id;\r\n    \r\n            });\r\n          }\r\n    \r\n    \r\n        }\r\n        let vendorId = '', vendorName = '';\r\n        this.isProgressBarActive = true\r\n        for (let i = 0; i < this.allCSVProducts.length; i++) {\r\n          // let item = {\r\n          //   sku: this.allCSVProducts[i][0],\r\n          //   name: this.allCSVProducts[i][1],\r\n          //   barcodeNo: this.allCSVProducts[i][2],\r\n          //   active: this.allCSVProducts[i][3],\r\n          //   variants: this.allCSVProducts[i][4],\r\n          //   variantType: this.allCSVProducts[i][5],\r\n          //   variantName: this.allCSVProducts[i][6],\r\n          //   price: this.allCSVProducts[i][7],\r\n          //   vendorPhoneNo: this.allCSVProducts[i][8],\r\n          //   discountedPrice: this.allCSVProducts[i][9],\r\n          //   purchasePrice: this.allCSVProducts[i][10],\r\n          //   quantity: this.allCSVProducts[i][11],\r\n          //   shippingWt: this.allCSVProducts[i][12],\r\n          //   minQuantity: this.allCSVProducts[i][13],\r\n          //   maxQuantity: this.allCSVProducts[i][14],\r\n          //   productDescription: this.allCSVProducts[i][15],\r\n          //   hsnCode: this.allCSVProducts[i][16],\r\n          //   gst: this.allCSVProducts[i][17],\r\n          //   color: this.allCSVProducts[i][18],\r\n          //   keywords: this.allCSVProducts[i][19],\r\n          //   out_of_stock: this.allCSVProducts[i][20],\r\n          //   catSubcat: this.allCSVProducts[i][21],\r\n          //   brands: this.allCSVProducts[i][22],\r\n          // }\r\n          let item = this.getItem(this.detectedFields, this.allCSVProducts[i])\r\n          // console.log('item2 : ', item)\r\n          let orgProduct: any = {};\r\n          if (item['sku']) {\r\n            let prodId = null, product = {};\r\n            let formattedSKU = ''\r\n              if (item['sku'].includes('\\t')) {\r\n                formattedSKU = item['sku'].slice(1)\r\n              } else {\r\n                formattedSKU = item['sku']\r\n              }\r\n            const prodRef = this.afs.collection(\"products\", ref => ref.where(\"productCode\", \"==\", formattedSKU));\r\n            const productsSnap = prodRef.snapshotChanges().pipe(\r\n              map(actions => actions.map(a => {\r\n                const data: any = a.payload.doc.data();\r\n                const id = a.payload.doc.id;\r\n                return { id, ...data };\r\n              }))\r\n            );\r\n            const pdtDocs = await productsSnap.pipe(first()).toPromise();\r\n            // console.log('pdtDocs : ', pdtDocs);\r\n            if (pdtDocs) {\r\n              pdtDocs.forEach(async (pdt) => {\r\n                prodId = pdt.id;\r\n                orgProduct = pdt;\r\n              });\r\n            }\r\n            let unformatted = '' \r\n            if (item['vendorPhoneNo']) {\r\n              unformatted = item['vendorPhoneNo'].slice(1)\r\n              unformatted = unformatted.slice(0, -1)\r\n              // console.log('unformatted : ', unformatted.trim());\r\n              if (this.allVendors.some(v => v.phoneNo === unformatted.trim())) {\r\n                let vendorData = this.allVendors.find(v => v.phoneNo === unformatted.trim())\r\n                vendorId = vendorData.id\r\n                vendorName = vendorData.name\r\n              }\r\n              // console.log('vendorId : ', vendorId)\r\n              // console.log('vendorName : ', vendorName)\r\n            }\r\n            if (prodId) {\r\n              // if (productCode == item.sku) {\r\n              //   console.log('match : ', item.name);\r\n              //   matchingProds.push(item.name)\r\n              //   console.log('mprds', matchingProds);\r\n              //   if (matchingProds.length <= matchingProds.length - 1) {\r\n              //     this.presentAlert('SKU already exists!', `Products with matching SKU Code are as follows :- ${matchingProds}`)\r\n              //   }\r\n              // }          \r\n    \r\n              if (item['name'] && item['name'].trim() != '') {\r\n                product['prodName'] = item['name'] ? item['name'].trim() : '';\r\n                product['nameToSearch'] = item['name'] ? item['name'].trim() : '';\r\n              }\r\n              if (item['active'] && item['active'].trim() != '') {\r\n                product['status'] = item['active'] && item['active'].toLowerCase() == 'yes' ? true : false;\r\n              }\r\n              if (item['barcodeNo'] && item['barcodeNo'].trim() != '') {\r\n                product['barcodeNo'] = item['barcodeNo'] ? item['barcodeNo'].trim() : '';\r\n              }\r\n\r\n              // console.log('vendor id : ', vendorId)\r\n              // console.log('vendor name : ', vendorName)\r\n              if (item['vendorPhoneNo'] && (item['vendorPhoneNo'].trim() != '')) {\r\n                product['vendorId'] = vendorId ? vendorId : ''\r\n                product['vendorName'] = vendorName ? vendorName : ''\r\n              }\r\n              product['updatedAt'] = new Date();\r\n              product['productType'] = '';\r\n    \r\n              product['isPriceList'] = item['variants'] && item['variants'].toLowerCase() == 'yes' ? true : orgProduct && orgProduct.isPriceList ? orgProduct.isPriceList : false;\r\n    \r\n    \r\n              if (!product['isPriceList']) {\r\n    \r\n                if (item['discountedPrice'] && item['discountedPrice'].trim() != '') {\r\n                  product['discountedPrice'] = item['discountedPrice'] ? parseFloat(item['discountedPrice'].trim()) : parseFloat(item['price'].trim());\r\n                }\r\n                if (item['price'] && item['price'].trim() != '') {\r\n                  product['prodPrice'] = parseFloat(item['price'].trim());\r\n                }\r\n                if (item['quantity'] && item['quantity'].trim() != '') {\r\n                  product['productQty'] = item['quantity'] ? item['quantity'].trim() : 0;\r\n                }\r\n                if (item['shippingWt'] && item['shippingWt'].trim() != '') {\r\n                  product['shippingWeight'] = parseInt(item['shippingWt'].trim());\r\n                }\r\n                if (item['purchasePrice'] && item['purchasePrice'].trim() != '') {\r\n                  product['purchasePrice'] = parseFloat(item['purchasePrice'].trim());\r\n                }\r\n    \r\n    \r\n              }\r\n              else {\r\n                product['priceList'] = orgProduct.priceList ? orgProduct.priceList : [];\r\n                if (item['variantName'] && item['variantName'].trim() != '') {\r\n                  let variantItems = item['variantName'].split(',');\r\n                  variantItems.forEach((variant, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['name'] = variant.trim();\r\n                  });\r\n                }\r\n                if (item['variantValue'] && item['variantValue'].trim() != '') {\r\n                  let variantValues = item['variantValue'].split(',');\r\n                  variantValues.forEach((variant, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['weight'] = variant.trim();\r\n                  });\r\n                }\r\n                if (item['price'] && item['price'].trim() != '') {\r\n                  let priceItems = item['price'].split(',');\r\n                  priceItems.forEach((price, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['price'] = price ? parseFloat(price.trim()) : 0;\r\n                  });\r\n                }\r\n                if (item['discountedPrice'] && item['discountedPrice'].trim() != '') {\r\n                  let discountedPriceItems = item['discountedPrice'].split(',');\r\n                  discountedPriceItems.forEach((discountedPrice, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['discountedPrice'] = discountedPrice ? parseFloat(discountedPrice.trim()) : product['priceList'][index]['price'] ? parseFloat(product['priceList'][index]['price'].trim()) : 0;\r\n                  });\r\n                }\r\n                if (item['purchasePrice'] && item['purchasePrice'].trim() != '') {\r\n                  let purchasePriceItems = item['purchasePrice'].split(',');\r\n                  purchasePriceItems.forEach((purchasePrice, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['purchasePrice'] = purchasePrice ? parseFloat(purchasePrice.trim()) : 0;\r\n                  });\r\n                }\r\n                if (item['quantity'] && item['quantity'].trim() != '') {\r\n                  let quantityItems = item['quantity'].split(',');\r\n                  quantityItems.forEach((quantity, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['totalQuantity'] = quantity ? quantity.trim() : '0';\r\n                  });\r\n                }\r\n                if (item['shippingWt'] && item['shippingWt'].trim() != '') {\r\n                  let shippingItems = item['shippingWt'].split(',');\r\n                  shippingItems.forEach((shippingWt, index) => {\r\n                    if (!product['priceList'][index]) {\r\n                      product['priceList'][index] = {};\r\n                    }\r\n                    product['priceList'][index]['shippingWeight'] = shippingWt ? shippingWt.trim() : '0';\r\n                  });\r\n                }\r\n              }\r\n    \r\n              if (item['variantType'] && item['variantType'].trim() != '') {\r\n                product['variantType'] = item['variantType'] ? item['variantType'].trim() : 'other';\r\n              }\r\n              if (item['prodDescription'] && item['prodDescription'].trim() != '') {\r\n                product['prodDesc'] = item['prodDescription'] ? item['prodDescription'].trim() : '';\r\n              }\r\n              if (item['hsnCode'] && item['hsnCode'].trim() != '') {\r\n                product['hsnCode'] = item['hsnCode'] ? item['hsnCode'].trim() : '';\r\n              }\r\n              if (item['gst'] && item['gst'].trim() != '') {\r\n                product['gst'] = item['gst'] ? item['gst'] : 0;\r\n              }\r\n              if (item['brands'] && item['brands'].trim() != '') {\r\n                product['brands'] = [];\r\n                let bds = item['brands'].split(\";\");\r\n    \r\n                bds.forEach(brand => {\r\n                  brand = brand.toLowerCase().trim();\r\n                  if (this.brands[brand]) {\r\n                    product['brands'].push(this.brands[brand]);\r\n                  }\r\n                });\r\n              }\r\n              if (item['catSubcat'] && item['catSubcat'].trim() != '') {\r\n                product['categories'] = [];\r\n                // console.log(this.categories);\r\n                let cats = item['catSubcat'].split(\";\");\r\n                // console.log(cats);\r\n                cats.forEach(cat => {\r\n                  cat = cat.toLowerCase().trim();\r\n                  let catsubcat = cat.split(\"-\");\r\n    \r\n                  if (catsubcat[0]) {\r\n                    catsubcat[0] = catsubcat[0].trim();\r\n                  }\r\n                  if (catsubcat[1]) {\r\n                    catsubcat[1] = catsubcat[1].trim();\r\n                  }\r\n    \r\n                  if (catsubcat[0] && this.categories[catsubcat[0]] && this.categories[catsubcat[0]]['id'] && product['categories'].indexOf(this.categories[catsubcat[0]]['id']) < 0) {\r\n                    product['categories'].push(this.categories[catsubcat[0]]['id']);\r\n                  }\r\n                  if (catsubcat[1] && this.categories[catsubcat[0]] && this.categories[catsubcat[0]]['id'] && this.categories[catsubcat[0]]['subcategories'] && this.categories[catsubcat[0]]['subcategories'][catsubcat[1]] && product['categories'].indexOf(this.categories[catsubcat[0]]['subcategories'][catsubcat[1]]) < 0) {\r\n                    product['categories'].push(this.categories[catsubcat[0]]['subcategories'][catsubcat[1]]);\r\n                  }\r\n    \r\n                  // console.log(product['categories']);\r\n                });\r\n              }\r\n              if (item['filters'] && item['filters'].trim() != '') {\r\n                let providedFilterData = item['filters'].split('|')\r\n                let filter = {}\r\n                for (let i = 0; i < providedFilterData.length; i++) {\r\n                  let filterData = providedFilterData[i].split(':')\r\n                  let filterName = filterData[0]\r\n                  let filterValues = filterData[1].split(',')\r\n                  for (let j = 0; j < filterValues.length; j++) {\r\n                    filter[filterName] = [...filterValues]\r\n                  }\r\n                }\r\n                console.log('provided filter : ', filter)\r\n                // *** Verify Filters ***\r\n                if (this.allFilters.length) {\r\n                  product['filters'] = {}\r\n                  for (let i = 0; i < this.allFilters.length; i++) {\r\n                    if (filter[this.allFilters[i].name]) {\r\n                      console.log('filters : ', filter[this.allFilters[i].name])\r\n                      let valueState = filter[this.allFilters[i].name].every((el: any) => this.allFilters[i].value.includes(el))\r\n                      if (valueState) {\r\n                        product['filters'][this.allFilters[i].name] = filter[this.allFilters[i].name]\r\n                      }\r\n                    }\r\n                  }\r\n                  console.log('Final filters : ', product['filters'])\r\n                }\r\n              }\r\n              if (item['color'] && item['color'].trim() != '') {\r\n                let colorVals = item['color'].split(',');\r\n                product['color'] = {\r\n                  code: colorVals[1] ? colorVals[1].trim() : '',\r\n                  name: colorVals[0] ? colorVals[0].trim() : ''\r\n                }\r\n              }\r\n              if (item['keywords'] && item['keywords'].trim() != '') {\r\n                product['searchKeywords'] = [];\r\n                let keywords = item['keywords'].split(',');\r\n                keywords.forEach(key => {\r\n                  product['searchKeywords'].push(key.trim());\r\n                });\r\n              }\r\n              if (item['out_of_stock'] && item['out_of_stock'].trim() != '') {\r\n                product['stopWhenNoQty'] = item['out_of_stock'] && item['out_of_stock'].toLowerCase() == 'yes' ? true : false;\r\n              }\r\n              if (item['minQuantity'] && item['minQuantity'].trim() != '') {\r\n                product['minQty'] = item['minQuantity'] ? parseInt(item['minQuantity'].trim()) : null;\r\n              }\r\n              if (item['maxQuantity'] && item['maxQuantity'].trim() != '') {\r\n                product['maxQty'] = item['maxQuantity'] ? parseInt(item['maxQuantity'].trim()) : null;\r\n              }\r\n    \r\n              // console.log(product);\r\n              this.totalProcessed++\r\n              this.afs.collection('products').doc(prodId).update(product);\r\n    \r\n            } else {\r\n              // * CHECK IF PRODUCT IS NEW - PERFORM [ ADD ]\r\n              console.log('else : ', prodId);\r\n              product['productCode'] = item['sku'].trim();\r\n              product['prodName'] = item['name'] ? item['name'].trim() : '';\r\n              product['barcodeNo'] = item['barcodeNo'] ? item['barcodeNo'].trim() : '';\r\n\r\n              console.log('vendor id else : ', vendorId)\r\n              console.log('vendor name else : ', vendorName)\r\n              product['vendorId'] = vendorId ? vendorId : ''\r\n              product['vendorName'] = vendorName ? vendorName : ''\r\n              product['productType'] = '';\r\n              product['nameToSearch'] = item['name'] ? item['name'].trim() : '';\r\n              product['createdAt'] = new Date();\r\n              product['status'] = item['active'] && item['active'].toLowerCase() == 'yes' ? true : false;\r\n              product['updatedAt'] = new Date();\r\n              product['sortedAt'] = new Date();\r\n              product['isPriceList'] = item['variants'] && item['variants'].toLowerCase() == 'yes' ? true : false;\r\n              product['variantType'] = item['variantType'] ? item['variantType'].trim() : 'other';\r\n              product['prodDesc'] = item['prodDescription'] ? item['prodDescription'].trim() : '';\r\n              if (item['filters'] && item['filters'].trim() != '') {\r\n                let providedFilterData = item['filters'].split('|')\r\n                let filter = {}\r\n                for (let i = 0; i < providedFilterData.length; i++) {\r\n                  let filterData = providedFilterData[i].split(':')\r\n                  let filterName = filterData[0]\r\n                  let filterValues = filterData[1].split(',')\r\n                  for (let j = 0; j < filterValues.length; j++) {\r\n                    filter[filterName] = [...filterValues]\r\n                  }\r\n                }\r\n                console.log('provided filter : ', filter)\r\n                // *** Verify Filters ***\r\n                if (this.allFilters.length) {\r\n                  product['filters'] = {}\r\n                  for (let i = 0; i < this.allFilters.length; i++) {\r\n                    if (filter[this.allFilters[i].name]) {\r\n                      console.log('filters : ', filter[this.allFilters[i].name])\r\n                      let valueState = filter[this.allFilters[i].name].every((el: any) => this.allFilters[i].value.includes(el))\r\n                      if (valueState) {\r\n                        product['filters'][this.allFilters[i].name] = filter[this.allFilters[i].name]\r\n                      }\r\n                    }\r\n                  }\r\n                  console.log('Final filters : ', product['filters'])\r\n                }\r\n              }\r\n              product['hsnCode'] = item['hsnCode'] ? item['hsnCode'].trim() : '';\r\n              product['gst'] = item['gst'] ? item['gst'] : 0;\r\n              product['categories'] = [];\r\n              if (item['brands'] && item['brands'].trim() != '') {\r\n                product['brands'] = [];\r\n                let bds = item['brands'].split(\";\");\r\n\r\n                bds.forEach(brand => {\r\n                  brand = brand.toLowerCase().trim();\r\n                  if (this.brands[brand]) {\r\n                    product['brands'].push(this.brands[brand]);\r\n                  }\r\n                });\r\n              }\r\n              if (item['catSubcat'] && item['catSubcat'].trim() != '') {\r\n                product['categories'] = [];\r\n\r\n                let cats = item['catSubcat'].split(\";\");\r\n\r\n                cats.forEach(cat => {\r\n                  cat = cat.toLowerCase().trim();\r\n                  let catsubcat = cat.split(\"-\");\r\n\r\n                  if (catsubcat[0]) {\r\n                    catsubcat[0] = catsubcat[0].trim();\r\n                  }\r\n                  if (catsubcat[1]) {\r\n                    catsubcat[1] = catsubcat[1].trim();\r\n                  }\r\n\r\n                  if (catsubcat[0] && this.categories[catsubcat[0]] && this.categories[catsubcat[0]]['id'] && product['categories'].indexOf(this.categories[catsubcat[0]]['id']) < 0) {\r\n                    product['categories'].push(this.categories[catsubcat[0]]['id']);\r\n                  }\r\n                  if (catsubcat[1] && this.categories[catsubcat[0]] && this.categories[catsubcat[0]]['id'] && this.categories[catsubcat[0]]['subcategories'] && this.categories[catsubcat[0]]['subcategories'][catsubcat[1]] && product['categories'].indexOf(this.categories[catsubcat[0]]['subcategories'][catsubcat[1]]) < 0) {\r\n                    product['categories'].push(this.categories[catsubcat[0]]['subcategories'][catsubcat[1]]);\r\n                  }\r\n\r\n                });\r\n              }\r\n              product['images'] = [];\r\n              product['coverPic'] = {\r\n                url: 'assets/img/placeholder-img.jpg',\r\n                mob: 'assets/img/placeholder-img.jpg',\r\n                thumb: 'assets/img/placeholder-img.jpg'\r\n              };\r\n              if (item['color']) {\r\n                let colorVals = item['color'].split(',');\r\n                product['color'] = {\r\n                  code: colorVals[1] ? colorVals[1].trim() : '',\r\n                  name: colorVals[0] ? colorVals[0].trim() : ''\r\n                }\r\n              }\r\n              else {\r\n                product['color'] = {}\r\n              }\r\n              product['searchKeywords'] = [];\r\n              if (item['keywords']) {\r\n                let keywords = item['keywords'].split(',');\r\n                keywords.forEach(key => {\r\n                  product['searchKeywords'].push(key.trim());\r\n                });\r\n\r\n              }\r\n              product['stopWhenNoQty'] = item['out_of_stock'] && item['out_of_stock'].toLowerCase() == 'yes' ? true : false;\r\n              product['minQty'] = item['minQuantity'] ? parseInt(item['minQuantity'].trim()) : null;\r\n              product['maxQty'] = item['maxQuantity'] ? parseInt(item['maxQuantity'].trim()) : null;\r\n              product['priceList'] = [];\r\n\r\n              if (!product['isPriceList']) {\r\n                product['discountedPrice'] = item['discountedPrice'] ? parseFloat(item['discountedPrice'].trim()) : parseFloat(item['price'].trim());\r\n                product['prodPrice'] = item['price'] ? parseFloat(item['price'].trim()) : 0;\r\n                product['purchasePrice'] = item['purchasePrice'] ? parseFloat(item['purchasePrice'].trim()) : 0;\r\n                product['productQty'] = item['quantity'] ? item['quantity'].trim() : 0;\r\n                product['shippingWeight'] = item['shippingWt'] ? item['shippingWt'].trim() : null;\r\n\r\n              }\r\n              else {\r\n\r\n                if (item['variantName']) {\r\n                  let variantItems = item['variantValue'].split(',');\r\n                  let priceItems = item['price'].split(',');\r\n                  let discountedPriceItems = item['discountedPrice'].split(',');\r\n                  let purchasePriceItems = item['purchasePrice'].split(',');\r\n                  let quantityItems = item['quantity'].split(',');\r\n                  let shippingItems = item['shippingWt'].split(',');\r\n                  let variantNames = item['variantName'] ? item['variantName'].split(',') : [null];\r\n                  variantItems.forEach((variant, index) => {\r\n\r\n                    product['priceList'].push({\r\n                      price: priceItems[index] ? parseFloat(priceItems[index].trim()) : 0,\r\n                      discountedPrice: discountedPriceItems[index] ? parseFloat(discountedPriceItems[index].trim()) : priceItems[index] ? parseFloat(priceItems[index].trim()) : 0,\r\n                      purchasePrice: purchasePriceItems[index] ? parseFloat(purchasePriceItems[index].trim()) : 0,\r\n                      weight: variant.trim(),\r\n                      totalQuantity: quantityItems[index] ? quantityItems[index].trim() : '0',\r\n                      shippingWeight: shippingItems[index] ? shippingItems[index].trim() : '',\r\n                      name: variantNames[index] ? variantNames[index].trim() : ''\r\n                    })\r\n                  });\r\n                }\r\n              }\r\n\r\n              // console.log(product);\r\n              this.totalProcessed++\r\n              this.afs.collection('products').add(product);\r\n            }\r\n            await this.sharedService.loading.dismiss();\r\n          }\r\n        }\r\n        await this.sharedService.loading.dismiss();\r\n        this.isProgressBarActive = false\r\n        await this.presentToastWithOptions('Success!', 'Product imported successfully', 'SC-101')\r\n        this.detectedFields = []\r\n        this.buttonState = \"Upload\"\r\n      } else {\r\n        this.isProgressBarActive = false\r\n        await this.presentToastWithOptions('Error in Processing File!', 'Please try again later.', 'ERR-192')\r\n      }\r\n    }\r\n  }\r\n\r\n  saveDisable() {\r\n    if (this.buttonState === 'Upload') {\r\n      return false\r\n    } else if (this.buttonState === 'Import') {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  calcProcessedEntities() {\r\n    // console.log('this.allCSVProducts.length', this.allCSVProducts.length)\r\n    if (this.allCSVProducts.length - 1 === -1) {\r\n      return 0\r\n    } else {\r\n      return this.allCSVProducts.length\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}