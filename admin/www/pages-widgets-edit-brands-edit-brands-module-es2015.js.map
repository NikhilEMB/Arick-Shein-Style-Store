{"version":3,"sources":["./src/app/pages/widgets/edit-brands/edit-brands.page.html","./src/app/pages/widgets/edit-brands/edit-brands.module.ts","./src/app/pages/widgets/edit-brands/edit-brands.page.scss","./src/app/pages/widgets/edit-brands/edit-brands.page.ts"],"names":[],"mappings":"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","file":"pages-widgets-edit-brands-edit-brands-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\" defaultHref=\\\"homepage-setting\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>Edit Brands</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"input-wrap\\\">\\r\\n        <ion-label>Section Name</ion-label>\\r\\n        <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"sectionName\\\"></ion-input>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n    \\r\\n    <div *ngIf=\\\"isLoading; else dataLoaded;\\\" class=\\\"spinner\\\">\\r\\n      <ion-spinner name=\\\"dots\\\"></ion-spinner>\\r\\n    </div>\\r\\n  \\r\\n    <ng-template #dataLoaded>\\r\\n      <div *ngIf=\\\"!dataList.length\\\">\\r\\n        <p class=\\\"no-data-txt\\\">No data</p>\\r\\n      </div>\\r\\n  \\r\\n      <div *ngIf=\\\"dataList.length > 0\\\">\\r\\n        <ion-list class=\\\"s-c-list\\\" *ngFor=\\\"let data of dataList; let i=index\\\">\\r\\n          <ion-item lines=\\\"none\\\" (click)=\\\"selectParent(i)\\\">\\r\\n            <ion-label>{{data.name}}</ion-label>\\r\\n            <ion-checkbox slot=\\\"end\\\" [checked]=\\\"data.active\\\"></ion-checkbox>\\r\\n          </ion-item>\\r\\n          <hr class=\\\"line\\\">\\r\\n        </ion-list>\\r\\n      </div>\\r\\n      <ion-button (click)=\\\"onClickSave()\\\">\\r\\n        Save\\r\\n      </ion-button>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditBrandsPage } from './edit-brands.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditBrandsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [EditBrandsPage]\r\n})\r\nexport class EditBrandsPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3dpZGdldHMvZWRpdC1icmFuZHMvZWRpdC1icmFuZHMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, Events, LoadingController, ModalController } from '@ionic/angular';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { FiltersService } from 'src/app/services/filters/filters.service';\r\nimport { SelectCategoriesPage } from 'src/app/admin/select-categories/select-categories.page';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-edit-brands',\r\n  templateUrl: './edit-brands.page.html',\r\n  styleUrls: ['./edit-brands.page.scss'],\r\n})\r\nexport class EditBrandsPage implements OnInit {\r\n\r\n  SELECT_CATEGORIES_LABELS: any;\r\n    SHARED_LABELS: any;\r\n    addedFilters = {};\r\n    dataList: any = [];\r\n    isLoading = true;\r\n    type = 'brands';\r\n    linkedList = [];\r\n    selectList=[];\r\n    brandId:any;\r\n    sectionName:any;\r\n    sectionIndex:any;\r\n    sections:any\r\n    loading: any\r\n    pageId = ''\r\n    constructor(private alertController: AlertController, private events: Events,private modalController: ModalController,\r\n      private labelService: LabelService,private loadingController: LoadingController,\r\n      private filtersService: FiltersService,private router: Router,private activatedRoute: ActivatedRoute, private angularFirestore: AngularFirestore) { }\r\n    \r\n    ionViewWillEnter() {\r\n      this.activatedRoute.queryParams.subscribe(async params => {\r\n          if (params && params.ID && params.index) {\r\n            this.brandId = params.ID;\r\n            this.sectionIndex = params.index\r\n          }\r\n          if (params && params.pageId) {\r\n            this.pageId = params.pageId;\r\n          }\r\n        });\r\n\r\n      this.initializeSubscriptions();\r\n    }\r\n\r\n    ionViewWillLeave(){\r\n      this.removeSubscriptions()\r\n    }\r\n\r\n    removeSubscriptions(){\r\n      this.events.unsubscribe('widgets:addBrandsSuccess');\r\n      this.events.unsubscribe('widgets:publishWidgetDataSuccess');\r\n      this.events.unsubscribe('widgets:brandUpdateSuccess');\r\n    }\r\n\r\n    initializeSubscriptions(){\r\n      this.events.subscribe('widgets:addBrandsSuccess', () => {\r\n        this.presentAlert('Section created successfully')\r\n        this.router.navigate(['homepage-setting']);\r\n      });\r\n      this.events.subscribe('widgets:brandUpdateSuccess', () => {\r\n        this.presentAlert('Section updated successfully')\r\n        this.router.navigate(['homepage-setting']);\r\n      });\r\n      this.events.subscribe('widgets:publishWidgetDataSuccess',async (data) => {\r\n        let sections:any = await this.angularFirestore.collection('pages').doc(this.pageId).valueChanges().pipe(first()).toPromise();\r\n        if(sections && sections.sections){\r\n          this.sections = sections.sections;\r\n          this.sectionName = sections.sections[this.sectionIndex].sectionName;\r\n        }\r\n        this.dataList.forEach(element => {\r\n          if (data.brandList.indexOf(element.id) > -1){\r\n            element.active = true\r\n            this.selectList.push(element.id)\r\n          }\r\n        });\r\n        if (this.loading){\r\n          this.loading.dismiss()\r\n        }\r\n      });\r\n    }\r\n\r\n    async ngOnInit() {\r\n        this.SELECT_CATEGORIES_LABELS = this.labelService.labels['SELECT_CATEGORIES'];\r\n        this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n        let dbList: any = [];\r\n        if (this.type === 'categories') {\r\n            dbList = await this.filtersService.getCategoriesWithSubcategories(); \r\n        }\r\n        if (this.type === 'brands') {\r\n            dbList = await this.filtersService.getBrands();\r\n        }\r\n          if(this.linkedList.length) {\r\n            dbList.map(parent => {\r\n              if(this.linkedList.includes(parent.id)) {\r\n                parent.active = true;\r\n              }\r\n              if(parent.sublist.length) {\r\n                parent.sublist.map(child => {\r\n                  if(this.linkedList.includes(child.id)) {\r\n                    child.active = true;\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          }\r\n\r\n        this.dataList = dbList;\r\n        console.log('this.dataList', this.dataList);\r\n        this.isLoading = false;\r\n        if (this.brandId){\r\n          this.presentLoading()\r\n          this.events.publish('widgets:getWidgetData', this.brandId);\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.modalController.dismiss();\r\n    }\r\n\r\n    toggleParentCheck(i) {\r\n        this.dataList[i].active = !this.dataList[i].active;\r\n    }\r\n\r\n    selectParent(i) {\r\n      this.dataList[i].active = !this.dataList[i].active;\r\n      if ((this.selectList.indexOf(this.dataList[i].id) > -1) == false){\r\n        this.selectList.push(this.dataList[i].id)\r\n      }\r\n      else if (this.selectList.indexOf(this.dataList[i].id) > -1){\r\n        this.selectList.splice(this.selectList.indexOf(this.dataList[i].id),1)\r\n      }\r\n    }\r\n\r\n    async onClickSave() {\r\n      if(!this.sectionName){\r\n        this.presentAlert('Please Fill the name Properly')\r\n       }\r\n      else if(this.sectionName.length < 5){\r\n        this.presentAlert('Name should be atleast 5 characters')\r\n      }\r\n       else{\r\n        let indexArray = []\r\n        for (let i=0 ; i<this.selectList.length; i++){\r\n         indexArray.push(this.dataList.findIndex(ele => ele.id == this.selectList[i]))\r\n        }\r\n        this.bubbleSort(indexArray)\r\n         if (this.brandId){\r\n          this.sections[this.sectionIndex].sectionName=this.sectionName\r\n          await this.angularFirestore.collection('pages').doc(this.pageId).update({'sections':this.sections});\r\n          this.events.publish('widgets:updateBrands', this.brandId, this.selectList);\r\n         }\r\n         else{\r\n          this.events.publish('widgets:addBrands', this.selectList, this.sectionName, this.pageId);\r\n         }\r\n       }\r\n    }\r\n\r\n    bubbleSort(arr){\r\n      var len = arr.length;\r\n      for (var i = len-1; i>=0; i--){\r\n        for(var j = 1; j<=i; j++){\r\n          if(arr[j-1]>arr[j]){\r\n              var temp = arr[j-1];\r\n              arr[j-1] = arr[j];\r\n              arr[j] = temp;\r\n              var temp2 = this.selectList[j-1];\r\n              this.selectList[j-1] = this.selectList[j];\r\n              this.selectList[j] = temp2;\r\n           }\r\n        }\r\n      }\r\n      return arr;\r\n   }\r\n\r\n    async presentAlert(msg) {\r\n      const alert = await this.alertController.create({\r\n        message: msg,\r\n        buttons: ['OK']\r\n      });\r\n    \r\n      await alert.present();\r\n    }\r\n\r\n    async presentLoading() {\r\n      this.loading = await this.loadingController.create({\r\n        message: 'Please Wait...',\r\n        duration: 10000\r\n      });\r\n      await this.loading.present();\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}