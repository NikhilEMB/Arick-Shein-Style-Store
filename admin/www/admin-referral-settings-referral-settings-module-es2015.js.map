{"version":3,"sources":["./src/app/admin/referral-settings/referral-settings.page.html","./src/app/admin/referral-settings/referral-settings.module.ts","./src/app/admin/referral-settings/referral-settings.page.scss","./src/app/admin/referral-settings/referral-settings.page.ts"],"names":[],"mappings":"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","file":"admin-referral-settings-referral-settings-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Refer And Earn</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main\\\">\\r\\n    <br><br>\\r\\n    <div class=\\\"active\\\">\\r\\n      <p>Active</p>\\r\\n      <div class=\\\"toggle-btn\\\">\\r\\n        <label class=\\\"switch\\\">\\r\\n          <input type=\\\"checkbox\\\" (click)=\\\"referralActiveToggle()\\\" [checked]=\\\"settings.active\\\">\\r\\n          <span class=\\\"slider round\\\"></span>\\r\\n        </label>\\r\\n      </div>\\r\\n    </div>\\r\\n    <br><br>\\r\\n    <div class=\\\"cashback\\\">\\r\\n      <p>Cashback for referrer</p>\\r\\n      <div class=\\\"cashback-type\\\">\\r\\n        <span class=\\\"flat\\\">FLAT</span> \\r\\n        <div class=\\\"toggle-btn\\\">\\r\\n          <label class=\\\"switch\\\">\\r\\n            <input type=\\\"checkbox\\\" (click)=\\\"referrerCashbackTypeToggle()\\\" [checked]=\\\"settings.referrerCashbackType === 'percentage'\\\">\\r\\n            <span class=\\\"slider round\\\"></span>\\r\\n          </label>\\r\\n        </div>\\r\\n        <span class=\\\"percent\\\">%</span>\\r\\n      </div>\\r\\n      <input placeholder=\\\"Enter cashback amount\\\" [(ngModel)]=\\\"settings.referrerCashback\\\" type=\\\"number\\\" class=\\\"form-input\\\" *ngIf=\\\"settings.referrerCashbackType === 'flat'\\\"/>\\r\\n      <input placeholder=\\\"Enter cashback in percentage\\\" [(ngModel)]=\\\"settings.referrerCashbackPercent\\\" type=\\\"number\\\" class=\\\"form-input\\\" *ngIf=\\\"settings.referrerCashbackType === 'percentage'\\\"/>\\r\\n      <br><br>\\r\\n      <p>Cashback for friends who sign up</p>\\r\\n      <input [(ngModel)]=\\\"settings.friendCashback\\\" type=\\\"number\\\" class=\\\"form-input\\\"/>\\r\\n      <br><br>\\r\\n      <p>Number of times cashback to referrer</p>\\r\\n      <input [(ngModel)]=\\\"settings.cashbackCount\\\" type=\\\"number\\\" class=\\\"form-input\\\"/>\\r\\n    </div>\\r\\n    <br>\\r\\n    <div class=\\\"page-footer\\\">\\r\\n      <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n        <ion-button fill=\\\"outline\\\" shape=\\\"round\\\" size=\\\"small\\\" (click)=\\\"onClickSave()\\\">\\r\\n          Save\\r\\n        </ion-button>\\r\\n      </ion-row>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n  \"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ReferralSettingsPage } from './referral-settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReferralSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ReferralSettingsPage]\r\n})\r\nexport class ReferralSettingsPageModule {}\r\n","module.exports = \".main {\\n  padding-left: 50px;\\n  padding-right: 50px;\\n  padding-bottom: 30px;\\n  background: white;\\n  text-align: center;\\n  width: 60vw;\\n  margin: 0% auto;\\n}\\n\\n.active {\\n  font-size: large;\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  width: 200px;\\n}\\n\\ninput {\\n  margin-top: 10px;\\n  width: 200px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  height: 30px;\\n  padding: 10px;\\n}\\n\\nion-toggle {\\n  margin-top: -10px;\\n}\\n\\n.cashback-type {\\n  margin-top: 10px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.cashback-type .flat {\\n  margin-right: 10px;\\n}\\n\\n.cashback-type .percent {\\n  margin-left: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vcmVmZXJyYWwtc2V0dGluZ3MvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFxyZWZlcnJhbC1zZXR0aW5nc1xccmVmZXJyYWwtc2V0dGluZ3MucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9yZWZlcnJhbC1zZXR0aW5ncy9yZWZlcnJhbC1zZXR0aW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLGdCQUFBO0VBQ0EsMkJBQUE7RUFBQSxvQkFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0FDQ0o7O0FER0k7RUFDSSxnQkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHdCQUFBO1VBQUEsdUJBQUE7QUNBUjs7QURDUTtFQUNJLGtCQUFBO0FDQ1o7O0FEQ1E7RUFDSSxpQkFBQTtBQ0NaIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vcmVmZXJyYWwtc2V0dGluZ3MvcmVmZXJyYWwtc2V0dGluZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW57XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDUwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1MHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDMwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiA2MHZ3O1xyXG4gICAgbWFyZ2luOiAwJSBhdXRvXHJcbn1cclxuXHJcbi5hY3RpdmV7XHJcbiAgICBmb250LXNpemU6IGxhcmdlO1xyXG4gICAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICB3aWR0aDogMjAwcHhcclxufVxyXG5cclxuaW5wdXR7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGhlaWdodDogMzBweDtcclxuICAgIHBhZGRpbmc6IDEwcHhcclxufVxyXG5cclxuaW9uLXRvZ2dsZXtcclxuICAgIG1hcmdpbi10b3A6IC0xMHB4XHJcbn1cclxuXHJcbi5jYXNoYmFjayB7XHJcbiAgICAmLXR5cGUge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAuZmxhdCB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnBlcmNlbnQge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIubWFpbiB7XG4gIHBhZGRpbmctbGVmdDogNTBweDtcbiAgcGFkZGluZy1yaWdodDogNTBweDtcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiA2MHZ3O1xuICBtYXJnaW46IDAlIGF1dG87XG59XG5cbi5hY3RpdmUge1xuICBmb250LXNpemU6IGxhcmdlO1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB3aWR0aDogMjAwcHg7XG59XG5cbmlucHV0IHtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgd2lkdGg6IDIwMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGhlaWdodDogMzBweDtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuaW9uLXRvZ2dsZSB7XG4gIG1hcmdpbi10b3A6IC0xMHB4O1xufVxuXG4uY2FzaGJhY2stdHlwZSB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLmNhc2hiYWNrLXR5cGUgLmZsYXQge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG4uY2FzaGJhY2stdHlwZSAucGVyY2VudCB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, Events, LoadingController } from '@ionic/angular';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-referral-settings',\r\n  templateUrl: './referral-settings.page.html',\r\n  styleUrls: ['./referral-settings.page.scss'],\r\n})\r\nexport class ReferralSettingsPage implements OnInit {\r\n\r\n  headerText = '';\r\n  SHARED_LABELS: any;\r\n  REFERRAL_SETTINGS_LABELS: any;\r\n  settings = {\r\n    active: false,\r\n    referrerCashback: 0,\r\n    friendCashback: 0,\r\n    cashbackCount: 1,\r\n    referrerCashbackType: 'flat',\r\n    referrerCashbackPercent: 0\r\n  }\r\n  loading: any;\r\n  referralFeature = false;\r\n  constructor(private labelService: LabelService,\r\n              private events: Events,\r\n              private loadingController: LoadingController,\r\n              private alertController: AlertController,\r\n              private configService: ConfigService,\r\n              private router: Router) { }\r\n\r\n  async ionViewWillEnter(){\r\n    this.referralFeature = this.configService.environment.referralFeature;\r\n    if (this.referralFeature==false){\r\n      const alert = await this.alertController.create({\r\n        message: \"Sorry, this feature is not available. Please upgrade your plan for access\",\r\n        buttons: ['ok']\r\n      });\r\n      alert.onWillDismiss().then(()=>{\r\n        this.router.navigate(['admin-home']);\r\n      })\r\n      await alert.present();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n    this.REFERRAL_SETTINGS_LABELS = this.labelService.labels['REFERRAL_SETTINGS'];\r\n    this.headerText = this.REFERRAL_SETTINGS_LABELS['header_text'];\r\n    this.initializeSubscriptions();\r\n    this.events.publish('referral:getReferralSettings');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.removeSubscriptions();\r\n  }\r\n\r\n\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('referral:publishReferralSettings', (data) => {\r\n      console.log(\"running\")\r\n      if(!this.isEmptyObj(data)) {\r\n        this.settings = {...this.settings, ...data};\r\n        console.log('settings', this.settings);\r\n      }\r\n    });\r\n    this.events.subscribe('referral:saveSettingsSuccess', () => {\r\n      if (this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n      this.presentAlert(this.REFERRAL_SETTINGS_LABELS['save_settings_msg'])\r\n    });\r\n  }\r\n\r\n  isEmptyObj(object) {\r\n    for(var key in object) {\r\n      if(object.hasOwnProperty(key))\r\n        return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async onClickSave() {\r\n    if(!this.settings.friendCashback || !this.settings.referrerCashback) {\r\n      this.presentAlert(this.REFERRAL_SETTINGS_LABELS['provide_valid_details']);\r\n    } else {\r\n      await this.presentLoading();\r\n      this.events.publish('referral:saveSettings', this.settings);\r\n    }\r\n    \r\n  }\r\n\r\n  referralActiveToggle() {\r\n    this.settings.active = !this.settings.active;\r\n  }\r\n\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: this.SHARED_LABELS['please_wait'],\r\n      duration: 5000,\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async presentAlert(msg: string) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: [`${this.SHARED_LABELS['ok']}`]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  referrerCashbackTypeToggle() {\r\n    if(this.settings.referrerCashbackType === 'flat') {\r\n      this.settings.referrerCashbackType = 'percentage';\r\n    } else {\r\n      this.settings.referrerCashbackType = 'flat';\r\n    }\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('referral:publishReferralSettings');\r\n    this.events.unsubscribe('referral:saveSettingsSuccess');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}