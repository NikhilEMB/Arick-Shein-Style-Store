{"version":3,"sources":["./src/app/admin/email-sms/email-sms.page.html","./src/app/admin/email-sms/email-sms.module.ts","./src/app/admin/email-sms/email-sms.page.scss","./src/app/admin/email-sms/email-sms.page.ts"],"names":[],"mappings":"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","file":"admin-email-sms-email-sms-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>Email & SMS Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<super-tabs no-shadow no-border>\\r\\n  <super-tabs-toolbar slot=\\\"top\\\">\\r\\n    <super-tab-button>\\r\\n      <ion-label>Email Settings</ion-label>\\r\\n    </super-tab-button>\\r\\n    <super-tab-button>\\r\\n      <ion-label>SMS Settings</ion-label>\\r\\n    </super-tab-button>\\r\\n  </super-tabs-toolbar>\\r\\n  <super-tabs-container swipeEnabled=\\\"false\\\">\\r\\n    <!-- Email Tab -->\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n        <div class=\\\"main-container fixed-height\\\">\\r\\n          <ion-grid>\\r\\n            <ion-row>\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <div class=\\\"flex-label\\\">\\r\\n                    <ion-label>Send Custom Emails with Sendgrid</ion-label>\\r\\n                    <ion-toggle [(ngModel)]=\\\"emailSettings.active\\\"></ion-toggle>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"emailSettings.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Email</ion-label>\\r\\n                  <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"emailSettings.email\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"emailSettings.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>API Key</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"emailSettings.apiKey\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </div>\\r\\n      </ion-content>\\r\\n      <ion-footer no-border class=\\\"page-footer\\\">\\r\\n        <div class=\\\"main-container\\\">\\r\\n          <ion-button (click)=\\\"saveEmailSettings()\\\" [disabled] = disableEmailSave()\\r\\n            shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n            <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n            Save Email Settings\\r\\n          </ion-button>\\r\\n        </div>\\r\\n      </ion-footer>\\r\\n    </super-tab>\\r\\n\\r\\n    <!-- SMS Tab -->\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n        <div class=\\\"main-container fixed-height\\\">\\r\\n          <ion-grid>\\r\\n            <ion-row>\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <div class=\\\"flex-label\\\">\\r\\n                    <ion-label>Send Custom SMS with Twilio</ion-label>\\r\\n                    <ion-toggle [(ngModel)]=\\\"smsSettings.active\\\"></ion-toggle>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Account SID</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.accountSid\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Auth Token</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.authToken\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Valid Twilio number</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" placeholder=\\\"Ex: +1312626****\\\" [(ngModel)]=\\\"smsSettings.twilioNumber\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <div class=\\\"flex-label\\\">\\r\\n                  <ion-label>Set your own msg91 credentials:</ion-label>\\r\\n                  <ion-toggle [(ngModel)]=\\\"smsSettings.msg91.active\\\"></ion-toggle>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>SMS Sender Id:</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.smsSenderId\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>SMS Key:</ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.smsKey\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <br>\\r\\n              <p *ngIf=\\\"smsSettings.msg91.active\\\" style=\\\"text-decoration: underline;margin: 5px;\\\">Template Ids</p>\\r\\n              <br>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Confirmed: </ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.templateId.confirmed\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Cancelled: </ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.templateId.cancelled\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Delivered: </ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.templateId.delivered\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"12\\\" *ngIf=\\\"smsSettings.msg91.active\\\">\\r\\n                <div class=\\\"input-wrap\\\">\\r\\n                  <ion-label>Dispatched: </ion-label>\\r\\n                  <ion-input type=\\\"text\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"smsSettings.msg91.templateId.dispatched\\\"></ion-input>\\r\\n                </div>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </div>\\r\\n      </ion-content>\\r\\n      <ion-footer no-border class=\\\"page-footer\\\">\\r\\n        <div class=\\\"main-container\\\">\\r\\n          <ion-button (click)=\\\"saveSmsSettings()\\\" [disabled]=\\\"disableSmsSave()\\\"\\r\\n            shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n            <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n            Save SMS Settings\\r\\n          </ion-button>\\r\\n        </div>\\r\\n      </ion-footer>\\r\\n    </super-tab>\\r\\n\\r\\n  </super-tabs-container>\\r\\n</super-tabs>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EmailSmsPage } from './email-sms.page';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EmailSmsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SuperTabsModule\r\n  ],\r\n  declarations: [EmailSmsPage]\r\n})\r\nexport class EmailSmsPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL2VtYWlsLXNtcy9lbWFpbC1zbXMucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, Events } from '@ionic/angular';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-email-sms',\r\n  templateUrl: './email-sms.page.html',\r\n  styleUrls: ['./email-sms.page.scss'],\r\n})\r\nexport class EmailSmsPage implements OnInit {\r\n  emailSettings = {\r\n    active: false,\r\n    email: '',\r\n    apiKey: '',\r\n  };\r\n  smsSettings = {\r\n    active: false,\r\n    accountSid: '',\r\n    authToken: '',\r\n    twilioNumber: '',\r\n    msg91: {\r\n      active: false,\r\n      smsSenderId: '',\r\n      smsKey: '',\r\n      templateId: {\r\n        cancelled: '',\r\n        confirmed: '',\r\n        delivered: '',\r\n        dispatched: ''\r\n      }\r\n    }\r\n  };\r\n\r\n  constructor(private events: Events,\r\n              private router: Router,\r\n              private sharedService: SharedService,\r\n              private alertController: AlertController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    this.initializeSubscriptions();\r\n  }\r\n  ionViewWillLeave() {\r\n    this.removeSubscriptions();\r\n  }\r\n  initializeSubscriptions() {\r\n\r\n    this.events.subscribe('email-sms:saveSettingsSuccess', async (settingType) => {\r\n      this.sharedService.loading.dismiss();\r\n      this.sharedService.presentAlert(`${settingType.charAt(0).toUpperCase() + settingType.slice(1)} Settings Saved Successfully`);\r\n    });\r\n    this.events.subscribe('email-sms:saveSettingsFailure', (errMessage) => {\r\n      console.log('details Failure', errMessage);\r\n    });\r\n\r\n    this.events.subscribe('email-sms:getSettingsSuccess', (doc, settingType) => {\r\n      console.log('doc:', doc);\r\n      if (settingType === 'email' && doc.active) {\r\n        this.emailSettings.active = doc.active;\r\n        this.emailSettings.email = doc.email;\r\n        this.emailSettings.apiKey = doc.apiKey;\r\n      } else if (settingType === 'sms' && doc) {\r\n          this.smsSettings.active = doc.active;\r\n          this.smsSettings.accountSid = doc.accountSid;\r\n          this.smsSettings.authToken = doc.authToken;\r\n          this.smsSettings.twilioNumber = doc.twilioNumber;\r\n          if (doc.msg91){\r\n            this.smsSettings.msg91 = doc.msg91;\r\n          }\r\n      }\r\n    });\r\n    this.events.subscribe('email-sms:getSettingsFailure', (errMessage) => {\r\n      console.log('details Failure', errMessage);\r\n    });\r\n\r\n    this.events.publish('email-sms:getSettings', 'email');\r\n    this.events.publish('email-sms:getSettings', 'sms');\r\n\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('email-sms:saveSettingsSuccess');\r\n    this.events.unsubscribe('email-sms:saveSettingsFailure');\r\n    this.events.unsubscribe('email-sms:getSettingsSuccess');\r\n    this.events.unsubscribe('email-sms:getSettingsFailure');\r\n  }\r\n\r\n  disableEmailSave() {\r\n    if (this.emailSettings.email === '' || this.emailSettings.apiKey === '') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  disableSmsSave() {\r\n    if (this.smsSettings.active && (this.smsSettings.accountSid === '' || this.smsSettings.authToken === '' || this.smsSettings.twilioNumber === '')) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async saveEmailSettings() {\r\n    console.log('emailsettings:', this.emailSettings);\r\n    await this.sharedService.presentLoading();\r\n    this.emailSettings.email.trim();\r\n    this.emailSettings.apiKey.trim();\r\n    this.events.publish('email-sms:saveSettings', this.emailSettings, 'email', '');\r\n  }\r\n\r\n  async saveSmsSettings() {\r\n    if (this.smsSettings.msg91.active && (!this.smsSettings.msg91.smsKey || !this.smsSettings.msg91.templateId.cancelled || !this.smsSettings.msg91.templateId.confirmed\r\n      || !this.smsSettings.msg91.templateId.dispatched || !this.smsSettings.msg91.templateId.delivered)){\r\n        await this.sharedService.presentAlert('Please fill all details!')\r\n    }\r\n    else{\r\n      await this.sharedService.presentLoading();\r\n      this.smsSettings.accountSid.trim();\r\n      this.smsSettings.authToken.trim();\r\n      this.smsSettings.twilioNumber.trim();\r\n      this.events.publish('email-sms:saveSettings', this.smsSettings, 'sms', '');\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}