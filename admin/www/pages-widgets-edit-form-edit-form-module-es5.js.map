{"version":3,"sources":["./src/app/pages/widgets/edit-form/edit-form.page.html","./src/app/pages/widgets/edit-form/edit-form.module.ts","./src/app/pages/widgets/edit-form/edit-form.page.scss","./src/app/pages/widgets/edit-form/edit-form.page.ts"],"names":[],"mappings":"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","file":"pages-widgets-edit-form-edit-form-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\"\\r\\n        defaultHref=\\\"homepage-setting\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\"\\r\\n      slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>{{mode=='new'? 'create new' : 'edit'}} Form</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <div style=\\\"text-align: center;\\\">\\r\\n      <ion-button (click)=\\\"saveWidget()\\\"\\r\\n        color=\\\"success\\\"\\r\\n        fill=\\\"outline\\\"\\r\\n        shape=\\\"round\\\">\\r\\n        Save Form\\r\\n      </ion-button>&nbsp;&nbsp;\\r\\n      <ion-button (click)=\\\"previewForm()\\\"\\r\\n        color=\\\"secondary\\\"\\r\\n        fill=\\\"outline\\\"\\r\\n        shape=\\\"round\\\">\\r\\n        Preview Form\\r\\n      </ion-button>\\r\\n    </div>\\r\\n    <br><br>\\r\\n    <ion-col style=\\\"display: flex;align-items: center\\\">\\r\\n      <ion-label>Allow multiple submissions for form </ion-label>&nbsp;&nbsp;\\r\\n      <div class=\\\"toggle-btn\\\">\\r\\n        <label class=\\\"switch\\\">\\r\\n          <input color=\\\"primary\\\"\\r\\n            type=\\\"checkbox\\\"\\r\\n            [checked]=\\\"multipleSubmissions\\\"\\r\\n            (click)=\\\"changeMultipleStatus()\\\">\\r\\n          <span class=\\\"slider round\\\"></span>\\r\\n        </label>\\r\\n      </div>&nbsp;&nbsp;\\r\\n    </ion-col>\\r\\n    <br>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"input-wrap\\\">\\r\\n        <ion-label>Form Title</ion-label>\\r\\n        <ion-input class=\\\"form-input\\\"\\r\\n          [(ngModel)]=\\\"formTitle\\\"></ion-input>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n\\r\\n    <!-- Form Type Selection -->\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <label for=\\\"\\\">Select Form Type</label>&nbsp;&nbsp;\\r\\n      <select class=\\\"selectFrom\\\" [(ngModel)]=\\\"formType\\\">\\r\\n        <option value=\\\"vendor\\\">vendor</option>\\r\\n        <option value=\\\"others\\\">Others</option>\\r\\n      </select>\\r\\n    </ion-col>\\r\\n    <!-- Form Type Selection -->\\r\\n\\r\\n    <br><br>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"flex-space-between\\\">\\r\\n        <div>\\r\\n          <ion-label>Banner Image</ion-label>\\r\\n          <ion-text color=\\\"danger\\\">\\r\\n            <p style=\\\"margin-top: 5px\\\">Image size for best view : 1366x400 Px\\r\\n            </p>\\r\\n          </ion-text>\\r\\n        </div>\\r\\n        <div class=\\\"upload-btn-wrapper\\\">\\r\\n          <button\\r\\n            [disabled]=\\\"widgetData && widgetData.banner && widgetData.banner.url\\\"\\r\\n            class=\\\"upload-btn btn-1 i-start\\\"\\r\\n            (click)=\\\"uploadImage($event.target.files)\\\"> <i\\r\\n              class=\\\"flaticon-null-16\\\"></i>Upload Banner Image</button>\\r\\n          <!-- <input  [disabled]=\\\"widgetData && widgetData.banner && widgetData.banner.url\\\" type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"uploadImage($event.target.files)\\\" /> -->\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"img-container\\\">\\r\\n        <div class=\\\"no-img\\\"\\r\\n          *ngIf=\\\"widgetData && !widgetData.banner\\\">\\r\\n          <p>No Banner image</p>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"widgetData && widgetData.banner\\\">\\r\\n          <div class=\\\"img-wrap\\\"\\r\\n            *ngIf=\\\"widgetData.banner.url\\\">\\r\\n            <img class=\\\"category-img\\\"\\r\\n              [src]=\\\"widgetData.banner.url\\\" />\\r\\n            <div class=\\\"overlay\\\">\\r\\n              <ion-button class=\\\"btn-2 remove\\\"\\r\\n                shape=\\\"round\\\"\\r\\n                fill=\\\"clear\\\"\\r\\n                color=\\\"danger\\\"\\r\\n                (click)=\\\"removeImage()\\\">\\r\\n                <ion-icon name=\\\"trash\\\"\\r\\n                  slot=\\\"icon-only\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n    <br><br>\\r\\n    <ion-button (click)=\\\"addInput()\\\">\\r\\n      Add form input\\r\\n    </ion-button>\\r\\n    <br><br>\\r\\n    <div *ngIf=\\\"inputs.length > 0\\\"\\r\\n      class=\\\"m-t-10\\\">\\r\\n      <ion-grid class=\\\"ion-no-padding data-table ion-text-center\\\">\\r\\n        <ion-row class=\\\"ion-text-capitalize\\\"\\r\\n          style=\\\"background: lightgray\\\">\\r\\n          <ion-col>Reorder</ion-col>\\r\\n          <ion-col>Name</ion-col>\\r\\n          <ion-col>Type</ion-col>\\r\\n          <ion-col>Required</ion-col>\\r\\n          <ion-col>Remove</ion-col>\\r\\n        </ion-row>\\r\\n        <ion-reorder-group (ionItemReorder)=\\\"onReorderInputs($event)\\\"\\r\\n          disabled=\\\"false\\\"\\r\\n          class=\\\"ion-no-padding\\\">\\r\\n          <ion-row *ngFor=\\\"let input of inputs; let i=index;\\\">\\r\\n            <ion-col class=\\\"reorder\\\">\\r\\n              <ion-reorder>\\r\\n                <div class=\\\"flat-sort\\\">\\r\\n                  <i class=\\\"flaticon-menu\\\"></i>\\r\\n                </div>\\r\\n              </ion-reorder>\\r\\n            </ion-col>\\r\\n            <ion-col>\\r\\n              {{input.name}}\\r\\n            </ion-col>\\r\\n            <ion-col>\\r\\n              {{input.type}}\\r\\n            </ion-col>\\r\\n            <ion-col>\\r\\n              {{input.required}}\\r\\n            </ion-col>\\r\\n            <ion-col (click)=\\\"removeInput(i)\\\">\\r\\n              <i class=\\\"flaticon-null-17\\\"></i>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-reorder-group>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    <br><br>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"input-wrap\\\">\\r\\n        <ion-label>Submit button name</ion-label>\\r\\n        <ion-input class=\\\"form-input\\\"\\r\\n          [(ngModel)]=\\\"buttonName\\\"></ion-input>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditFormPage } from './edit-form.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditFormPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [EditFormPage]\r\n})\r\nexport class EditFormPageModule {}\r\n","module.exports = \".form-input {\\n  border: 1px solid gray;\\n  background: var(--ion-color-light);\\n  margin-top: 12px;\\n  border-radius: 8px;\\n  --padding-top: 12px;\\n  --padding-bottom: 12px;\\n  --padding-start: 16px;\\n  --padding-end: 16px;\\n}\\n\\nion-grid ion-col {\\n  border: 1px solid gray;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.selectFrom {\\n  padding: 8px;\\n  margin-top: 1rem;\\n  border-radius: 8px;\\n  border: 1px solid gray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvd2lkZ2V0cy9lZGl0LWZvcm0vQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXHBhZ2VzXFx3aWRnZXRzXFxlZGl0LWZvcm1cXGVkaXQtZm9ybS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3dpZGdldHMvZWRpdC1mb3JtL2VkaXQtZm9ybS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtFQUNBLGtDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0Esc0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0FDQ0o7O0FESUk7RUFDRSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUNETjs7QURLRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUNGSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3dpZGdldHMvZWRpdC1mb3JtL2VkaXQtZm9ybS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1pbnB1dHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xyXG4gICAgbWFyZ2luLXRvcDogMTJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIC0tcGFkZGluZy10b3A6IDEycHg7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiAxMnB4O1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAxNnB4O1xyXG4gICAgLS1wYWRkaW5nLWVuZDogMTZweDtcclxuICB9XHJcblxyXG5cclxuICBpb24tZ3JpZCB7XHJcbiAgICBpb24tY29se1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgICAgcGFkZGluZy1ib3R0b206IDEwcHhcclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuICAuc2VsZWN0RnJvbXtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gIH0iLCIuZm9ybS1pbnB1dCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIG1hcmdpbi10b3A6IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgLS1wYWRkaW5nLXRvcDogMTJweDtcbiAgLS1wYWRkaW5nLWJvdHRvbTogMTJweDtcbiAgLS1wYWRkaW5nLXN0YXJ0OiAxNnB4O1xuICAtLXBhZGRpbmctZW5kOiAxNnB4O1xufVxuXG5pb24tZ3JpZCBpb24tY29sIHtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG4uc2VsZWN0RnJvbSB7XG4gIHBhZGRpbmc6IDhweDtcbiAgbWFyZ2luLXRvcDogMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Events, AlertController, LoadingController, ModalController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport * as firebase from 'firebase';\r\nimport { AddInputPage } from 'src/app/pages/widgets/edit-form/add-input/add-input.page'\r\nimport { PreviewFormPage } from 'src/app/pages/widgets/edit-form/preview-form/preview-form.page'\r\nimport { ImageEditorComponent } from 'src/app/components/image-editor/image-editor.component';\r\n@Component({\r\n  selector: 'app-edit-form',\r\n  templateUrl: './edit-form.page.html',\r\n  styleUrls: ['./edit-form.page.scss'],\r\n})\r\nexport class EditFormPage implements OnInit {\r\n\r\n  formTitle: any;\r\n  buttonName: any;\r\n  loading: any;\r\n  mode = 'new';\r\n  widgetData: any = {\r\n    banner: { url: '' }\r\n  };\r\n  widgetId: any\r\n  pageId = ''\r\n  type: any\r\n  inputs = []\r\n  multipleSubmissions = false\r\n  formType = 'others'\r\n\r\n  constructor(private events: Events,\r\n    private router: Router,\r\n    private alertController: AlertController,\r\n    private loadingController: LoadingController,\r\n    private activatedRoute: ActivatedRoute,\r\n    private modalController: ModalController,\r\n    private angularFirestore: AngularFirestore) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.activatedRoute.queryParams.subscribe(async params => {\r\n      if (params && params.ID) {\r\n        console.log('here', params.ID)\r\n        this.widgetId = params.ID;\r\n        this.events.publish('widgets:getWidgetData', this.widgetId);\r\n      }\r\n\r\n      if (params && params.pageId) {\r\n        this.pageId = params.pageId;\r\n      }\r\n\r\n      if (params && params.type) {\r\n        this.type = params.type\r\n      }\r\n    });\r\n\r\n    this.initializeSubscriptions();\r\n  }\r\n\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('widgets:publishWidgetDataSuccess', async (data) => {\r\n      this.widgetData = data;\r\n      this.mode = 'edit';\r\n      if (this.widgetData && this.widgetData.formTitle) {\r\n        this.formTitle = this.widgetData.formTitle\r\n      }\r\n      if (this.widgetData && this.widgetData.buttonName) {\r\n        this.buttonName = this.widgetData.buttonName\r\n      }\r\n      if (this.widgetData && this.widgetData.inputs) {\r\n        this.inputs = this.widgetData.inputs\r\n      }\r\n      if (this.widgetData && this.widgetData.multipleSubmissions) {\r\n        this.multipleSubmissions = this.widgetData.multipleSubmissions\r\n      }\r\n      this.formType = \"formType\" in this.widgetData ? this.widgetData.formType : this.formType;\r\n      if (this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n    });\r\n\r\n    this.events.subscribe('widgets:addFormSuccess', async (Id) => {\r\n      if (this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n      this.presentAlert('Form saved successfully')\r\n      this.mode = 'edit';\r\n      this.router.navigate(['forms']);\r\n      // this.widgetId = Id;\r\n      // let widget = {\r\n      //   widgetID: this.widgetId,\r\n      //   widgetType: this.type,\r\n      //   location: \"all\"\r\n      // }\r\n      // await this.angularFirestore.collection('pages').doc(this.pageId).update({ sections: firebase.firestore.FieldValue.arrayUnion(widget) });\r\n      // this.presentAlert('Form saved successfully')\r\n      // this.mode = 'edit';\r\n      // if (this.loading) {\r\n      //   this.loading.dismiss();\r\n      // }\r\n    });\r\n\r\n    this.events.subscribe('widgets:addFormError', () => {\r\n      if (this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n      this.presentAlert('Save form failed, please try again')\r\n    });\r\n\r\n  }\r\n\r\n  async saveWidget() {\r\n    if (!this.formTitle) {\r\n      this.presentAlert('Please fill the form title')\r\n    }\r\n    else if (!this.buttonName) {\r\n      this.presentAlert('Please fill the button name')\r\n    }\r\n    else {\r\n      if (this.mode == 'new') {\r\n        this.type = 'form';\r\n        this.presentLoading()\r\n        let widgetData = {\r\n          formTitle: this.formTitle,\r\n          buttonName: this.buttonName,\r\n          inputs: this.inputs,\r\n          banner: this.widgetData.banner,\r\n          type: this.type,\r\n          multipleSubmissions: this.multipleSubmissions,\r\n          formType: this.formType,\r\n        }\r\n        this.events.publish('widgets:saveForm', widgetData);\r\n      }\r\n      else {\r\n        this.presentLoading()\r\n        let widgetData = {\r\n          formTitle: this.formTitle,\r\n          buttonName: this.buttonName,\r\n          inputs: this.inputs,\r\n          banner: this.widgetData.banner,\r\n          type: 'form',\r\n          multipleSubmissions: this.multipleSubmissions,\r\n          formType: this.formType,\r\n        }\r\n        try {\r\n          await this.angularFirestore.collection('widgets').doc(this.widgetId).update(widgetData);\r\n          if (this.loading) {\r\n            this.loading.dismiss();\r\n          }\r\n          this.presentAlert('Form updated successfully')\r\n        }\r\n        catch (error) {\r\n          console.log(error)\r\n          if (this.loading) {\r\n            this.loading.dismiss();\r\n          }\r\n          this.presentAlert('Form update failed')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async uploadImage(files: FileList) {\r\n    const modal = await this.modalController.create({\r\n      component: ImageEditorComponent,\r\n      cssClass: 'custom-img-editor',\r\n      componentProps: {\r\n        aspectRatioWidthVal: 3.42,\r\n        aspectRatioHeightVal: 1,\r\n      },\r\n    })\r\n    await modal.present();\r\n    modal.onDidDismiss().then(res => {\r\n      this.widgetData.banner.url = res.data || '';\r\n    })\r\n    //console.log(type);\r\n    // for (let i = 0; i < files.length; i++) {\r\n    //   let reader = new FileReader();\r\n    //   reader.readAsDataURL(files.item(i))\r\n    //   reader.onload = (event:any) => { // called once readAsDataURL is completed\r\n    //     let base64Image:any = event.target.result;\r\n    //     this.widgetData.banner.url = base64Image;\r\n    //     console.log(this.widgetData.banner.url)\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  removeImage() {\r\n    this.widgetData.banner.url = '';\r\n  }\r\n\r\n  async addInput() {\r\n    const modal = await this.modalController.create({\r\n      component: AddInputPage,\r\n      cssClass: 'custom-modal'\r\n    })\r\n    modal.onDidDismiss()\r\n      .then((res) => {\r\n        if (res.data) {\r\n          this.inputs.push(res.data)\r\n          console.log(this.inputs)\r\n        }\r\n      })\r\n    await modal.present();\r\n  }\r\n\r\n  async previewForm() {\r\n    const modal = await this.modalController.create({\r\n      component: PreviewFormPage,\r\n      cssClass: 'custom-modal',\r\n      componentProps: {\r\n        'formData': {\r\n          formTitle: this.formTitle,\r\n          buttonName: this.buttonName,\r\n          inputs: this.inputs,\r\n          banner: this.widgetData.banner\r\n        }\r\n      }\r\n    })\r\n    await modal.present();\r\n  }\r\n\r\n  removeInput(i) {\r\n    this.inputs.splice(i, 1);\r\n  }\r\n\r\n  onReorderInputs(event) {\r\n    const draggedItem = this.inputs.splice(event.detail.from, 1)[0];\r\n    this.inputs.splice(event.detail.to, 0, draggedItem);\r\n    event.detail.complete();\r\n  }\r\n\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait...'\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async presentAlert(msg) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  changeMultipleStatus() {\r\n    this.multipleSubmissions = !this.multipleSubmissions\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.removeSubscriptions();\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('widgets:publishWidgetDataSuccess');\r\n    this.events.unsubscribe('widgets:widgetAddedSuccess');\r\n    this.events.unsubscribe('widgets:addFormSuccess');\r\n    this.events.unsubscribe('widgets:addFormError');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}