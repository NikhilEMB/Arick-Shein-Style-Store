{"version":3,"sources":["./src/app/order-payment/order-payment.page.html","./src/app/order-payment/order-payment.module.ts","./src/app/order-payment/order-payment.page.scss","./src/app/order-payment/order-payment.page.ts"],"names":[],"mappings":"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","file":"order-payment-order-payment-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar class=\\\"toolbar\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"chat-bot\\\" class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title text-center *ngIf=\\\"orderData\\\">Order: ORD{{orderData[0].orderId}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <br>\\r\\n  <div *ngIf=\\\"showLoader; else showOrderDetails\\\" class=\\\"spinner\\\">\\r\\n    <ion-spinner color=\\\"primary\\\"></ion-spinner>\\r\\n  </div>\\r\\n  <ng-template #showOrderDetails>\\r\\n    <div class=\\\"price-card\\\">\\r\\n      <p class=\\\"price-details\\\">Price Details</p>\\r\\n      <hr class=\\\"line\\\">\\r\\n        <ion-grid class=\\\"ion-no-padding\\\">\\r\\n          <ion-row class=\\\"ion-justify-content-between ion-no-padding\\\">\\r\\n            <ion-col class=\\\"ion-no-padding\\\">\\r\\n              <p class=\\\"total-items\\\">Price ({{getTotalItems()}} items)</p>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-no-padding price-total\\\">\\r\\n              <p>{{orderData[0].productsPrice | currency: 'INR':true:'0.0'}}</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-no-padding\\\" *ngIf=\\\"orderData[0].couponDiscount !== 0\\\">\\r\\n            <ion-col class=\\\"ion-no-padding\\\">\\r\\n              <p class=\\\"total-items\\\">Coupon Discount</p>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-no-padding price-total\\\">\\r\\n              <p style=\\\"color: var(--ion-color-success);\\\">{{orderData[0].couponDiscount | currency: 'INR':true:'0.0'}}</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-no-padding\\\">\\r\\n            <ion-col class=\\\"ion-no-padding\\\">\\r\\n              <p class=\\\"total-items\\\">Delivery</p>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-no-padding price-total\\\">\\r\\n              <p *ngIf=\\\"orderData[0].delivery !== 0\\\">{{orderData[0].delivery | currency: 'INR':true:'0.0'}}</p>\\r\\n              <p *ngIf=\\\"orderData[0].delivery === 0\\\" style=\\\"color: var(--ion-color-success);\\\">Free</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <ion-row class=\\\"ion-no-padding\\\" *ngIf=\\\"orderData[0].defaultGst !== 0\\\">\\r\\n            <ion-col class=\\\"ion-no-padding\\\">\\r\\n              <p class=\\\"total-items\\\">GST</p>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-no-padding price-total\\\">\\r\\n              <p>{{orderData[0].defaultGst | currency: 'INR':true:'0.0'}}</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n\\r\\n          <hr class=\\\"line\\\">\\r\\n          <ion-row class=\\\"ion-no-padding\\\">\\r\\n            <ion-col class=\\\"ion-no-padding\\\">\\r\\n              <p class=\\\"total-estimated\\\">Total Amount</p>\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"ion-no-padding estimated-price\\\">\\r\\n              <p>{{orderData[0].totalAmountToPaid | currency: 'INR':true:'0.0'}}</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n    </div>\\r\\n    <div class=\\\"payment-methods\\\">\\r\\n      <p class=\\\"payment-modes\\\">Payment Modes</p>\\r\\n      <hr class=\\\"line\\\">\\r\\n      <ion-list lines=\\\"none\\\">\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('cash')\\\" detail class=\\\"ion-no-padding ion-item\\\">\\r\\n            <ion-label>\\r\\n              <h4>Cash On Delivery</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('paytm')\\\" detail *ngIf=\\\"paytmActive\\\" class=\\\"ion-no-padding ion-item\\\">\\r\\n            <ion-label>\\r\\n              <h4>Paytm</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('card')\\\" detail *ngIf=\\\"razorpayActive\\\" class=\\\"ion-no-padding ion-item\\\">\\r\\n            <ion-label class=\\\"ion-text-wrap\\\">\\r\\n              <h4>Credit/Debit Cards</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('wallet')\\\" detail *ngIf=\\\"razorpayActive\\\" class=\\\"ion-no-padding ion-item\\\">\\r\\n            <ion-label class=\\\"ion-text-wrap\\\">\\r\\n              <h4>Wallets</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('upi')\\\" detail *ngIf=\\\"razorpayActive\\\" class=\\\"ion-no-padding ion-item\\\">\\r\\n            <ion-label class=\\\"ion-text-wrap\\\">\\r\\n              <h4>UPI</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item button (click)=\\\"onClickPaymentMode('netbanking')\\\" detail *ngIf=\\\"razorpayActive\\\" class=\\\"ion-no-padding\\\">\\r\\n            <ion-label class=\\\"ion-text-wrap\\\">\\r\\n              <h4>Netbanking</h4>\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n\\r\\n      </ion-list>\\r\\n    </div>\\r\\n  </ng-template>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { OrderPaymentPage } from './order-payment.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrderPaymentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [OrderPaymentPage]\r\n})\r\nexport class OrderPaymentPageModule {}\r\n","module.exports = \"ion-content {\\n  --background: #F2F2F2;\\n}\\n\\n.price-card {\\n  background: white;\\n  padding: 10px 10px 0px 10px;\\n  margin: 6px 12px 12px 12px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n}\\n\\n.price-details {\\n  font-size: 14px;\\n  text-transform: uppercase;\\n  opacity: 0.7;\\n}\\n\\n.line {\\n  border: 0;\\n  clear: both;\\n  display: block;\\n  width: 100%;\\n  background-color: #ccc;\\n  height: 1px;\\n  opacity: 0.4;\\n}\\n\\n.total-items {\\n  font-size: 13px;\\n}\\n\\n.price-total {\\n  text-align: end;\\n}\\n\\n.price-total p {\\n  font-size: 15px;\\n}\\n\\n.total-estimated {\\n  font-size: 16px;\\n}\\n\\n.estimated-price {\\n  text-align: end;\\n}\\n\\n.estimated-price p {\\n  font-size: 17px;\\n  color: var(--ion-color-primary);\\n}\\n\\n.payment-methods {\\n  background: white;\\n  padding: 10px 10px 10px 10px;\\n  margin: 6px 12px 12px 12px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n}\\n\\n.payment-modes {\\n  font-size: 14px;\\n  text-transform: uppercase;\\n  opacity: 0.7;\\n}\\n\\n.spinner {\\n  text-align: center;\\n  margin-top: 50%;\\n}\\n\\nion-item {\\n  --detail-icon-color: var(--ion-color-primary);\\n  --detail-icon-opacity: 1;\\n  --detail-icon-font-size: 13px;\\n  --padding-start: 4%;\\n}\\n\\nion-item ion-thumbnail {\\n  width: 35px;\\n  height: 35px;\\n}\\n\\nion-item ion-label {\\n  font-size: 14px;\\n}\\n\\nion-item ion-label p {\\n  font-size: 12px;\\n  margin-top: 5px;\\n}\\n\\n.ion-item {\\n  --padding-bottom: 5%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3JkZXItcGF5bWVudC9DOlxcQldJLUFETUlOU1xcU2hlaW4tQWRtaW4tQ29kZS9zcmNcXGFwcFxcb3JkZXItcGF5bWVudFxcb3JkZXItcGF5bWVudC5wYWdlLnNjc3MiLCJzcmMvYXBwL29yZGVyLXBheW1lbnQvb3JkZXItcGF5bWVudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtBQ0NKOztBRENBO0VBQ0ksaUJBQUE7RUFDQSwyQkFBQTtFQUNBLDBCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtBQ0dKOztBRERBO0VBQ0ksU0FBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNJSjs7QURGQTtFQUNJLGVBQUE7QUNLSjs7QURIQTtFQUNJLGVBQUE7QUNNSjs7QURKQTtFQUNJLGVBQUE7QUNPSjs7QURMQTtFQUNJLGVBQUE7QUNRSjs7QUROQTtFQUNJLGVBQUE7QUNTSjs7QURQQTtFQUNJLGVBQUE7RUFDQSwrQkFBQTtBQ1VKOztBRFJBO0VBQ0ksaUJBQUE7RUFDQSw0QkFBQTtFQUNBLDBCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQ1dKOztBRFRBO0VBQ0ksZUFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtBQ1lKOztBRFRBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0FDWUo7O0FEVkE7RUFDSSw2Q0FBQTtFQUNBLHdCQUFBO0VBQ0EsNkJBQUE7RUFDQSxtQkFBQTtBQ2FKOztBRFhBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNjSjs7QURaQTtFQUNJLGVBQUE7QUNlSjs7QURiQTtFQUNJLGVBQUE7RUFDQSxlQUFBO0FDZ0JKOztBRGRBO0VBQ0ksb0JBQUE7QUNpQkoiLCJmaWxlIjoic3JjL2FwcC9vcmRlci1wYXltZW50L29yZGVyLXBheW1lbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNGMkYyRjI7XHJcbn1cclxuLnByaWNlLWNhcmR7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweCAwcHggMTBweDtcclxuICAgIG1hcmdpbjogNnB4IDEycHggMTJweCAxMnB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG4ucHJpY2UtZGV0YWlsc3tcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBvcGFjaXR5OiAuNztcclxufVxyXG4ubGluZXtcclxuICAgIGJvcmRlcjogMDtcclxuICAgIGNsZWFyOiBib3RoO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XHJcbiAgICBoZWlnaHQ6IDFweDtcclxuICAgIG9wYWNpdHk6IC40O1xyXG59XHJcbi50b3RhbC1pdGVtc3tcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxufVxyXG4ucHJpY2UtdG90YWx7XHJcbiAgICB0ZXh0LWFsaWduOiBlbmQ7XHJcbn1cclxuLnByaWNlLXRvdGFsIHB7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbn1cclxuLnRvdGFsLWVzdGltYXRlZHtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG4uZXN0aW1hdGVkLXByaWNle1xyXG4gICAgdGV4dC1hbGlnbjogZW5kO1xyXG59XHJcbi5lc3RpbWF0ZWQtcHJpY2UgcHtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbn1cclxuLnBheW1lbnQtbWV0aG9kc3tcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMTBweCAxMHB4IDEwcHggMTBweDtcclxuICAgIG1hcmdpbjogNnB4IDEycHggMTJweCAxMnB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG4ucGF5bWVudC1tb2Rlc3tcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBvcGFjaXR5OiAuNztcclxufVxyXG5cclxuLnNwaW5uZXJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiA1MCU7XHJcbn1cclxuaW9uLWl0ZW17XHJcbiAgICAtLWRldGFpbC1pY29uLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgICAtLWRldGFpbC1pY29uLW9wYWNpdHk6IDE7XHJcbiAgICAtLWRldGFpbC1pY29uLWZvbnQtc2l6ZTogMTNweDtcclxuICAgIC0tcGFkZGluZy1zdGFydDogNCU7XHJcbn1cclxuaW9uLWl0ZW0gaW9uLXRodW1ibmFpbCB7XHJcbiAgICB3aWR0aDogMzVweDtcclxuICAgIGhlaWdodDogMzVweDtcclxufVxyXG5pb24taXRlbSBpb24tbGFiZWwge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcbmlvbi1pdGVtIGlvbi1sYWJlbCBwIHtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxufVxyXG4uaW9uLWl0ZW17XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiA1JTtcclxufSIsImlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiAjRjJGMkYyO1xufVxuXG4ucHJpY2UtY2FyZCB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMHB4IDEwcHg7XG4gIG1hcmdpbjogNnB4IDEycHggMTJweCAxMnB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5wcmljZS1kZXRhaWxzIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBvcGFjaXR5OiAwLjc7XG59XG5cbi5saW5lIHtcbiAgYm9yZGVyOiAwO1xuICBjbGVhcjogYm90aDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xuICBoZWlnaHQ6IDFweDtcbiAgb3BhY2l0eTogMC40O1xufVxuXG4udG90YWwtaXRlbXMge1xuICBmb250LXNpemU6IDEzcHg7XG59XG5cbi5wcmljZS10b3RhbCB7XG4gIHRleHQtYWxpZ246IGVuZDtcbn1cblxuLnByaWNlLXRvdGFsIHAge1xuICBmb250LXNpemU6IDE1cHg7XG59XG5cbi50b3RhbC1lc3RpbWF0ZWQge1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5lc3RpbWF0ZWQtcHJpY2Uge1xuICB0ZXh0LWFsaWduOiBlbmQ7XG59XG5cbi5lc3RpbWF0ZWQtcHJpY2UgcCB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn1cblxuLnBheW1lbnQtbWV0aG9kcyB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICBtYXJnaW46IDZweCAxMnB4IDEycHggMTJweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4ucGF5bWVudC1tb2RlcyB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgb3BhY2l0eTogMC43O1xufVxuXG4uc3Bpbm5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogNTAlO1xufVxuXG5pb24taXRlbSB7XG4gIC0tZGV0YWlsLWljb24tY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgLS1kZXRhaWwtaWNvbi1vcGFjaXR5OiAxO1xuICAtLWRldGFpbC1pY29uLWZvbnQtc2l6ZTogMTNweDtcbiAgLS1wYWRkaW5nLXN0YXJ0OiA0JTtcbn1cblxuaW9uLWl0ZW0gaW9uLXRodW1ibmFpbCB7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDM1cHg7XG59XG5cbmlvbi1pdGVtIGlvbi1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuaW9uLWl0ZW0gaW9uLWxhYmVsIHAge1xuICBmb250LXNpemU6IDEycHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLmlvbi1pdGVtIHtcbiAgLS1wYWRkaW5nLWJvdHRvbTogNSU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Events, AlertController, LoadingController, NavController } from '@ionic/angular';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-order-payment',\r\n  templateUrl: './order-payment.page.html',\r\n  styleUrls: ['./order-payment.page.scss'],\r\n})\r\nexport class OrderPaymentPage implements OnInit {\r\n  phonepeNo: string = '';\r\n  paytmNo: string = '';\r\n  upiId: string = '';\r\n  orderId: any;\r\n  orderData: any;\r\n  showLoader: boolean = true;\r\n  totalPriceAfterDiscount: number = 0;\r\n  loading: any;\r\n  paytmActive: boolean = false;\r\n  razorpayActive: boolean = false;\r\n  razorpayId: any;\r\n  orderAmount: number;\r\n  userId: any;\r\n  constructor(private events: Events,\r\n              private router: Router,\r\n              private alertController: AlertController,\r\n              private loadingController: LoadingController,\r\n              private route: ActivatedRoute,\r\n              private storage: Storage,\r\n              private navCtrl: NavController) {\r\n                this.route.queryParams.subscribe(params => {\r\n                  if (this.router.getCurrentNavigation().extras.state) {\r\n                    this.orderId = this.router.getCurrentNavigation().extras.state.orderId;\r\n                    this.userId = this.router.getCurrentNavigation().extras.state.userId;\r\n                    //console.log('orderId', this.orderId);\r\n                  }\r\n                });\r\n               }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ionViewDidEnter() {\r\n    this.events.publish('user:getOrderDetailsWithOrderId', this.orderId);\r\n    this.events.publish('admin-settings:getPaytmData');\r\n    this.events.publish('admin-settings:getRazorPayData');\r\n    this.initializeSubscriptions();\r\n  } \r\n  ionViewWillLeave() {\r\n    this.removeSubscription();\r\n  }\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('user:publishOrderDetailsWithOrderId', (orderData) => {\r\n      //console.log('orderData', orderData);\r\n      this.orderData = orderData;\r\n      this.showLoader = false;\r\n    });\r\n    this.events.subscribe('user:setPaymentModeOfOrderByUserSuccessfully', () => {\r\n      this.loading.dismiss();\r\n      this.presentAlert('Payment Mode has been set successfully');\r\n    });\r\n    this.events.subscribe('admin-settings:publishPaytmData', (data) => {\r\n      if(data) {\r\n        this.paytmActive = data.active;\r\n      }\r\n    });\r\n    this.events.subscribe('admin-settings:publishRazorPayData', (data) => {\r\n      if(data && data.active && data.id !== '') {\r\n        this.razorpayActive = data.active;\r\n        this.razorpayId = data.id;\r\n      }\r\n    });\r\n    this.events.subscribe('order:modeSetToCashSuccess', () => {\r\n      this.loading.dismiss();\r\n      this.presentAlert('Payment Mode has been set to cash successfully');\r\n    });\r\n  }\r\n  getTotalItems() {\r\n    return this.orderData[0].products.length;  \r\n  }\r\n  \r\n  async onClickPaymentMode(mode: string) {\r\n    if(mode === 'cash') {\r\n      await this.presentLoading();\r\n      this.events.publish('order:payWithCash',  this.orderData[0].orderId, this.orderData[0].totalAmountToPaid);\r\n    }\r\n    if(mode === 'card' || mode === 'wallet' || mode === 'upi' || mode === 'netbanking') {\r\n      await this.presentLoading();\r\n      this.events.publish('order:payWithRazorPay', this.orderData[0].orderId, this.userId, this.orderData[0].totalAmountToPaid, this.razorpayId, mode);\r\n    }\r\n    if(mode === 'paytm') {\r\n      await this.presentLoading();\r\n      this.events.publish('order:payWithPaytm', this.orderData[0].orderId, this.userId, this.orderData[0].totalAmountToPaid);\r\n    }\r\n    \r\n  }\r\n  async presentAlert(msg: string) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: [{\r\n        text: 'Ok',\r\n        handler: () => {\r\n            this.navCtrl.navigateRoot(['shop-categories']);\r\n        }\r\n      }]\r\n    }); \r\n    await alert.present();\r\n  }\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait...',\r\n      duration: 5000\r\n    });\r\n    await this.loading.present();\r\n  }\r\n  async presentFailureAlert(msg: string) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: ['Try Again']\r\n    });\r\n    await alert.present();\r\n  }\r\n  removeSubscription() {\r\n    this.events.unsubscribe('user:publishOrderDetailsWithOrderId');\r\n    this.events.unsubscribe('user:setPaymentModeOfOrderByUserSuccessfully');\r\n    this.events.unsubscribe('admin-settings:publishPaytmData');\r\n    this.events.unsubscribe('admin-settings:publishRazorPayData');\r\n    this.events.unsubscribe('order:modeSetToCashSuccess');\r\n  }\r\n}\r\n"],"sourceRoot":""}