{"version":3,"sources":["./src/app/admin/user-groups/user-groups.page.html","./src/app/admin/user-groups/user-groups.module.ts","./src/app/admin/user-groups/user-groups.page.scss","./src/app/admin/user-groups/user-groups.page.ts"],"names":[],"mappings":"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","file":"admin-user-groups-user-groups-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\">\\r\\n      <img src=\\\"../../../assets/img/shop-logo.png\\\">\\r\\n    </div>\\r\\n    <ion-title>User Groups</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"4\\\">\\r\\n          <ion-button expand='block' (click)=\\\"openCreateGroupModal()\\\">Create Group</ion-button>\\r\\n          <div id=\\\"scroll1\\\">\\r\\n            <div class=\\\"groupWrapper\\\">\\r\\n              <div class=\\\"groupItem\\\" \\r\\n                  [ngClass]=\\\"activeTile === i ? 'tile-bg-active' : 'tile-bg-inactive'\\\" \\r\\n                  *ngFor=\\\"let group of groups; index as i\\\" (click)=\\\"getGroupUsers(i)\\\">\\r\\n                <div class=\\\"itemFlex\\\">\\r\\n                  <p class=\\\"groupName\\\">{{group.name}}</p>\\r\\n                  <!-- <p class=\\\"groupSize\\\">---- users</p> -->\\r\\n                </div>\\r\\n                <span class=\\\"groupDate\\\">Created On: {{group.createdAt.toDate() | date}}</span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"8\\\" id=\\\"scroll2\\\" *ngIf=\\\"selectedGroup?.id\\\">\\r\\n          <div class=\\\"groupDetails-container\\\">\\r\\n            <h4 class=\\\"displayTitle\\\">{{selectedGroup.name}} <span *ngIf=\\\"users\\\">(Users: {{users.length}})</span></h4>\\r\\n            <p class=\\\"groupDate t-a-c\\\">Created On: {{selectedGroup.createdAt.toDate() | date}}</p>\\r\\n            <div class=\\\"groupDetail\\\">\\r\\n              <div class=\\\"itemFlex\\\" style=\\\"margin-bottom: 1rem;\\\">\\r\\n                <ion-button size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"askConfirmDelete()\\\">\\r\\n                  <i class=\\\"flaticon-null-21\\\"></i> Delete Group\\r\\n                </ion-button>\\r\\n              </div>\\r\\n              <div class=\\\"itemFlex\\\">\\r\\n                <input class=\\\"searchInput\\\" placeholder=\\\"Search user...\\\" [(ngModel)]=\\\"searchUser\\\" type=\\\"text\\\">\\r\\n                <ion-button (click)=\\\"openUsersModal()\\\">\\r\\n                  <i class=\\\"flaticon-null-28\\\"></i>&nbsp; Add User\\r\\n                </ion-button>\\r\\n              </div>\\r\\n              <ion-text color=\\\"danger\\\">\\r\\n                <span>*Changing role of a [ user ] to something else will lead to deletion from all groups !</span>\\r\\n              </ion-text>\\r\\n  \\r\\n              <div *ngIf=\\\"showLoader; else showUsers\\\" class=\\\"spinner\\\">\\r\\n                <ion-spinner color=\\\"primary\\\"></ion-spinner>\\r\\n              </div>\\r\\n              <ng-template #showUsers>\\r\\n                <div class=\\\"tableScroll\\\" *ngIf=\\\"users.length\\\">\\r\\n                  <table class=\\\"userTable\\\">\\r\\n                    <thead>\\r\\n                      <th>SNO</th>\\r\\n                      <th>User Name</th>\\r\\n                      <th>Phone Number</th>\\r\\n                      <th>Remove</th>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                      <tr *ngFor=\\\"let user of users | filter: searchUser; let i = index\\\">\\r\\n                        <td>{{i+1}}</td>\\r\\n                        <td>{{user.name}}</td>\\r\\n                        <td>{{user.phoneNo}}</td>\\r\\n                        <td>\\r\\n                          <ion-button size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"removeUser(i, user.id)\\\">\\r\\n                            <i class=\\\"flaticon-null-17\\\"></i>\\r\\n                          </ion-button>\\r\\n                        </td>\\r\\n                      </tr>\\r\\n                    </tbody>\\r\\n                  </table>\\r\\n                </div>\\r\\n              </ng-template>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UserGroupsPage } from './user-groups.page';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UserGroupsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    Ng2SearchPipeModule,\r\n  ],\r\n  declarations: [UserGroupsPage]\r\n})\r\nexport class UserGroupsPageModule {}\r\n","module.exports = \".main-container {\\n  width: 100%;\\n}\\n\\n#scroll1 {\\n  overflow: hidden;\\n  height: 74vh;\\n  margin-top: 1rem;\\n}\\n\\n#scroll1:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll2 {\\n  overflow: hidden;\\n  height: 82vh;\\n  margin-top: 8px;\\n  border-left: 1px solid lightgray;\\n}\\n\\n.groupWrapper .groupItem {\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  padding: 8px;\\n  margin-bottom: 8px;\\n  cursor: pointer;\\n}\\n\\n.groupWrapper .groupItem:hover {\\n  box-shadow: 0 2px 5px #ccc;\\n  background: var(--ion-color-light);\\n}\\n\\n.groupWrapper .groupItem .groupName {\\n  font-size: 16px;\\n  font-weight: 600;\\n  text-transform: capitalize;\\n}\\n\\n.groupWrapper .groupItem .groupSize {\\n  font-size: 14px;\\n}\\n\\n.groupDate {\\n  color: #606060;\\n  font-size: 12px;\\n}\\n\\n.displayTitle {\\n  text-align: center;\\n  font-weight: 600;\\n  margin-top: 0;\\n}\\n\\n.groupDetail {\\n  padding: 8px;\\n  height: 100%;\\n}\\n\\n.searchInput {\\n  height: 38px;\\n  width: 50%;\\n  padding: 6px;\\n  border: 1px solid #ccc;\\n  border-radius: 6px;\\n}\\n\\n.itemFlex {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.groupItemActive {\\n  background-color: var(--ion-color-categories-background);\\n}\\n\\n.tableScroll {\\n  overflow: hidden;\\n  height: 66vh;\\n  margin-top: 1rem;\\n}\\n\\n.tableScroll:hover {\\n  overflow-y: auto;\\n}\\n\\n.userTable {\\n  margin-top: 1rem;\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.userTable th,\\n.userTable td {\\n  text-align: left;\\n  padding: 8px;\\n}\\n\\n.userTable th:last-child,\\n.userTable td:last-child {\\n  text-align: right;\\n}\\n\\n.userTable tr:hover {\\n  background-color: #efefef;\\n}\\n\\n.groupDetails-container {\\n  overflow-y: scroll;\\n  height: 90vh;\\n}\\n\\n.spinner {\\n  position: absolute;\\n}\\n\\n@media screen and (min-height: 1200px) {\\n  #scroll1,\\n#scroll2,\\n.tableScroll {\\n    height: 92vh;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vdXNlci1ncm91cHMvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFx1c2VyLWdyb3Vwc1xcdXNlci1ncm91cHMucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi91c2VyLWdyb3Vwcy91c2VyLWdyb3Vwcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FERUU7RUFDRSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREFJO0VBQ0UsZ0JBQUE7QUNFTjs7QURFRTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxnQ0FBQTtBQ0NKOztBRE9JO0VBQ0Usc0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUNKTjs7QURLTTtFQUNFLDBCQUFBO0VBQ0Esa0NBQUE7QUNIUjs7QURLTTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDBCQUFBO0FDSFI7O0FES007RUFDRSxlQUFBO0FDSFI7O0FEUUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtBQ0xKOztBRFFFO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7QUNMSjs7QURRRTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FDTEo7O0FEUUU7RUFDRSxZQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0FDTEo7O0FEUUU7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHFCQUFBO0FDTEo7O0FEUUU7RUFDRSx3REFBQTtBQ0xKOztBRFFFO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNMSjs7QURPSTtFQUNFLGdCQUFBO0FDTE47O0FEUUU7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtBQ0xKOztBRE9JOztFQUVFLGdCQUFBO0VBQ0EsWUFBQTtBQ0xOOztBRE1NOztFQUNFLGlCQUFBO0FDSFI7O0FETUk7RUFDRSx5QkFBQTtBQ0pOOztBRFFFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0FDTEo7O0FEUUU7RUFDRSxrQkFBQTtBQ0xKOztBRFFFO0VBQ0U7OztJQUdFLFlBQUE7RUNMSjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vdXNlci1ncm91cHMvdXNlci1ncm91cHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW4tY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxuICBcclxuICAjc2Nyb2xsMSB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgaGVpZ2h0OiA3NHZoO1xyXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgICY6aG92ZXIge1xyXG4gICAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAjc2Nyb2xsMiB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgaGVpZ2h0OiA4MnZoO1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgICAvLyAmOmhvdmVyIHtcclxuICAgIC8vICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIC8vIH1cclxuICB9XHJcbiAgXHJcbiAgLmdyb3VwV3JhcHBlciB7XHJcbiAgICAvLyBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xyXG4gICAgLmdyb3VwSXRlbSB7XHJcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogMCAycHggNXB4ICNjY2M7XHJcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcclxuICAgICAgfVxyXG4gICAgICAuZ3JvdXBOYW1lIHtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICAgICAgfVxyXG4gICAgICAuZ3JvdXBTaXplIHtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLmdyb3VwRGF0ZSB7XHJcbiAgICBjb2xvcjogIzYwNjA2MDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICB9XHJcbiAgXHJcbiAgLmRpc3BsYXlUaXRsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICB9XHJcbiAgXHJcbiAgLmdyb3VwRGV0YWlsIHtcclxuICAgIHBhZGRpbmc6IDhweDtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICB9XHJcbiAgXHJcbiAgLnNlYXJjaElucHV0IHtcclxuICAgIGhlaWdodDogMzhweDtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBwYWRkaW5nOiA2cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIH1cclxuICBcclxuICAuaXRlbUZsZXgge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XHJcbiAgfVxyXG4gIFxyXG4gIC5ncm91cEl0ZW1BY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWNhdGVnb3JpZXMtYmFja2dyb3VuZCk7XHJcbiAgfVxyXG4gIFxyXG4gIC50YWJsZVNjcm9sbCB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgaGVpZ2h0OiA2NnZoO1xyXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgIC8vIGJhY2tncm91bmQtY29sb3I6IHZpb2xldDtcclxuICAgICY6aG92ZXIge1xyXG4gICAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgfVxyXG4gIH1cclxuICAudXNlclRhYmxlIHtcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgXHJcbiAgICB0aCxcclxuICAgIHRkIHtcclxuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAmOmxhc3QtY2hpbGQge1xyXG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0cjpob3ZlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuZ3JvdXBEZXRhaWxzLWNvbnRhaW5lcntcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxuICAgIGhlaWdodDogOTB2aDtcclxuICB9XHJcblxyXG4gIC5zcGlubmVye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIH1cclxuICBcclxuICBAbWVkaWEgc2NyZWVuIGFuZChtaW4taGVpZ2h0OiAxMjAwcHgpIHtcclxuICAgICNzY3JvbGwxLFxyXG4gICAgI3Njcm9sbDIsXHJcbiAgICAudGFibGVTY3JvbGwge1xyXG4gICAgICBoZWlnaHQ6IDkydmg7XHJcbiAgICB9XHJcbiAgfVxyXG4gICIsIi5tYWluLWNvbnRhaW5lciB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4jc2Nyb2xsMSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGhlaWdodDogNzR2aDtcbiAgbWFyZ2luLXRvcDogMXJlbTtcbn1cbiNzY3JvbGwxOmhvdmVyIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuI3Njcm9sbDIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDgydmg7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XG59XG5cbi5ncm91cFdyYXBwZXIgLmdyb3VwSXRlbSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgcGFkZGluZzogOHB4O1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5ncm91cFdyYXBwZXIgLmdyb3VwSXRlbTpob3ZlciB7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCAjY2NjO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xufVxuLmdyb3VwV3JhcHBlciAuZ3JvdXBJdGVtIC5ncm91cE5hbWUge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xufVxuLmdyb3VwV3JhcHBlciAuZ3JvdXBJdGVtIC5ncm91cFNpemUge1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5ncm91cERhdGUge1xuICBjb2xvcjogIzYwNjA2MDtcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuXG4uZGlzcGxheVRpdGxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tdG9wOiAwO1xufVxuXG4uZ3JvdXBEZXRhaWwge1xuICBwYWRkaW5nOiA4cHg7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnNlYXJjaElucHV0IHtcbiAgaGVpZ2h0OiAzOHB4O1xuICB3aWR0aDogNTAlO1xuICBwYWRkaW5nOiA2cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbn1cblxuLml0ZW1GbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG59XG5cbi5ncm91cEl0ZW1BY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItY2F0ZWdvcmllcy1iYWNrZ3JvdW5kKTtcbn1cblxuLnRhYmxlU2Nyb2xsIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiA2NnZoO1xuICBtYXJnaW4tdG9wOiAxcmVtO1xufVxuLnRhYmxlU2Nyb2xsOmhvdmVyIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLnVzZXJUYWJsZSB7XG4gIG1hcmdpbi10b3A6IDFyZW07XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuLnVzZXJUYWJsZSB0aCxcbi51c2VyVGFibGUgdGQge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBwYWRkaW5nOiA4cHg7XG59XG4udXNlclRhYmxlIHRoOmxhc3QtY2hpbGQsXG4udXNlclRhYmxlIHRkOmxhc3QtY2hpbGQge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbi51c2VyVGFibGUgdHI6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xufVxuXG4uZ3JvdXBEZXRhaWxzLWNvbnRhaW5lciB7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgaGVpZ2h0OiA5MHZoO1xufVxuXG4uc3Bpbm5lciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi1oZWlnaHQ6IDEyMDBweCkge1xuICAjc2Nyb2xsMSxcbiNzY3JvbGwyLFxuLnRhYmxlU2Nyb2xsIHtcbiAgICBoZWlnaHQ6IDkydmg7XG4gIH1cbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, ModalController } from \"@ionic/angular\";\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { UserGroupsService } from \"src/app/services/user-groups/user-groups.service\";\r\nimport { UsersModalPage } from '../users-modal/users-modal.page';\r\nimport { UserGroupsModalPage } from './user-groups-modal/user-groups-modal.page';\r\n\r\n@Component({\r\n  selector: 'app-user-groups',\r\n  templateUrl: './user-groups.page.html',\r\n  styleUrls: ['./user-groups.page.scss'],\r\n})\r\nexport class UserGroupsPage implements OnInit {\r\n  showLoader: boolean = true;\r\n  activeTile = 0;\r\n  searchUser;\r\n\r\n  groups = [];\r\n  users = [];\r\n  selectedGroup;\r\n  newlyAddedUsers = [];\r\n  managers = [];\r\n  constructor(private modalController: ModalController, private userGroupsService: UserGroupsService,\r\n    private sharedService: SharedService, private alertController: AlertController) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async ionViewWillEnter(){\r\n    this.getAllGroups();\r\n  }\r\n\r\n  async getAllGroups(){\r\n    const groupsWithId: any = await this.userGroupsService.getAllGroups();\r\n    if (groupsWithId) {\r\n      this.groups = groupsWithId;\r\n      this.getGroupUsers(0);\r\n    }\r\n  }\r\n\r\n  async openCreateGroupModal() {\r\n    const modal = await this.modalController.create({\r\n      component: UserGroupsModalPage,\r\n      backdropDismiss: false,\r\n      cssClass: \"custom-modal\",\r\n    });\r\n    modal.onDidDismiss().then(res => {\r\n        if (res && res.data && res.data.groupCreated) {\r\n          this.getAllGroups();\r\n        }\r\n    });\r\n    await modal.present();\r\n  }\r\n    \r\n  async openUsersModal() {\r\n    const modal = await this.modalController.create({\r\n        component: UsersModalPage,\r\n        componentProps: {\r\n          alreadyAddedUsers: this.users,\r\n          groupDetails: {groupId: this.selectedGroup.id},\r\n        },\r\n        cssClass: 'coupon-code-modal'\r\n    });\r\n    modal.onDidDismiss().then(res => {\r\n        if (res && res.data) {\r\n          console.log('res.data', res.data);\r\n          this.users = res.data;\r\n        }\r\n    });\r\n    await modal.present();\r\n}\r\n\r\nasync getGroupManagers(){\r\n  const managers: any = await this.userGroupsService.getGroupManagers(this.selectedGroup.id);\r\n  this.managers = (managers && managers.length) ? managers : [];\r\n}\r\n\r\n  async getGroupUsers(groupIndex){\r\n    this.activeTile = groupIndex;\r\n    this.selectedGroup = this.groups[groupIndex];\r\n    const users: any = await this.userGroupsService.getGroupUsers(this.selectedGroup.id);\r\n    this.users = (users && users.length) ? users : [];\r\n    console.log(`Users of grp ${this.selectedGroup.name} with grpId ${this.selectedGroup.id}:`, users);\r\n    this.getGroupManagers();\r\n    this.showLoader = false;\r\n  }\r\n\r\n  async askConfirmDelete(){\r\n    const alert = await this.alertController.create({\r\n      subHeader: `Are you sure you want to delete ${this.selectedGroup.name} ?`,\r\n      buttons: [\r\n        {\r\n          text: \"No\",\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n          }\r\n        }, {\r\n          text: \"Yes\",\r\n          handler: async () => {\r\n            this.deleteGroup();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async deleteGroup(){\r\n    this.sharedService.presentLoading();\r\n    const success: any = await this.userGroupsService.deleteGroup({groupId: this.selectedGroup.id, users: this.users, managers: this.managers });\r\n    if (success) {\r\n      if (this.sharedService.loading) {\r\n        this.sharedService.loading.dismiss();\r\n      }\r\n      let deletedGrpName = this.selectedGroup.name;\r\n      this.sharedService.presentAlert(`${deletedGrpName} is deleted Successfully`);\r\n      this.getAllGroups();\r\n    }\r\n  }\r\n\r\n  async removeUser(index, userId){\r\n    this.users.splice(index, 1);\r\n    await this.userGroupsService.removeUserFromGroup({userId, groupId: this.selectedGroup.id})\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}