{"version":3,"sources":["./src/app/admin/whatsapp/add-whatsapp-template/add-whatsapp-template.page.html","./src/app/admin/whatsapp/add-whatsapp-template/add-whatsapp-template.module.ts","./src/app/admin/whatsapp/add-whatsapp-template/add-whatsapp-template.page.scss","./src/app/admin/whatsapp/add-whatsapp-template/add-whatsapp-template.page.ts"],"names":[],"mappings":"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","file":"admin-whatsapp-add-whatsapp-template-add-whatsapp-template-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\">\\r\\n      <img src=\\\"../../../../assets/img/shop-logo.png\\\">\\r\\n    </div>\\r\\n    <ion-title>Create Template</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<super-tabs>\\r\\n  <super-tabs-toolbar slot=\\\"top\\\">\\r\\n    <super-tab-button (click)=\\\"templateType = 'basic'\\\">\\r\\n      <ion-label>Basic Template</ion-label>\\r\\n    </super-tab-button>\\r\\n    <super-tab-button (click)=\\\"templateType = 'advance'\\\">\\r\\n      <ion-label>Advance Template</ion-label>\\r\\n    </super-tab-button>\\r\\n  </super-tabs-toolbar>\\r\\n\\r\\n  <super-tabs-container>\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n      <div class=\\\"main-container\\\">\\r\\n        <ion-grid>\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Template Name<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"templateDetails.name\\\"></ion-input>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Category<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <select class=\\\"form-input\\\" [(ngModel)]=\\\"templateDetails.category\\\" interface=\\\"popover\\\"\\r\\n                  style=\\\"width: 100%; padding: 9px;\\\">\\r\\n                  <option value=\\\"utility\\\">Utility</option>\\r\\n                  <option value=\\\"marketing\\\">Marketing</option>\\r\\n                </select>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Template Body (Max 1024 characters)<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <ion-textarea rows=\\\"6\\\" type=\\\"text\\\" maxlength=\\\"1024\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"templateDetails.components[0].text\\\"></ion-textarea>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-text color=\\\"danger\\\">\\r\\n                <p>Note: Once you have created your template it will get submit for approval to whatsapp. It can take up to 24 hours for an approval decision to be made by Whatsapp.</p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n    \\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </div>\\r\\n    \\r\\n    </ion-content>\\r\\n    </super-tab>\\r\\n\\r\\n    <!-- Advance Template -->\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n      <div class=\\\"main-container\\\" *ngIf=\\\"!paidPlanNote.length\\\">\\r\\n        <ion-grid>\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Template Name<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"advanceTemplateDetails.name\\\"></ion-input>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Category<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <select class=\\\"form-input\\\" [(ngModel)]=\\\"advanceTemplateDetails.category\\\" interface=\\\"popover\\\"\\r\\n                  style=\\\"width: 100%; padding: 9px;\\\">\\r\\n                  <option value=\\\"utility\\\">Utility</option>\\r\\n                  <option value=\\\"marketing\\\">Marketing</option>\\r\\n                </select>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Header (Optional)</ion-label>\\r\\n                <select class=\\\"form-input\\\" [(ngModel)]=\\\"headerType\\\" interface=\\\"popover\\\" style=\\\"width: 100%; padding: 9px;\\\">\\r\\n                  <option value=\\\"none\\\">None</option>\\r\\n                  <option value=\\\"text\\\">Text</option>\\r\\n                  <option value=\\\"media\\\">Media</option>\\r\\n                </select>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\" *ngIf=\\\"headerType == 'text'\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Header Text</ion-label>\\r\\n                <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"advanceTemplateDetails.components[0].text\\\"></ion-input>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" *ngIf=\\\"headerType == 'media'\\\">\\r\\n                <ion-list lines=\\\"none\\\" class=\\\"option-list\\\">\\r\\n                  <ion-radio-group [(ngModel)]=\\\"advanceTemplateDetails.components[0].format\\\" (ionChange)=\\\"changeHeaderMediaType($event)\\\">\\r\\n                  <ion-item>\\r\\n                    <ion-label>Image</ion-label>\\r\\n                    <ion-radio value=\\\"image\\\" slot=\\\"start\\\"></ion-radio>\\r\\n                  </ion-item>\\r\\n                  <ion-item>\\r\\n                    <ion-label>Video</ion-label>\\r\\n                    <ion-radio value=\\\"video\\\" slot=\\\"start\\\"></ion-radio>\\r\\n                  </ion-item>\\r\\n                  <ion-item>\\r\\n                    <ion-label>Document</ion-label>\\r\\n                    <ion-radio value=\\\"document\\\" slot=\\\"start\\\"></ion-radio>\\r\\n                  </ion-item>\\r\\n                </ion-radio-group>\\r\\n                </ion-list>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" *ngIf=\\\"headerType=='media'\\\">\\r\\n              <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"align-items: center;\\\">\\r\\n                <div class=\\\"upload-btn-wrapper\\\" style=\\\"margin-top: 8px; margin-right: 10px;\\\" *ngIf=\\\"advanceTemplateDetails.components[0].format == 'image' || advanceTemplateDetails.components[0].format == 'video' || advanceTemplateDetails.components[0].format == 'document'\\\">\\r\\n                <button class=\\\"upload-btn btn-1 i-start\\\" style=\\\"margin-right: 0px;\\\"> <i\\r\\n                    class=\\\"flaticon-null-16\\\"></i>Upload</button>\\r\\n                    <ng-container *ngIf=\\\"advanceTemplateDetails.components[0].format == 'image'\\\">\\r\\n                      <input type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"uploadMedia($event.target.files, advanceTemplateDetails.components[0].format)\\\"\\r\\n                        accept=\\\"image/*\\\" />\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"advanceTemplateDetails.components[0].format == 'video'\\\">\\r\\n                      <input type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"uploadMedia($event.target.files, advanceTemplateDetails.components[0].format)\\\"\\r\\n                        accept=\\\"video/*\\\" />\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"advanceTemplateDetails.components[0].format == 'document'\\\">\\r\\n                      <input type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"uploadMedia($event.target.files, advanceTemplateDetails.components[0].format)\\\"\\r\\n                        accept=\\\"application/pdf\\\" />\\r\\n                    </ng-container>\\r\\n                </div>\\r\\n                <p *ngIf=\\\"uploadedFileDetails?.name\\\">{{uploadedFileDetails.name}}</p>\\r\\n              </ion-row>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Template Body (Max 1024 characters)<span class=\\\"red\\\">*</span></ion-label>\\r\\n                <ion-textarea rows=\\\"6\\\" type=\\\"text\\\" maxlength=\\\"1024\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"advanceTemplateDetails.components[1].text\\\"></ion-textarea>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <div class=\\\"input-wrap\\\">\\r\\n                <ion-label>Footer Message (Max 60 characters) (Optional)</ion-label>\\r\\n                <ion-input class=\\\"form-input\\\" maxlength=\\\"60\\\" [(ngModel)]=\\\"advanceTemplateDetails.components[2].text\\\"></ion-input>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-row>\\r\\n                <ion-col size=\\\"6\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Buttons (Optional)</ion-label>\\r\\n                    <select class=\\\"form-input\\\" style=\\\"width: 100%; padding: 9px;\\\" [(ngModel)]=\\\"advanceTemplateDetails.components[3].buttonType\\\" interface=\\\"popover\\\" (ionChange)=\\\"changeButtonType($event)\\\">\\r\\n                      <option value=\\\"none\\\">None</option>\\r\\n                      <option value=\\\"quickReply\\\">Quick Reply</option>\\r\\n                      <option value=\\\"callToAction\\\">Call To Action</option>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n              </ion-row>\\r\\n              <ng-container *ngIf=\\\"advanceTemplateDetails.components[3].buttonType == 'quickReply'\\\">\\r\\n                <ion-row>\\r\\n                  <ion-col size=\\\"6\\\">\\r\\n                    <h4>Quick Reply</h4>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"6\\\">\\r\\n                    <ion-button fill=\\\"outline\\\" shape=\\\"round\\\" size=\\\"small\\\" (click)=\\\"addButtons('quickReply')\\\">Add More Quick Reply</ion-button>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              <ion-row *ngFor=\\\"let quickReplyButton of quickReplyButtons; let i = index\\\">\\r\\n                <ion-col size=\\\"5\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Button Text (Max 25 characters)</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"25\\\" [(ngModel)]=\\\"quickReplyButton.text\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"5\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Button Action</ion-label>\\r\\n                    <select class=\\\"form-input\\\" interface=\\\"popover\\\" style=\\\"width: 100%; padding: 9px;\\\"\\r\\n                    [(ngModel)]=\\\"quickReplyButton.payload\\\">\\r\\n                      <option value=\\\"menu-entry-point\\\">Menu</option>\\r\\n                      <option value=\\\"menu-button-1\\\">Menu Button 1</option>\\r\\n                      <option value=\\\"menu-button-2\\\">Menu Button 2</option>\\r\\n                      <option value=\\\"menu-button-3\\\">Menu Button 3</option>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"2\\\" class=\\\"vertical-center\\\">\\r\\n                  <div>\\r\\n                    <i class=\\\"flaticon-null-19 remove-icon\\\" (click)=\\\"removeButton(i)\\\"></i>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n              </ion-row>\\r\\n              </ng-container>\\r\\n\\r\\n              <ng-container *ngIf=\\\"advanceTemplateDetails.components[3].buttonType == 'callToAction'\\\">\\r\\n              <h4>Call To Action</h4>\\r\\n              <ion-row>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Type of Action</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" [readonly]=\\\"true\\\" value=\\\"Call Phone No.\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Button Text</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"25\\\" [(ngModel)]=\\\"callToActionButtons[0].text\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"2\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Country Code</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"25\\\" value=\\\"+91\\\" [readonly]=\\\"true\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"4\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Phone Number</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"10\\\" [(ngModel)]=\\\"callToActionButtons[0].phone_number\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n              </ion-row>\\r\\n              <ion-row>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Type of Action</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" [readonly]=\\\"true\\\" value=\\\"Visit Website\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"3\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Button Text</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"25\\\" [(ngModel)]=\\\"callToActionButtons[1].text\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"2\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>URL Type</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" maxlength=\\\"25\\\" value=\\\"Static\\\" [readonly]=\\\"true\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n                <ion-col size=\\\"4\\\">\\r\\n                  <div class=\\\"input-wrap\\\">\\r\\n                    <ion-label>Website URL</ion-label>\\r\\n                    <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"callToActionButtons[1].url\\\"></ion-input>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n              </ion-row>\\r\\n              </ng-container>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-text color=\\\"danger\\\">\\r\\n                <p>Note: Once you have created your template it will get submit for approval to whatsapp. It can take up to 24 hours for an approval decision to be made by Whatsapp.</p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n    \\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </div>\\r\\n    \\r\\n    </ion-content>\\r\\n    </super-tab>\\r\\n\\r\\n  </super-tabs-container>\\r\\n\\r\\n</super-tabs>\\r\\n\\r\\n<ion-footer no-border class=\\\"page-footer\\\" *ngIf=\\\"!(templateType=='advance' && paidPlanNote.length)\\\">\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <ion-button (click)=\\\"save()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n      <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n      Save {{templateType | titlecase}}\\r\\n    </ion-button>\\r\\n  </div>\\r\\n</ion-footer>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddWhatsappTemplatePage } from './add-whatsapp-template.page';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddWhatsappTemplatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SuperTabsModule,\r\n  ],\r\n  declarations: [AddWhatsappTemplatePage]\r\n})\r\nexport class AddWhatsappTemplatePageModule {}\r\n","module.exports = \".red {\\n  color: red;\\n}\\n\\nion-list.option-list ion-radio-group {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n\\nion-list.option-list ion-radio-group ion-item {\\n  --padding-start:0;\\n  width: 33.3%;\\n}\\n\\n.remove-icon {\\n  cursor: pointer;\\n  margin-top: 12px;\\n  margin-left: 5px;\\n  color: var(--ion-color-danger);\\n  font-size: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vd2hhdHNhcHAvYWRkLXdoYXRzYXBwLXRlbXBsYXRlL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFxhZG1pblxcd2hhdHNhcHBcXGFkZC13aGF0c2FwcC10ZW1wbGF0ZVxcYWRkLXdoYXRzYXBwLXRlbXBsYXRlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYWRtaW4vd2hhdHNhcHAvYWRkLXdoYXRzYXBwLXRlbXBsYXRlL2FkZC13aGF0c2FwcC10ZW1wbGF0ZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0FDQ0o7O0FERUU7RUFDRSxvQkFBQTtFQUFBLGFBQUE7QUNDSjs7QURBSTtFQUNJLGlCQUFBO0VBQ0EsWUFBQTtBQ0VSOztBREVBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3doYXRzYXBwL2FkZC13aGF0c2FwcC10ZW1wbGF0ZS9hZGQtd2hhdHNhcHAtdGVtcGxhdGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlZHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgfVxyXG5cclxuICBpb24tbGlzdC5vcHRpb24tbGlzdCBpb24tcmFkaW8tZ3JvdXAge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGlvbi1pdGVte1xyXG4gICAgICAgIC0tcGFkZGluZy1zdGFydDowO1xyXG4gICAgICAgIHdpZHRoOiAzMy4zJTtcclxuICAgIH1cclxufVxyXG5cclxuLnJlbW92ZS1pY29ue1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxufSIsIi5yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG5pb24tbGlzdC5vcHRpb24tbGlzdCBpb24tcmFkaW8tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuaW9uLWxpc3Qub3B0aW9uLWxpc3QgaW9uLXJhZGlvLWdyb3VwIGlvbi1pdGVtIHtcbiAgLS1wYWRkaW5nLXN0YXJ0OjA7XG4gIHdpZHRoOiAzMy4zJTtcbn1cblxuLnJlbW92ZS1pY29uIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tdG9wOiAxMnB4O1xuICBtYXJnaW4tbGVmdDogNXB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { WhatsappDashboardService } from 'src/app/services/whatsapp-dashboard/whatsapp-dashboard.service';\r\n\r\n@Component({\r\n  selector: 'app-add-whatsapp-template',\r\n  templateUrl: './add-whatsapp-template.page.html',\r\n  styleUrls: ['./add-whatsapp-template.page.scss'],\r\n})\r\nexport class AddWhatsappTemplatePage implements OnInit {\r\n  templateType = 'basic';\r\n  templateDetails = {\r\n    createdAt: new Date(),\r\n    type: 'template',\r\n    name: '',\r\n    components: [\r\n      {\r\n        type: 'body',\r\n        text: ''\r\n      }\r\n    ],\r\n    language: 'en_US',\r\n    category: ''\r\n  }\r\n\r\n  advanceTemplateDetails = {\r\n    createdAt: new Date(),\r\n    type: 'template',\r\n    name: '',\r\n    components: [\r\n      {\r\n        type: 'header',\r\n        format: 'none'\r\n      },\r\n      {\r\n        type: 'body',\r\n        text: ''\r\n      },\r\n      {\r\n        type: 'footer',\r\n        text: ''\r\n      },\r\n      {\r\n        type: \"buttons\",\r\n        buttonType: 'none',\r\n        buttons: []\r\n      }\r\n    ],\r\n    language: 'en_US',\r\n    category: ''\r\n  }\r\n\r\n  quickReplyButtons = [\r\n    {\r\n      type: \"quick_reply\",\r\n      text: \"\",\r\n      payload: \"\"\r\n    }\r\n  ];\r\n\r\n  callToActionButtons = [\r\n    {\r\n      type: \"phone_number\",\r\n      text: \"\",\r\n      phone_number: \"\"\r\n    },\r\n    {\r\n      type: \"url\",\r\n      text: \"\",\r\n      url: \"\"\r\n    }\r\n  ]\r\n\r\n  headerType = 'none';\r\n  uploadedFileDetails;\r\n  allTemplates;\r\n\r\n  paidPlanNote = '';\r\n\r\n  constructor(private sharedService: SharedService, private whatsappService: WhatsappDashboardService, private router: Router, private configService: ConfigService) { }\r\n\r\n  ngOnInit() {\r\n   this.allTemplates = this.router.getCurrentNavigation().extras.state.allTemplates;\r\n   this.checkWhatsappPlan();\r\n  }\r\n  \r\n  checkWhatsappPlan(){\r\n    if (this.configService.environment.isFreeWhatsapp) {\r\n      this.paidPlanNote = 'Please upgrade your plan to make advance Template.';\r\n    }\r\n  }\r\n\r\n  changeHeaderMediaType(e) {\r\n    this.advanceTemplateDetails.components[0].format = e.target.value;\r\n    this.advanceTemplateDetails.components[0]['mediaUrl'] = '';\r\n    this.uploadedFileDetails = {};\r\n  }\r\n\r\n  changeButtonType(e){\r\n    if (e.target.value == 'none') {\r\n      this.advanceTemplateDetails.components[3].buttons = [];\r\n    }\r\n  }\r\n\r\n  addButtons(buttonType){\r\n    if (buttonType == 'quickReply' && this.quickReplyButtons.length < 3) {\r\n      this.quickReplyButtons.push({\r\n        type: \"quick_reply\",\r\n        text: \"\",\r\n        payload: \"\"\r\n      })\r\n    } else{\r\n      this.sharedService.presentAlert('Quick Reply can have max 3 Buttons')\r\n    }\r\n  }\r\n  removeButton(index){\r\n    this.quickReplyButtons.splice(index, 1);\r\n  }\r\n\r\n  uploadMedia(files: FileList, mediaType) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      console.log('files[i]:',files[i]);\r\n       //Size of file is in bytes.\r\n      if (mediaType == 'image' && files[i].size/1024/1024 > 5) {\r\n        this.sharedService.presentAlert('Image size cannot be greater than 5MB.');\r\n        return;\r\n      } else if(mediaType == 'video' && files[i].size/1024/1024 > 16){\r\n        this.sharedService.presentAlert('Video size cannot be greater than 16MB.');\r\n        return;\r\n      } else if(mediaType == 'document' && files[i].size/1024/1024 > 100){\r\n        this.sharedService.presentAlert('Document size cannot be greater than 100MB.');\r\n        return;\r\n      }\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(files.item(i))\r\n      reader.onload = (event: any) => { // called once readAsDataURL is completed\r\n        if (mediaType == 'image') {\r\n          let base64: any = event.target.result;\r\n          this.advanceTemplateDetails.components[0]['mediaUrl'] = base64;\r\n        } else if(mediaType == 'document' || mediaType == 'video') { \r\n          this.advanceTemplateDetails.components[0]['mediaUrl'] = files[i];\r\n        }\r\n        this.uploadedFileDetails = files[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  async save(){\r\n    const isValid = this.checkValidation();\r\n    if (!isValid) {\r\n      this.sharedService.presentAlert('Please fill all required fields');\r\n      return\r\n    }\r\n    await this.sharedService.presentLoading();\r\n    let docId, success;\r\n    if (this.templateType == 'basic') {\r\n      docId = this.templateDetails.name.trim().toLowerCase().replace(/ /g, '_').replace(/[^\\w\\-]+/g, '');\r\n      const templateExists = this.allTemplates.filter(template => template.id == docId);\r\n      console.log('templateExists:',templateExists);\r\n      if(this.isTemplateAlreadyExists(templateExists)) return;\r\n      success = await this.whatsappService.addTemplate(this.templateType, docId, this.templateDetails,);\r\n    }\r\n    else if (this.templateType == 'advance'){\r\n      docId = this.advanceTemplateDetails.name.trim().toLowerCase().replace(/ /g, '_');\r\n      const templateExists = this.allTemplates.filter(template => template.id == docId);\r\n      console.log('templateExists:',templateExists);\r\n      if(this.isTemplateAlreadyExists(templateExists)) return;\r\n      if (this.headerType == 'text') {\r\n        this.advanceTemplateDetails.components[0].format = 'text'\r\n      }\r\n      if (this.advanceTemplateDetails.components[3].buttonType == 'quickReply') {\r\n        if (!this.quickReplyButtons.length) {\r\n          this.sharedService.presentAlert('Quick Reply cannot be empty');\r\n        }\r\n        for (const button of this.quickReplyButtons) {\r\n          if (!button.text || !button.payload) {\r\n            this.sharedService.presentAlert('Quick Reply cannot be empty, either fill or remove the field');\r\n            return;\r\n          }\r\n        }\r\n        Object.assign(this.advanceTemplateDetails.components[3].buttons, this.quickReplyButtons);\r\n      } else if (this.advanceTemplateDetails.components[3].buttonType == 'callToAction') {\r\n        this.advanceTemplateDetails.components[3].buttons = JSON.parse(JSON.stringify(this.callToActionButtons));\r\n\r\n        // for (const [index, buttonItem] of this.advanceTemplateDetails.components[3].buttons.entries()) {\r\n        //   if (!buttonItem.text) {\r\n        //     this.advanceTemplateDetails.components[3].buttons.splice(index, 1);\r\n        //   }\r\n        //   if (buttonItem.type == 'phone_number') {\r\n        //     buttonItem.phone_number  = `+91${buttonItem.phone_number}`\r\n        //   }\r\n        // }\r\n\r\n        for (let i = 0; i < this.advanceTemplateDetails.components[3].buttons.length; i++) {\r\n          const buttonItem = this.advanceTemplateDetails.components[3].buttons[i];\r\n          \r\n          if (!buttonItem.text) {\r\n            this.advanceTemplateDetails.components[3].buttons.splice(i, 1);\r\n            i--; // Adjust index after splicing\r\n            continue; // Skip the rest of the loop for this iteration\r\n          }\r\n          \r\n          if (buttonItem.type === 'phone_number') {\r\n            buttonItem.phone_number = `+91${buttonItem.phone_number}`;\r\n          }\r\n        }\r\n\r\n\r\n      }\r\n      console.log('advanceTemplateDetails:', this.advanceTemplateDetails);\r\n      success = await this.whatsappService.addTemplate(this.templateType, docId, this.advanceTemplateDetails);\r\n    }\r\n    this.sharedService.loading ? this.sharedService.loading.dismiss() : {};\r\n    if (success) {\r\n      this.sharedService.presentAlert('Template Saved Successfully');\r\n      this.router.navigate(['whatsapp-broadcast']);\r\n    } else {\r\n      this.sharedService.presentAlert('Something went wrong. Please try again later.')\r\n    }\r\n  }\r\n\r\n  checkValidation(){\r\n    if (this.templateType == 'basic') {\r\n      if (!this.templateDetails.name || !this.templateDetails.components[0].text || !this.templateDetails.category) {\r\n        return false;\r\n      }else{\r\n        return true;\r\n      }\r\n    } else{\r\n      // console.log('this.advanceTemplateDetails:', this.advanceTemplateDetails);\r\n      if (!this.advanceTemplateDetails.name || !this.advanceTemplateDetails.category || !this.advanceTemplateDetails.components[1].text) {\r\n        return false;\r\n      }else{\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  isTemplateAlreadyExists(templateExists){\r\n    if (templateExists && templateExists.length > 0) {\r\n      this.sharedService.loading ? this.sharedService.loading.dismiss() : {};\r\n      this.sharedService.presentAlert('Template with same name already exists. Please try with different Template Name');\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}