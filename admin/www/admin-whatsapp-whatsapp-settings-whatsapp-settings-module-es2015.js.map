{"version":3,"sources":["./src/app/admin/whatsapp/whatsapp-settings/whatsapp-settings.page.html","./src/app/admin/whatsapp/whatsapp-settings/whatsapp-settings.module.ts","./src/app/admin/whatsapp/whatsapp-settings/whatsapp-settings.page.scss","./src/app/admin/whatsapp/whatsapp-settings/whatsapp-settings.page.ts"],"names":[],"mappings":"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","file":"admin-whatsapp-whatsapp-settings-whatsapp-settings-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Whatsapp Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<super-tabs>\\r\\n\\r\\n  <super-tabs-toolbar slot=\\\"top\\\">\\r\\n    <super-tab-button>\\r\\n      <ion-label>Account</ion-label>\\r\\n    </super-tab-button>\\r\\n    <super-tab-button>\\r\\n      <ion-label>Insights</ion-label>\\r\\n    </super-tab-button>\\r\\n  </super-tabs-toolbar>\\r\\n\\r\\n  <super-tabs-container>\\r\\n\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n        <div class=\\\"main-container\\\" style=\\\"width: 100%;\\\">\\r\\n          <ion-card>\\r\\n            <ion-card-header>\\r\\n              <ion-card-subtitle>Whatsapp Credentials</ion-card-subtitle>\\r\\n              <ion-card-title>Auth Token<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.authToken\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Catalogue ID<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.catalogueId\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Catalogue Feed ID<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.catalogueFeedId\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Phone Number ID<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.phoneNumberId\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Webhook Verify Token<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.webhookVerifyToken\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Business Account Id<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.businessId\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Business Page Id<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.businessPageId\\\"></ion-input>\\r\\n\\r\\n              <ion-card-title>Dev App Id<span class=\\\"red\\\">*</span></ion-card-title>\\r\\n              <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"credentials.devAppId\\\"></ion-input>\\r\\n\\r\\n              <ion-button style=\\\"margin-right: 16px;\\\" mode=\\\"ios\\\" shape=\\\"round\\\" (click)=\\\"saveWhatsappCredentials()\\\">Save\\r\\n                Credentials</ion-button>\\r\\n            </ion-card-header>\\r\\n          </ion-card>\\r\\n        </div>\\r\\n      </ion-content>\\r\\n    </super-tab>\\r\\n\\r\\n    <super-tab>\\r\\n      <ion-content>\\r\\n        <div class=\\\"main-container\\\" style=\\\"width: 100%;\\\">\\r\\n          <ion-button style=\\\"margin-right: 16px;\\\" mode=\\\"ios\\\" shape=\\\"round\\\" (click)=\\\"syncProducts()\\\">Sync Products on Whatsapp</ion-button>\\r\\n        </div>\\r\\n      </ion-content>\\r\\n    </super-tab>\\r\\n\\r\\n  </super-tabs-container>\\r\\n\\r\\n</super-tabs>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { WhatsappSettingsPage } from './whatsapp-settings.page';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: WhatsappSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SuperTabsModule,\r\n  ],\r\n  declarations: [WhatsappSettingsPage]\r\n})\r\nexport class WhatsappSettingsPageModule {}\r\n","module.exports = \"ion-card-subtitle {\\n  font-size: large;\\n  margin-bottom: 16px;\\n  display: -webkit-box;\\n  display: flex;\\n  justify-content: space-around;\\n}\\n\\nion-input {\\n  margin-bottom: 16px;\\n}\\n\\n.red {\\n  color: var(--ion-color-danger);\\n}\\n\\n#scroll1 {\\n  overflow: hidden;\\n  height: 82vh;\\n}\\n\\n#scroll1:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll2 {\\n  overflow: hidden;\\n  height: 82vh;\\n}\\n\\n#scroll2:hover {\\n  overflow-y: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vd2hhdHNhcHAvd2hhdHNhcHAtc2V0dGluZ3MvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFx3aGF0c2FwcFxcd2hhdHNhcHAtc2V0dGluZ3NcXHdoYXRzYXBwLXNldHRpbmdzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYWRtaW4vd2hhdHNhcHAvd2hhdHNhcHAtc2V0dGluZ3Mvd2hhdHNhcHAtc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDZCQUFBO0FDQ0o7O0FERUU7RUFDRSxtQkFBQTtBQ0NKOztBRENFO0VBQ0UsOEJBQUE7QUNFSjs7QURFRTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVHO0VBQ0MsZ0JBQUE7QUNDSjs7QURFRztFQUNDLGdCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVHO0VBQ0MsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2FkbWluL3doYXRzYXBwL3doYXRzYXBwLXNldHRpbmdzL3doYXRzYXBwLXNldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkLXN1YnRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gIH1cclxuICBcclxuICBpb24taW5wdXQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICB9XHJcbiAgLnJlZHtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gTWFuYWdlbWVudFxyXG4gICNzY3JvbGwxe1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGhlaWdodDogODJ2aFxyXG4gICB9XHJcbiAgXHJcbiAgICNzY3JvbGwxOmhvdmVye1xyXG4gICAgb3ZlcmZsb3cteTogYXV0b1xyXG4gICB9XHJcbiAgXHJcbiAgICNzY3JvbGwye1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGhlaWdodDogODJ2aDtcclxuICAgfVxyXG4gIFxyXG4gICAjc2Nyb2xsMjpob3ZlcntcclxuICAgIG92ZXJmbG93LXk6IGF1dG9cclxuICAgfSIsImlvbi1jYXJkLXN1YnRpdGxlIHtcbiAgZm9udC1zaXplOiBsYXJnZTtcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG59XG5cbmlvbi1pbnB1dCB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5yZWQge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG59XG5cbiNzY3JvbGwxIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiA4MnZoO1xufVxuXG4jc2Nyb2xsMTpob3ZlciB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbiNzY3JvbGwyIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiA4MnZoO1xufVxuXG4jc2Nyb2xsMjpob3ZlciB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { WhatsappDashboardService } from '../../../services/whatsapp-dashboard/whatsapp-dashboard.service'\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-whatsapp-settings',\r\n  templateUrl: './whatsapp-settings.page.html',\r\n  styleUrls: ['./whatsapp-settings.page.scss'],\r\n})\r\nexport class WhatsappSettingsPage implements OnInit {\r\n  whatsappDashboardData: any\r\n  credentials: any = {\r\n    authToken: '',\r\n    catalogueId: '',\r\n    catalogueFeedId: '',\r\n    phoneNumberId: '',\r\n    webhookVerifyToken: '',\r\n    businessId: '',\r\n    businessPageId: '',\r\n    devAppId: '',\r\n  }\r\n  selectedId: any;\r\n\r\n  constructor(\r\n    private WhatsappDashboardService: WhatsappDashboardService,\r\n    private sharedService: SharedService\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  async ionViewWillEnter() {\r\n    this.whatsappDashboardData = await this.WhatsappDashboardService.getWhatsappCredentials()\r\n    if (this.whatsappDashboardData && this.whatsappDashboardData.credentials) {\r\n      this.credentials = this.whatsappDashboardData.credentials;\r\n    }\r\n    // this.checkCredentials()\r\n  }\r\n\r\n\r\n  isValidCredentials() {\r\n    // for (let key in this.credentials) {\r\n    //   if (!this.credentials[key] || this.credentials[key] == '') {\r\n    //     return false;\r\n    //   }\r\n    // }\r\n    // return true;\r\n    if (!this.credentials.authToken || !this.credentials.catalogueId || !this.credentials.catalogueFeedId || !this.credentials.phoneNumberId || !this.credentials.webhookVerifyToken || !this.credentials.businessId || !this.credentials.businessPageId || !this.credentials.devAppId) {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n\r\n  async saveWhatsappCredentials() {\r\n    const validCredentials = this.isValidCredentials();\r\n    if (!validCredentials) {\r\n      this.sharedService.presentAlert('Please fill all credentials');\r\n      return;\r\n    }\r\n    const success = await this.WhatsappDashboardService.saveWhatsappCredentials(this.credentials)\r\n    if (success) {\r\n      if (this.sharedService.loading) {\r\n        this.sharedService.loading.dismiss();\r\n      }\r\n      this.sharedService.presentAlert('Settings saved successfully');\r\n    }\r\n  }\r\n\r\n  changeComponent(index) {\r\n    this.selectedId = index.toString()\r\n  }\r\n\r\n  async syncProducts(){\r\n    await this.WhatsappDashboardService.syncProducts();\r\n    this.sharedService.presentAlert('Products will sync in couple of minutes');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}