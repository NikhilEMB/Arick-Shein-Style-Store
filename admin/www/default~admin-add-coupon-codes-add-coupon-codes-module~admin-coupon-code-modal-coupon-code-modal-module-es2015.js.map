{"version":3,"sources":["./src/app/admin/coupon-code-modal/coupon-code-modal.page.html","./src/app/admin/coupon-code-modal/coupon-code-modal.page.scss","./src/app/admin/coupon-code-modal/coupon-code-modal.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,gfAAgf,2dAA2d,qNAAqN,oKAAoK,mBAAmB,0HAA0H,qBAAqB,iQAAiQ,eAAe,4KAA4K,iBAAiB,8nB;;;;;;;;;;;ACAn7D,6BAA6B,0BAA0B,uBAAuB,wBAAwB,2BAA2B,oBAAoB,kCAAkC,+BAA+B,kBAAkB,GAAG,OAAO,8BAA8B,uBAAuB,oBAAoB,GAAG,cAAc,uBAAuB,6BAA6B,GAAG,mBAAmB,iBAAiB,2BAA2B,iBAAiB,uBAAuB,GAAG,kBAAkB,qBAAqB,GAAG,cAAc,4FAA4F,GAAG,cAAc,cAAc,uBAAuB,aAAa,wCAAwC,wCAAwC,cAAc,uBAAuB,GAAG,kBAAkB,gBAAgB,GAAG,iBAAiB,iBAAiB,GAAG,cAAc,mBAAmB,uBAAuB,GAAG,WAAW,qBAAqB,GAAG,kBAAkB,uBAAuB,GAAG,8BAA8B,gBAAgB,GAAG,sBAAsB,yBAAyB,kBAAkB,8BAA8B,2CAA2C,8BAA8B,gCAAgC,sBAAsB,GAAG,+BAA+B,oBAAoB,iBAAiB,uBAAuB,GAAG,gBAAgB,gBAAgB,GAAG,gBAAgB,iBAAiB,qBAAqB,qBAAqB,GAAG,6CAA6C,+5K;;;;;;;;;;;;;;;;;;;ACAj+C;AACgC;AACpD;AAOzC,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAgB9B,YAAoB,MAAc,EACd,iBAAoC,EACpC,eAAgC,EAChC,eAAgC,EAChC,MAAc;QAJd,WAAM,GAAN,MAAM,CAAQ;QACd,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QAlBlC,kBAAa,GAAW,EAAE,CAAC;QAE3B,uBAAkB,GAAG,GAAG,CAAC;QACzB,qBAAgB,GAAY,KAAK,CAAC;QAClC,mBAAc,GAAG,IAAI,CAAC;QACtB,iBAAY,GAAQ,EAAE,CAAC;QAGvB,mBAAc,GAAY,KAAK,CAAC;QAEhC,yBAAoB,GAAQ,EAAE,CAAC;QAC/B,SAAI,GAAW,CAAC,CAAC;QACjB,yBAAoB,GAAY,KAAK,CAAC;IAMA,CAAC;IAEvC,QAAQ;QACN,0CAA0C;QAC1C,qEAAqE;IACvE,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IACD,uBAAuB;QACrB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,iDAAiD,EAAE,CAAC,QAAQ,EAAE,EAAE;YACpF,iDAAiD;YACjD,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACpE,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACzD,IAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;wBACzD,QAAQ,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;wBAC1C,MAAM;qBACP;yBAAM;wBACL,QAAQ,CAAC,KAAK,CAAC,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;qBAC5C;iBACF;aAEF;YACD,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;YAC7B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,oDAAoD;QACtD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,0CAA0C,EAAE,GAAG,EAAE;YACrE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,+CAA+C,EAAE,GAAG,EAAE;YAC1E,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,eAAe,GAAG,IAAI,CAAC;YAC7D,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAG,IAAI,CAAC,gBAAgB,KAAK,eAAe,EAAE;gBAC5C,IAAI,CAAC,YAAY,CAAC,iDAAiD,CAAC,CAAC;aACtE;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,6CAA6C,CAAC,CAAC;aAClE;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,wCAAwC,EAAE,GAAG,EAAE;YACnE,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/B,IAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YAChC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,GAAG,EAAE;gBACjC,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;gBACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,oDAAoD,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC;YACjH,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;SAE7B;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;aAC5B;SACF;IAEH,CAAC;IACK,kBAAkB,CAAC,KAAK;;YAC5B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,oDAAoD,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;YAC5H,UAAU,CAAC,GAAG,EAAE;gBACd,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,IAAI,CAAC,oBAAoB,KAAK,IAAI,EAAE;gBACtC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC9B;QACH,CAAC;KAAA;IAEK,yBAAyB,CAAC,IAAS,EAAE,KAAa;;YACtD,gCAAgC;YAChC,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,wCAAwC,EAAE,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC3H,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,CAAC;KAAA;IACK,cAAc;;YAClB,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,gBAAgB;gBACzB,QAAQ,EAAE,KAAK;aAChB,CAAC,CAAC;YACH,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;KAAA;IACK,YAAY,CAAC,GAAW;;YAC5B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IACD,UAAU;QACR,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC1D,CAAC;IAED,mCAAmC,CAAC,OAAO;QACzC,OAAO;YACL,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,QAAQ,EAAE,EAAC,KAAK,EAAE,OAAO,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAC;YACjI,QAAQ,EAAE,OAAO,CAAC,QAAQ;SAC3B;IACH,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,0CAA0C,CAAC,CAAC;QACpE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,+CAA+C,CAAC,CAAC;QACzE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,iDAAiD,CAAC,CAAC;QAC3E,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,wCAAwC,CAAC,CAAC;IACpE,CAAC;CACF;;YA3H6B,qDAAM;YACK,gEAAiB;YACnB,8DAAe;YACf,8DAAe;YACxB,sDAAM;;AApBvB,mBAAmB;IAL/B,+DAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;QACjC,iLAA4C;;KAE7C,CAAC;2EAiB4B,qDAAM;QACK,gEAAiB;QACnB,8DAAe;QACf,8DAAe;QACxB,sDAAM;GApBvB,mBAAmB,CA2I/B;AA3I+B","file":"default~admin-add-coupon-codes-add-coupon-codes-module~admin-coupon-code-modal-coupon-code-modal-module-es2015.js","sourcesContent":["module.exports = \"<ion-header no-border>\\r\\n  <div class=\\\"cc-modal-header\\\">\\r\\n    <div class=\\\"cc-search\\\">\\r\\n      <ion-input type=\\\"text\\\" placeholder=\\\"Search for products...\\\" [(ngModel)]=\\\"searchProduct\\\"\\r\\n      (ngModelChange)=\\\"fireSearchQuery()\\\" autocapitalize></ion-input>\\r\\n    </div>\\r\\n    <div>\\r\\n      <i class=\\\"flaticon-null-19\\\" (click)=\\\"closeModal()\\\"></i>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"no-data\\\" *ngIf=\\\"showNoProducts; else showProducts\\\" text-center>\\r\\n    <img src=\\\"assets/img/no-orders.png\\\" alt=\\\"\\\">\\r\\n    <h6>No products</h6>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"showSearchLoader\\\" class=\\\"spinner\\\">\\r\\n    <ion-spinner color=\\\"primary\\\"></ion-spinner>\\r\\n  </div>\\r\\n  <ng-template #showProducts>\\r\\n    <ion-list class=\\\"ion-no-padding list\\\" *ngIf=\\\"productsData.length && !showSearchLoader\\\" lines=\\\"none\\\">\\r\\n      <ion-item class=\\\"ion-no-padding\\\" *ngFor=\\\"let item of productsData; let i = index\\\">\\r\\n        <ion-grid class=\\\"ion-no-padding\\\">\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <ion-thumbnail style=\\\"margin-left: 5%;\\\" class=\\\"thumbnail\\\">\\r\\n                <img class=\\\"loading\\\" *ngIf=\\\"item.coverPic && !item.coverPic.thumb && item.coverPic.url\\\"\\r\\n                  src=\\\"{{item.coverPic.url}}\\\">\\r\\n                <img class=\\\"loading\\\" *ngIf=\\\"item.coverPic && item.coverPic.thumb\\\"\\r\\n                  src=\\\"{{item.coverPic.thumb}}\\\">\\r\\n                <img *ngIf=\\\"!item.coverPic\\\" src=\\\"assets/img/placeholder-img.jpg\\\">\\r\\n              </ion-thumbnail>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\">\\r\\n              <p class=\\\"ion-text-capitalize ion-text-center\\\">{{item.prodName}}</p>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <p class=\\\"ion-text-center ion-text-uppercase\\\" style=\\\"color: var(--ion-color-primary); cursor: pointer;\\\" (click)=\\\"addProductAsNotApplicable(item, i)\\\" *ngIf=\\\"!item.isNotApplicable\\\">add</p>\\r\\n              <p class=\\\"ion-text-center ion-text-uppercase\\\" *ngIf=\\\"item.isNotApplicable\\\">added</p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n  </ng-template>\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"searchMoreProducts($event)\\\" *ngIf=\\\"searchProduct\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more products...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n\"","module.exports = \"ion-input {\\n  --padding-start: 15px;\\n  --padding-end: 5px;\\n  --padding-top: 15px;\\n  --padding-bottom: 15px;\\n  font-size: 15px;\\n  border-bottom: 1px solid #ccc;\\n  text-transform: capitalize;\\n  outline: none;\\n}\\n\\np {\\n  text-transform: uppercase;\\n  text-align: center;\\n  font-size: 13px;\\n}\\n\\nion-item {\\n  --padding-end: 0px;\\n  --inner-padding-end: 0px;\\n}\\n\\nion-thumbnail {\\n  --size: 50px;\\n  border: 1px solid #ddd;\\n  padding: 1px;\\n  border-radius: 5px;\\n}\\n\\n.margin-icon {\\n  margin-left: 5px;\\n}\\n\\n.loading {\\n  background: transparent url(\\\"https://s5.gifyu.com/images/377-2.gif\\\") center no-repeat;\\n}\\n\\n.no-data {\\n  margin: 0;\\n  position: absolute;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  left: 50%;\\n  margin-left: -45px;\\n}\\n\\n.no-data img {\\n  width: 90px;\\n}\\n\\n.no-data h6 {\\n  opacity: 0.6;\\n}\\n\\n.spinner {\\n  margin-top: 5%;\\n  text-align: center;\\n}\\n\\n.list {\\n  overflow-y: auto;\\n}\\n\\n.add-spinner {\\n  text-align: center;\\n}\\n\\n.add-spinner ion-spinner {\\n  width: 15px;\\n}\\n\\n.cc-modal-header {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 2%;\\n}\\n\\n.flaticon-null-19::before {\\n  font-size: 20px;\\n  opacity: 0.6;\\n  margin-right: 10px;\\n}\\n\\n.cc-search {\\n  width: 100%;\\n}\\n\\nion-footer {\\n  height: 55px;\\n  background: none;\\n  box-shadow: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vY291cG9uLWNvZGUtbW9kYWwvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFxjb3Vwb24tY29kZS1tb2RhbFxcY291cG9uLWNvZGUtbW9kYWwucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9jb3Vwb24tY29kZS1tb2RhbC9jb3Vwb24tY29kZS1tb2RhbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLGVBQUE7RUFDQSw2QkFBQTtFQUNBLDBCQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVFO0VBQ0UseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUNDSjs7QURFRTtFQUNFLGtCQUFBO0VBQ0Esd0JBQUE7QUNDSjs7QURFRTtFQUNFLFlBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVFO0VBQ0UsZ0JBQUE7QUNDSjs7QURFRTtFQUNFLHFGQUFBO0FDQ0o7O0FERUU7RUFDRSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBRUEsbUNBQUE7VUFBQSwyQkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVFO0VBQ0UsV0FBQTtBQ0NKOztBREVFO0VBQ0UsWUFBQTtBQ0NKOztBREVFO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUU7RUFDRSxnQkFBQTtBQ0NKOztBREVFO0VBQ0Usa0JBQUE7QUNDSjs7QURFRTtFQUNFLFdBQUE7QUNDSjs7QURDRTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsaUJBQUE7QUNFSjs7QURBRTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNHSjs7QURERTtFQUNFLFdBQUE7QUNJSjs7QURGRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDS0oiLCJmaWxlIjoic3JjL2FwcC9hZG1pbi9jb3Vwb24tY29kZS1tb2RhbC9jb3Vwb24tY29kZS1tb2RhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taW5wdXQge1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAxNXB4O1xyXG4gICAgLS1wYWRkaW5nLWVuZDogNXB4O1xyXG4gICAgLS1wYWRkaW5nLXRvcDogMTVweDtcclxuICAgIC0tcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcclxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICB9XHJcbiAgXHJcbiAgcCB7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gIH1cclxuICBcclxuICBpb24taXRlbSB7XHJcbiAgICAtLXBhZGRpbmctZW5kOiAwcHg7XHJcbiAgICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi10aHVtYm5haWwge1xyXG4gICAgLS1zaXplOiA1MHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICB9XHJcbiAgXHJcbiAgLm1hcmdpbi1pY29uIHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5sb2FkaW5nIHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgnaHR0cHM6Ly9zNS5naWZ5dS5jb20vaW1hZ2VzLzM3Ny0yLmdpZicpIGNlbnRlciBuby1yZXBlYXQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5uby1kYXRhIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAtNDVweDtcclxuICB9XHJcbiAgXHJcbiAgLm5vLWRhdGEgaW1nIHtcclxuICAgIHdpZHRoOiA5MHB4O1xyXG4gIH1cclxuICBcclxuICAubm8tZGF0YSBoNiB7XHJcbiAgICBvcGFjaXR5OiAuNjtcclxuICB9XHJcbiAgXHJcbiAgLnNwaW5uZXIge1xyXG4gICAgbWFyZ2luLXRvcDogNSU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5saXN0IHtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIC5hZGQtc3Bpbm5lcntcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLmFkZC1zcGlubmVyIGlvbi1zcGlubmVye1xyXG4gICAgd2lkdGg6IDE1cHg7XHJcbiAgfVxyXG4gIC5jYy1tb2RhbC1oZWFkZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDIlO1xyXG4gIH1cclxuICAuZmxhdGljb24tbnVsbC0xOTo6YmVmb3JlIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIG9wYWNpdHk6IC42O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuICAuY2Mtc2VhcmNoe1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIGlvbi1mb290ZXIge1xyXG4gICAgaGVpZ2h0OiA1NXB4O1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbiAgfSIsImlvbi1pbnB1dCB7XG4gIC0tcGFkZGluZy1zdGFydDogMTVweDtcbiAgLS1wYWRkaW5nLWVuZDogNXB4O1xuICAtLXBhZGRpbmctdG9wOiAxNXB4O1xuICAtLXBhZGRpbmctYm90dG9tOiAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxucCB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxM3B4O1xufVxuXG5pb24taXRlbSB7XG4gIC0tcGFkZGluZy1lbmQ6IDBweDtcbiAgLS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xufVxuXG5pb24tdGh1bWJuYWlsIHtcbiAgLS1zaXplOiA1MHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICBwYWRkaW5nOiAxcHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuLm1hcmdpbi1pY29uIHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuLmxvYWRpbmcge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoXCJodHRwczovL3M1LmdpZnl1LmNvbS9pbWFnZXMvMzc3LTIuZ2lmXCIpIGNlbnRlciBuby1yZXBlYXQ7XG59XG5cbi5uby1kYXRhIHtcbiAgbWFyZ2luOiAwO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIGxlZnQ6IDUwJTtcbiAgbWFyZ2luLWxlZnQ6IC00NXB4O1xufVxuXG4ubm8tZGF0YSBpbWcge1xuICB3aWR0aDogOTBweDtcbn1cblxuLm5vLWRhdGEgaDYge1xuICBvcGFjaXR5OiAwLjY7XG59XG5cbi5zcGlubmVyIHtcbiAgbWFyZ2luLXRvcDogNSU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmxpc3Qge1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uYWRkLXNwaW5uZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5hZGQtc3Bpbm5lciBpb24tc3Bpbm5lciB7XG4gIHdpZHRoOiAxNXB4O1xufVxuXG4uY2MtbW9kYWwtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyJTtcbn1cblxuLmZsYXRpY29uLW51bGwtMTk6OmJlZm9yZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgb3BhY2l0eTogMC42O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5jYy1zZWFyY2gge1xuICB3aWR0aDogMTAwJTtcbn1cblxuaW9uLWZvb3RlciB7XG4gIGhlaWdodDogNTVweDtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm94LXNoYWRvdzogbm9uZTtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Events, LoadingController, ToastController, ModalController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-coupon-code-modal',\r\n  templateUrl: './coupon-code-modal.page.html',\r\n  styleUrls: ['./coupon-code-modal.page.scss'],\r\n})\r\nexport class CouponCodeModalPage implements OnInit {\r\n\r\n  searchProduct: string = '';\r\n  typingTimer;\r\n  doneTypingInterval = 500;\r\n  showSearchLoader: boolean = false;\r\n  showNoProducts = true;\r\n  productsData: any = [];\r\n  selectedIndex: number;\r\n  loading: any;\r\n  noMoreProducts: boolean = false;\r\n  codeId: string;\r\n  alreadyAddedProducts: any = [];\r\n  page: number = 0;\r\n  noMoreSearchProducts: boolean = false;\r\n  applicableStatus: any;\r\n  constructor(private events: Events,\r\n              private loadingController: LoadingController,\r\n              private toastController: ToastController,\r\n              private modalController: ModalController,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    // //console.log('code id ', this.codeId);\r\n    // //console.log('alreadyAdded products', this.alreadyAddedProducts);\r\n  }\r\n  ionViewWillEnter() {\r\n    this.initializeSubscriptions();\r\n  }\r\n  ionViewWillLeave() {\r\n    this.removeSubscriptions();\r\n  }\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('coupon-codes:publishProductsForCouponCodesModal', (products) => {\r\n      // //console.log('in all products SUBSCRIPTION');\r\n      console.log('this.alreadyAddedProducts', this.alreadyAddedProducts);\r\n      for (let index = 0; index < products.length; index++) {\r\n        for (let x = 0; x < this.alreadyAddedProducts.length; x++) {\r\n          if(products[index].id === this.alreadyAddedProducts[x].id) {\r\n            products[index]['isNotApplicable'] = true;\r\n            break;\r\n          } else {\r\n            products[index]['isNotApplicable'] = false;\r\n          }\r\n        }\r\n\r\n      }\r\n      this.productsData = products;\r\n      this.showNoProducts = false;\r\n      this.showSearchLoader = false;\r\n      // //console.log('all products', this.productsData);\r\n    });\r\n    this.events.subscribe('coupon-codes:noProductsAvailableForModal', () => {\r\n      this.showNoProducts = true;\r\n      this.showSearchLoader = false;\r\n    });\r\n    this.events.subscribe('coupon-codes:addProductAsNotApplicableSuccess', () => {\r\n      this.productsData[this.selectedIndex].isNotApplicable = true;\r\n      this.loading.dismiss();\r\n      if(this.applicableStatus === 'notApplicable') {\r\n        this.presentToast('Coupon code will not be applied on this product');\r\n      } else {\r\n        this.presentToast('Coupon code will be applied on this product');\r\n      }\r\n    });\r\n    this.events.subscribe('coupon-codes:noMoreAdminSearchProducts', () => {\r\n      this.noMoreSearchProducts = true;\r\n      this.showSearchLoader = false;\r\n    });\r\n  }\r\n\r\n  fireSearchQuery() {\r\n    clearTimeout(this.typingTimer);\r\n    if(this.searchProduct.length > 2) {\r\n      this.typingTimer = setTimeout(() => {\r\n        console.log('in fireSearchQuery...');\r\n        this.showSearchLoader = true;\r\n        this.showNoProducts = false;\r\n        this.events.publish('search-engine:alogoliaSearchProductsForCouponCodes', this.searchProduct, 0, 'new_search');\r\n      }, this.doneTypingInterval);\r\n\r\n    } else {\r\n      if (!this.searchProduct.length) {\r\n        this.showNoProducts = true;\r\n      }\r\n    }\r\n\r\n  }\r\n  async searchMoreProducts(event) {\r\n    console.log('loading more data...');\r\n    this.page = this.page + 1;\r\n    this.events.publish('search-engine:alogoliaSearchProductsForCouponCodes', this.searchProduct, this.page, 'existing_search');\r\n    setTimeout(() => {\r\n      event.target.complete();\r\n    }, 1000);\r\n    if (this.noMoreSearchProducts === true) {\r\n      event.target.disabled = true;\r\n    }\r\n  }\r\n\r\n  async addProductAsNotApplicable(item: any, index: number) {\r\n    // //console.log('item:', item);\r\n    await this.presentLoading();\r\n    this.selectedIndex = index;\r\n    this.events.publish('coupon-codes:addProductAsNotApplicable', this.getProductDataForNotApplicableArray(item), this.codeId);\r\n    this.alreadyAddedProducts.push(this.getProductDataForNotApplicableArray(item));\r\n  }\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait...',\r\n      duration: 10000\r\n    });\r\n    await this.loading.present();\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n  closeModal() {\r\n    this.modalController.dismiss(this.alreadyAddedProducts);\r\n  }\r\n\r\n  getProductDataForNotApplicableArray(product) {\r\n    return {\r\n      id: product.id,\r\n      coverPic: {thumb: product.coverPic && Object.keys(product.coverPic).length ? product.coverPic.thumb || product.coverPic.url : ''},\r\n      prodName: product.prodName\r\n    }\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('coupon-codes:noProductsAvailableForModal');\r\n    this.events.unsubscribe('coupon-codes:addProductAsNotApplicableSuccess');\r\n    this.events.unsubscribe('coupon-codes:publishProductsForCouponCodesModal');\r\n    this.events.unsubscribe('coupon-codes:noMoreAdminSearchProducts');\r\n  }\r\n}\r\n"],"sourceRoot":""}