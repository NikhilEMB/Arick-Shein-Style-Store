{"version":3,"sources":["./src/app/admin/filter-settings/add-filter/add-filter.page.html","./src/app/admin/filter-settings/add-filter/add-filter.module.ts","./src/app/admin/filter-settings/add-filter/add-filter.page.scss","./src/app/admin/filter-settings/add-filter/add-filter.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,ohBAAohB,MAAM,MAAM,uxCAAuxC,aAAa,gDAAgD,aAAa,ieAAie,+BAA+B,6CAA6C,MAAM,4SAA4S,2BAA2B,yCAAyC,MAAM,kS;;;;;;;;;;;;;;;;;;;;;;ACAjwF;AACM;AACF;AACU;AAEV;AAEK;AAElD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;CACF,CAAC;AAWF,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAT/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,8DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;ACzBhC,gCAAgC,mBAAmB,GAAG,eAAe,kBAAkB,GAAG,wBAAwB,qBAAqB,GAAG,wCAAwC,oBAAoB,iBAAiB,GAAG,aAAa,yBAAyB,kBAAkB,oBAAoB,GAAG,iBAAiB,mBAAmB,GAAG,eAAe,2BAA2B,uBAAuB,GAAG,aAAa,2BAA2B,oBAAoB,GAAG,aAAa,2BAA2B,sBAAsB,yBAAyB,GAAG,yBAAyB,0BAA0B,GAAG,6CAA6C,+5E;;;;;;;;;;;;;;;;;;;;;ACA9lB;AACO;AACoC;AACzB;AACoB;AAOxF,IAAa,aAAa,GAA1B,MAAa,aAAa;IActB,YAAoB,MAAc,EACtB,YAA0B,EAC1B,eAAgC,EAChC,iBAAoC,EACpC,MAAc,EACd,KAAqB,EACrB,eAAgC;QANxB,WAAM,GAAN,MAAM,CAAQ;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,oBAAe,GAAf,eAAe,CAAiB;QAd5C,WAAM,GAAG;YACL,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,EAAE;YACV,UAAU,EAAE,EAAE;YACd,MAAM,EAAE,EAAE;SACb,CAAC;QASE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACtC,IAAI,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE;gBACjD,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC;gBAC9E,IAAI,UAAU,EAAE;oBACZ,UAAU,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,UAAU,IAAI,EAAE,CAAC;oBACvD,UAAU,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,MAAM,IAAI,EAAE,CAAC;oBAC/C,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;iBAC5B;aACJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAChE,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;SAC7D;aAAM;YACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;SAC7D;IACL,CAAC;IAEK,gBAAgB;;YAClB,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACnC,CAAC;KAAA;IAED,gBAAgB;QACZ,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAED,uBAAuB;QACnB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,qBAAqB,EAAE,GAAG,EAAE;YAC9C,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;aAC1B;YACD,IAAI,CAAC,YAAY,CAAC,6BAA6B,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,YAAY;QACR,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC7C,CAAC;IAED,SAAS;QACL,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,YAAY,CAAC,CAAS;QAClB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IAEK,cAAc,CAAC,QAAgB,EAAE,GAAW;;YAC9C,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAC/C,OAAO,EAAE,GAAG;gBACZ,QAAQ,EAAE,QAAQ;aACrB,CAAC,CAAC;YACH,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;KAAA;IAEK,YAAY,CAAC,GAAW;;YAC1B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,OAAO,EAAE,GAAG;gBACZ,OAAO,EAAE,CAAC;wBACN,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;wBAC9B,OAAO,EAAE,GAAG,EAAE;wBACd,CAAC;qBACJ,CAAC;aACL,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;IAEK,UAAU;;YACZ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBACnB,MAAM,IAAI,CAAC,YAAY,CAAC,wBAAwB,CAAC,CAAC;aACrD;iBAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;gBACnC,MAAM,IAAI,CAAC,YAAY,CAAC,qCAAqC,CAAC,CAAC;aAClE;iBAAM;gBACH,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBAClD,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,CAAC;gBACnE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;aAC1D;QACL,CAAC;KAAA;IAED,eAAe,CAAC,IAAY;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;IACpC,CAAC;IAEK,UAAU,CAAC,IAAY;;YACzB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE,8FAAoB;gBAC/B,cAAc,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;aAC1D,CAAC,CAAC;YAEH,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBAC5B,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBACpC,IAAI,UAAU,GAAG,EAAE,CAAC;oBACpB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;wBAC7B,IAAG,MAAM,CAAC,MAAM,EAAE;4BAChB,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;4BAC3B,IAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;gCACxB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;oCAC7B,IAAG,KAAK,CAAC,MAAM,EAAE;wCACf,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;qCAC3B;gCACH,CAAC,CAAC,CAAC;6BACJ;yBACF;oBACH,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;oBACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC;iBAChC;YACL,CAAC,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;IAED,mBAAmB;QACf,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;IACnD,CAAC;CAEJ;;YAjI+B,qDAAM;YACR,iFAAY;YACT,8DAAe;YACb,gEAAiB;YAC5B,sDAAM;YACP,8DAAc;YACJ,8DAAe;;AApBnC,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,4KAAqC;;KAEtC,CAAC;2EAe8B,qDAAM;QACR,iFAAY;QACT,8DAAe;QACb,gEAAiB;QAC5B,sDAAM;QACP,8DAAc;QACJ,8DAAe;GApBnC,aAAa,CA+IzB;AA/IyB","file":"admin-filter-settings-add-filter-add-filter-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title class=\\\"ion-text-center\\\">Add Filter</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> \\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <br>\\r\\n    <div class=\\\"toggle\\\">\\r\\n        <p>Active</p>&nbsp;&nbsp;&nbsp;\\r\\n        <div class=\\\"toggle-btn\\\">\\r\\n          <label class=\\\"switch\\\">\\r\\n            <input type=\\\"checkbox\\\" (click)=\\\"toggleActive()\\\" [checked]=\\\"filter.active\\\">\\r\\n            <span class=\\\"slider round\\\"></span>\\r\\n          </label>\\r\\n        </div>\\r\\n    </div>\\r\\n    <br>\\r\\n    <div class=\\\"data-field\\\">\\r\\n      <div class=\\\"data-field-txt\\\">\\r\\n        Name\\r\\n      </div>\\r\\n      <div>\\r\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"filter.name\\\" class=\\\"form-input\\\"></ion-input>\\r\\n      </div>\\r\\n    </div>\\r\\n    <br>\\r\\n  <div class=\\\"data-field\\\">\\r\\n    <div class=\\\"data-field-txt\\\">\\r\\n      Values\\r\\n    </div>\\r\\n    <div>\\r\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"value\\\" class=\\\"form-input\\\"></ion-input>\\r\\n      <br>\\r\\n      <ion-button (click)=\\\"addFilter()\\\" fill=\\\"outline\\\" shape=\\\"round\\\" size=\\\"small\\\" [disabled]=\\\"!value\\\">\\r\\n        Add\\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <br>\\r\\n  <div class=\\\"dataTable\\\">\\r\\n      <div *ngIf=\\\"filter.values.length\\\">\\r\\n        <ion-grid class=\\\"ion-no-padding data-table ion-text-center\\\">\\r\\n          <ion-row>\\r\\n            <ion-col>Values</ion-col>\\r\\n            <ion-col>Remove</ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row *ngFor=\\\"let filterValue of filter.values; let i=index;\\\">\\r\\n            <ion-col>\\r\\n              {{filterValue}}\\r\\n            </ion-col>\\r\\n            <ion-col (click)=\\\"removeFilter(i)\\\">\\r\\n              <i class=\\\"flaticon-null-17\\\"></i>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </div>\\r\\n  </div>\\r\\n  <br>\\r\\n  <div class=\\\"data-field\\\">\\r\\n    <div class=\\\"data-field-txt\\\">\\r\\n      Link Categories\\r\\n    </div>\\r\\n    <div class=\\\"border content-alignment f-s-14 c-b-link m-t-10\\\" (click)=\\\"onClickAdd('categories')\\\">\\r\\n      <ion-text>{{getLinkedLength('categories')}} Categories Linked</ion-text>\\r\\n      &nbsp;&nbsp;<i class=\\\"flaticon-null-5\\\"></i>\\r\\n    </div>\\r\\n  </div>\\r\\n  <br>\\r\\n  <div class=\\\"data-field\\\">\\r\\n    <div class=\\\"data-field-txt\\\">\\r\\n      Link Brands\\r\\n    </div>\\r\\n    <div class=\\\"border content-alignment f-s-14 c-b-link m-t-10\\\" (click)=\\\"onClickAdd('brands')\\\">\\r\\n      <ion-text>{{getLinkedLength('brands')}} Brands Linked</ion-text>\\r\\n      &nbsp;&nbsp;<i class=\\\"flaticon-null-5\\\"></i>\\r\\n    </div>\\r\\n  </div>\\r\\n  <br><br>\\r\\n  <ion-row class=\\\"ion-justify-content-center\\\">\\r\\n    <ion-button (click)=\\\"saveFilter()\\\" fill=\\\"outline\\\" shape=\\\"round\\\" >\\r\\n      Save\\r\\n    </ion-button>\\r\\n  </ion-row>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddFilterPage } from './add-filter.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddFilterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AddFilterPage]\r\n})\r\nexport class AddFilterPageModule {}\r\n","module.exports = \".value-input {\\n  max-width: 60%;\\n}\\n\\n.c-b-link {\\n  padding: 10px;\\n}\\n\\n.c-b-link ion-text {\\n  margin-left: 5px;\\n}\\n\\n.c-b-link .flaticon-null-5::before {\\n  font-size: 18px;\\n  opacity: 0.6;\\n}\\n\\n.toggle {\\n  display: -webkit-box;\\n  display: flex;\\n  margin: 0% auto;\\n}\\n\\n.data-field {\\n  display: block;\\n}\\n\\nion-input {\\n  border: 1px solid gray;\\n  border-radius: 5px;\\n}\\n\\n.border {\\n  border: 1px solid gray;\\n  cursor: pointer;\\n}\\n\\nion-col {\\n  border: 1px solid gray;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\nion-row:first-child {\\n  background: lightgray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vZmlsdGVyLXNldHRpbmdzL2FkZC1maWx0ZXIvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFxmaWx0ZXItc2V0dGluZ3NcXGFkZC1maWx0ZXJcXGFkZC1maWx0ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9maWx0ZXItc2V0dGluZ3MvYWRkLWZpbHRlci9hZGQtZmlsdGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNFLGFBQUE7QUNDRjs7QURBRTtFQUNFLGdCQUFBO0FDRUo7O0FEQUU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtBQ0VKOztBREVBO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsZUFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usc0JBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUNDRjs7QURFQTtFQUNFLHFCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9hZG1pbi9maWx0ZXItc2V0dGluZ3MvYWRkLWZpbHRlci9hZGQtZmlsdGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52YWx1ZS1pbnB1dCB7XHJcbiAgICBtYXgtd2lkdGg6IDYwJTtcclxufVxyXG5cclxuLmMtYi1saW5rIHtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGlvbi10ZXh0IHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgfVxyXG4gIC5mbGF0aWNvbi1udWxsLTU6OmJlZm9yZSB7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBvcGFjaXR5OiAuNjtcclxuICB9XHJcbn1cclxuXHJcbi50b2dnbGV7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IDAlIGF1dG9cclxufVxyXG5cclxuLmRhdGEtZmllbGR7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbmlvbi1pbnB1dHtcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLmJvcmRlcntcclxuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gIGN1cnNvcjogcG9pbnRlclxyXG59XHJcblxyXG5pb24tY29se1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHhcclxufVxyXG5cclxuaW9uLXJvdzpmaXJzdC1jaGlsZHtcclxuICBiYWNrZ3JvdW5kOiBsaWdodGdyYXlcclxufSIsIi52YWx1ZS1pbnB1dCB7XG4gIG1heC13aWR0aDogNjAlO1xufVxuXG4uYy1iLWxpbmsge1xuICBwYWRkaW5nOiAxMHB4O1xufVxuLmMtYi1saW5rIGlvbi10ZXh0IHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbi5jLWItbGluayAuZmxhdGljb24tbnVsbC01OjpiZWZvcmUge1xuICBmb250LXNpemU6IDE4cHg7XG4gIG9wYWNpdHk6IDAuNjtcbn1cblxuLnRvZ2dsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbjogMCUgYXV0bztcbn1cblxuLmRhdGEtZmllbGQge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuaW9uLWlucHV0IHtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uYm9yZGVyIHtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG5pb24tY29sIHtcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcbiAgcGFkZGluZy10b3A6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5pb24tcm93OmZpcnN0LWNoaWxkIHtcbiAgYmFja2dyb3VuZDogbGlnaHRncmF5O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertController, Events, LoadingController, ModalController } from '@ionic/angular';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { SelectCategoriesPage } from './../../select-categories/select-categories.page';\r\n\r\n@Component({\r\n  selector: 'app-add-filter',\r\n  templateUrl: './add-filter.page.html',\r\n  styleUrls: ['./add-filter.page.scss'],\r\n})\r\nexport class AddFilterPage implements OnInit {\r\n\r\n    SHARED_LABELS: any;\r\n    ADD_FILTER_LABELS: any;\r\n    headerText: any;\r\n    loading: any;\r\n    filter = {\r\n        name: '',\r\n        active: true,\r\n        values: [],\r\n        categories: [],\r\n        brands: []\r\n    };\r\n    value: string;\r\n    constructor(private events: Events,\r\n        private labelService: LabelService,\r\n        private alertController: AlertController,\r\n        private loadingController: LoadingController,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private modalController: ModalController) {\r\n        this.route.queryParams.subscribe(params => {\r\n            if (this.router.getCurrentNavigation().extras.state) {\r\n                const filterData = this.router.getCurrentNavigation().extras.state.filterData;\r\n                if (filterData) {\r\n                    filterData['categories'] = filterData.categories || [];\r\n                    filterData['brands'] = filterData.brands || [];\r\n                    this.filter = filterData;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n        this.ADD_FILTER_LABELS = this.labelService.labels['ADD_FILTER'];\r\n        if (this.filter.name) {\r\n            this.headerText = this.ADD_FILTER_LABELS['header_text_2'];\r\n        } else {\r\n            this.headerText = this.ADD_FILTER_LABELS['header_text_1'];\r\n        }\r\n    }\r\n\r\n    async ionViewWillEnter() {\r\n        this.initializeSubscriptions();\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        this.removeSubscriptions();\r\n    }\r\n\r\n    initializeSubscriptions() {\r\n        this.events.subscribe('filters:filterSaved', () => {\r\n            if (this.loading) {\r\n                this.loading.dismiss();\r\n            }\r\n            this.presentAlert(\"Filter saved successfully !\");\r\n        });\r\n    }\r\n\r\n    toggleActive() {\r\n        this.filter.active = !this.filter.active;\r\n    }\r\n\r\n    addFilter() {\r\n        this.filter.values.push(this.value.toLowerCase());\r\n        this.value = null;\r\n    }\r\n\r\n    removeFilter(i: number) {\r\n        this.filter.values.splice(i, 1);\r\n    }\r\n\r\n    async presentLoading(duration: number, msg: string) {\r\n        this.loading = await this.loadingController.create({\r\n            message: msg,\r\n            duration: duration,\r\n        });\r\n        await this.loading.present();\r\n    }\r\n\r\n    async presentAlert(msg: string) {\r\n        const alert = await this.alertController.create({\r\n            message: msg,\r\n            buttons: [{\r\n                text: this.SHARED_LABELS['ok'],\r\n                handler: () => {\r\n                }\r\n            }]\r\n        });\r\n\r\n        await alert.present();\r\n    }\r\n\r\n    async saveFilter() {\r\n        if (!this.filter.name) {\r\n            await this.presentAlert('Please add filter name');\r\n        } else if (!this.filter.values.length) {\r\n            await this.presentAlert('Please fill filter values correctly');\r\n        } else {\r\n            this.filter.name = this.filter.name.toLowerCase();\r\n            await this.presentLoading(5000, this.SHARED_LABELS['please_wait']);\r\n            this.events.publish('filters:saveFilter', this.filter);\r\n        }\r\n    }\r\n\r\n    getLinkedLength(type: string) {\r\n        return this.filter[type].length;\r\n    }\r\n\r\n    async onClickAdd(type: string) {\r\n        const modal = await this.modalController.create({\r\n            component: SelectCategoriesPage,\r\n            componentProps: { type, linkedList: this.filter[type] }\r\n        });\r\n\r\n        modal.onDidDismiss().then(res => {\r\n            if (res.data && res.data.list.length) {\r\n              let linkedList = [];\r\n              res.data.list.forEach(parent => {\r\n                if(parent.active) {\r\n                  linkedList.push(parent.id);\r\n                  if(parent.sublist.length) {\r\n                    parent.sublist.forEach(child => {\r\n                      if(child.active) {\r\n                        linkedList.push(child.id);\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              });\r\n              console.log('linkedList', linkedList);\r\n              this.filter[type] = linkedList;\r\n            }\r\n        });\r\n\r\n        await modal.present();\r\n    }\r\n\r\n    removeSubscriptions() {\r\n        this.events.unsubscribe('filters:filterSaved');\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}