{"version":3,"sources":["./src/app/vendor-membership/buy-vendor-membership/buy-vendor-membership.page.html","./src/app/vendor-membership/buy-vendor-membership/buy-vendor-membership.module.ts","./src/app/vendor-membership/buy-vendor-membership/buy-vendor-membership.page.scss","./src/app/vendor-membership/buy-vendor-membership/buy-vendor-membership.page.ts"],"names":[],"mappings":"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","file":"vendor-membership-buy-vendor-membership-buy-vendor-membership-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ng-container *ngIf=\\\"userMembership?.active\\\">\\r\\n      <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n      </ion-menu-button>\\r\\n    </ng-container>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>Membership</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n\\r\\n    <!-- Vendor Membership -->\\r\\n    <ng-container *ngIf=\\\"userMembership && userMembership.active; else notMember;\\\">\\r\\n      <div class=\\\"userMembership\\\">\\r\\n        <h3>Your Membership</h3>\\r\\n        <p><strong>Purchased Plan: </strong>{{userMembership.name}}</p>\\r\\n        <p>\\r\\n          <strong>Plan Duration : </strong>\\r\\n          {{userMembership.months}} plan\\r\\n        </p>\\r\\n        <ng-container *ngIf=\\\"userMembership?.validTill\\\">\\r\\n          <p><strong>Total Days Left : </strong>{{totalDaysLeft()}} Days</p>\\r\\n          <p><strong>Valid Till : </strong>{{userMembership.validTill | date: 'dd/MM/yyyy'}}</p>\\r\\n        </ng-container>\\r\\n      </div>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- No Membership Active -->\\r\\n    <ng-template #notMember>\\r\\n      <ng-container *ngIf=\\\"!membershipSettings.active; else showPlans;\\\">\\r\\n        <div class=\\\"noData\\\">\\r\\n          <img src=\\\"assets/img/no-product.png\\\">\\r\\n          <h6>No Plans Available</h6>\\r\\n        </div>\\r\\n      </ng-container>\\r\\n\\r\\n      <!-- Membership Settings & Plans -->\\r\\n      <ng-template #showPlans>\\r\\n        <h2>{{membershipSettings.name}}</h2>\\r\\n\\r\\n        <ng-container *ngIf=\\\"membershipSettings.description\\\">\\r\\n          <p [innerHtml]=\\\"membershipSettings.description\\\"></p>\\r\\n        </ng-container>\\r\\n\\r\\n        <!-- <p><strong>Membership Name:</strong> {{membershipSettings.name}}</p>\\r\\n\\r\\n        <ng-container *ngIf=\\\"membershipSettings.description\\\">\\r\\n          <p class=\\\"m-t-16\\\"><strong>Membership Description:</strong></p>\\r\\n          <div [innerHtml]=\\\"membershipSettings.description\\\"></div>\\r\\n        </ng-container> -->\\r\\n\\r\\n        <div class=\\\"plans-wrapper\\\">\\r\\n          <ion-grid>\\r\\n            <ion-row>\\r\\n              <ng-container *ngFor=\\\"let plan of membershipSettings.plans; index as i\\\">\\r\\n                <ion-col size=\\\"12\\\" size-md=\\\"4\\\">\\r\\n                  <div class=\\\"plan-wrapper\\\">\\r\\n                    <ion-card class=\\\"membership-card\\\">\\r\\n                      <ion-card-header>\\r\\n                        <ion-card-title>{{getMonths(plan.months)}}</ion-card-title>\\r\\n                      </ion-card-header>\\r\\n                      <ion-card-content>\\r\\n                        <ion-label class=\\\"price\\\">\\r\\n                          {{plan.discountedPrice | currency: currencyCode: true: '.2-2'}}\\r\\n                          <del class=\\\"price\\\" *ngIf=\\\"plan.discountedPrice < plan.price\\\">\\r\\n                            {{plan.price | currency:currencyCode: true: '.2-2'}}\\r\\n                          </del>\\r\\n                        </ion-label>\\r\\n                        <br>\\r\\n                        <ion-label class=\\\"discount\\\">\\r\\n                          Save {{getDiscount(plan.price,plan.discountedPrice)}}%\\r\\n                        </ion-label>\\r\\n                      </ion-card-content>\\r\\n                      <ion-button class=\\\"btn-1\\\" (click)=\\\"buyPlan(i)\\\" expand=\\\"full\\\" color=\\\"success\\\">\\r\\n                        Buy Plan\\r\\n                      </ion-button>\\r\\n                    </ion-card>\\r\\n                  </div>\\r\\n                </ion-col>\\r\\n              </ng-container>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </ng-template>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BuyVendorMembershipPage } from './buy-vendor-membership.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BuyVendorMembershipPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [BuyVendorMembershipPage]\r\n})\r\nexport class BuyVendorMembershipPageModule {}\r\n","module.exports = \"ion-content {\\n  --background: #fff;\\n}\\n\\n.main-container {\\n  border: none;\\n}\\n\\n.plans-wrapper {\\n  margin-top: 32px;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card {\\n  margin-bottom: 16px;\\n  text-align: center;\\n  border-radius: 16px;\\n  box-shadow: 0 2px 5px #ccc;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card:hover {\\n  box-shadow: 0 2px 10px #ccc;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-header {\\n  background: #ecf2ff;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-header ion-card-title {\\n  color: #000;\\n  font-size: 18px;\\n  font-weight: 500;\\n  text-transform: capitalize;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-content {\\n  padding: 64px 0;\\n  background: #f6f9ff;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-content .price {\\n  color: #000;\\n  font-size: 26px;\\n  font-weight: 500;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-content .price del {\\n  color: #aaa;\\n  font-size: 18px;\\n  margin-left: 6px;\\n  font-weight: 300;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-card-content .discount {\\n  color: #f36523;\\n  font-size: 18px;\\n  margin-left: 0;\\n  font-weight: 500;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-button {\\n  --background: var(--ion-color-medium);\\n  --color: #000;\\n}\\n\\n.plans-wrapper .plan-wrapper .membership-card ion-button:hover {\\n  --background: #006015;\\n}\\n\\n.noData {\\n  text-align: center;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n}\\n\\n.noData img {\\n  width: 130px;\\n}\\n\\n@media (max-width: 786px) {\\n  .plans-wrapper {\\n    flex-wrap: wrap;\\n  }\\n  .plans-wrapper .plan-wrapper {\\n    min-width: 50%;\\n  }\\n}\\n\\n.userMembership {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmVuZG9yLW1lbWJlcnNoaXAvYnV5LXZlbmRvci1tZW1iZXJzaGlwL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFx2ZW5kb3ItbWVtYmVyc2hpcFxcYnV5LXZlbmRvci1tZW1iZXJzaGlwXFxidXktdmVuZG9yLW1lbWJlcnNoaXAucGFnZS5zY3NzIiwic3JjL2FwcC92ZW5kb3ItbWVtYmVyc2hpcC9idXktdmVuZG9yLW1lbWJlcnNoaXAvYnV5LXZlbmRvci1tZW1iZXJzaGlwLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFFRSxZQUFBO0FDQUY7O0FER0E7RUFFRSxnQkFBQTtBQ0RGOztBRElJO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMEJBQUE7QUNGTjs7QURHTTtFQUNFLDJCQUFBO0FDRFI7O0FER007RUFDRSxtQkFBQTtBQ0RSOztBREVRO0VBQ0UsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDBCQUFBO0FDQVY7O0FER007RUFDRSxlQUFBO0VBQ0EsbUJBQUE7QUNEUjs7QURFUTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNBVjs7QURDVTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NaOztBREVRO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUNBVjs7QURJTTtFQUNFLHFDQUFBO0VBQ0EsYUFBQTtBQ0ZSOztBRElRO0VBQ0UscUJBQUE7QUNGVjs7QURpQkE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSx3Q0FBQTtVQUFBLGdDQUFBO0FDZEY7O0FEZUU7RUFDRSxZQUFBO0FDYko7O0FEaUJBO0VBQ0U7SUFDRSxlQUFBO0VDZEY7RURlRTtJQUVFLGNBQUE7RUNkSjtBQUNGOztBRGlCQTtFQUNFLGtCQUFBO0FDZkYiLCJmaWxlIjoic3JjL2FwcC92ZW5kb3ItbWVtYmVyc2hpcC9idXktdmVuZG9yLW1lbWJlcnNoaXAvYnV5LXZlbmRvci1tZW1iZXJzaGlwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAtLWJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxuXHJcbi5tYWluLWNvbnRhaW5lciB7XHJcbiAgLy8gd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG59XHJcblxyXG4ucGxhbnMtd3JhcHBlciB7XHJcbiAgLy8gZGlzcGxheTogZmxleDtcclxuICBtYXJnaW4tdG9wOiAzMnB4O1xyXG4gIC5wbGFuLXdyYXBwZXIge1xyXG4gICAgLy8gd2lkdGg6IDMzLjMzJTtcclxuICAgIC5tZW1iZXJzaGlwLWNhcmQge1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCAjY2NjO1xyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4ICNjY2M7XHJcbiAgICAgIH1cclxuICAgICAgaW9uLWNhcmQtaGVhZGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZWNmMmZmO1xyXG4gICAgICAgIGlvbi1jYXJkLXRpdGxlIHtcclxuICAgICAgICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpb24tY2FyZC1jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nOiA2NHB4IDA7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2Y2ZjlmZjtcclxuICAgICAgICAucHJpY2Uge1xyXG4gICAgICAgICAgY29sb3I6ICMwMDA7XHJcbiAgICAgICAgICBmb250LXNpemU6IDI2cHg7XHJcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgICAgZGVsIHtcclxuICAgICAgICAgICAgY29sb3I6ICNhYWE7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLmRpc2NvdW50IHtcclxuICAgICAgICAgIGNvbG9yOiAjZjM2NTIzO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaW9uLWJ1dHRvbiB7XHJcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcclxuICAgICAgICAtLWNvbG9yOiAjMDAwO1xyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIC0tYmFja2dyb3VuZDogIzAwNjAxNTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vICYuc2VsZWN0ZWQtcGxhbiB7XHJcbiAgICAvLyAgIC5tZW1iZXJzaGlwLWNhcmQge1xyXG4gICAgLy8gICAgIGJvcmRlcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpIDFweCBzb2xpZDtcclxuICAgIC8vICAgICBpb24tYnV0dG9uIHtcclxuICAgIC8vICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gIH1cclxufVxyXG5cclxuLm5vRGF0YSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDUwJTtcclxuICBsZWZ0OiA1MCU7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgaW1nIHtcclxuICAgIHdpZHRoOiAxMzBweDtcclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3ODZweCkge1xyXG4gIC5wbGFucy13cmFwcGVyIHtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIC5wbGFuLXdyYXBwZXIge1xyXG4gICAgICAvLyB3aWR0aDogNTAlO1xyXG4gICAgICBtaW4td2lkdGg6IDUwJTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuLnVzZXJNZW1iZXJzaGlwe1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogI2ZmZjtcbn1cblxuLm1haW4tY29udGFpbmVyIHtcbiAgYm9yZGVyOiBub25lO1xufVxuXG4ucGxhbnMtd3JhcHBlciB7XG4gIG1hcmdpbi10b3A6IDMycHg7XG59XG4ucGxhbnMtd3JhcHBlciAucGxhbi13cmFwcGVyIC5tZW1iZXJzaGlwLWNhcmQge1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCAjY2NjO1xufVxuLnBsYW5zLXdyYXBwZXIgLnBsYW4td3JhcHBlciAubWVtYmVyc2hpcC1jYXJkOmhvdmVyIHtcbiAgYm94LXNoYWRvdzogMCAycHggMTBweCAjY2NjO1xufVxuLnBsYW5zLXdyYXBwZXIgLnBsYW4td3JhcHBlciAubWVtYmVyc2hpcC1jYXJkIGlvbi1jYXJkLWhlYWRlciB7XG4gIGJhY2tncm91bmQ6ICNlY2YyZmY7XG59XG4ucGxhbnMtd3JhcHBlciAucGxhbi13cmFwcGVyIC5tZW1iZXJzaGlwLWNhcmQgaW9uLWNhcmQtaGVhZGVyIGlvbi1jYXJkLXRpdGxlIHtcbiAgY29sb3I6ICMwMDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG4ucGxhbnMtd3JhcHBlciAucGxhbi13cmFwcGVyIC5tZW1iZXJzaGlwLWNhcmQgaW9uLWNhcmQtY29udGVudCB7XG4gIHBhZGRpbmc6IDY0cHggMDtcbiAgYmFja2dyb3VuZDogI2Y2ZjlmZjtcbn1cbi5wbGFucy13cmFwcGVyIC5wbGFuLXdyYXBwZXIgLm1lbWJlcnNoaXAtY2FyZCBpb24tY2FyZC1jb250ZW50IC5wcmljZSB7XG4gIGNvbG9yOiAjMDAwO1xuICBmb250LXNpemU6IDI2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4ucGxhbnMtd3JhcHBlciAucGxhbi13cmFwcGVyIC5tZW1iZXJzaGlwLWNhcmQgaW9uLWNhcmQtY29udGVudCAucHJpY2UgZGVsIHtcbiAgY29sb3I6ICNhYWE7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbWFyZ2luLWxlZnQ6IDZweDtcbiAgZm9udC13ZWlnaHQ6IDMwMDtcbn1cbi5wbGFucy13cmFwcGVyIC5wbGFuLXdyYXBwZXIgLm1lbWJlcnNoaXAtY2FyZCBpb24tY2FyZC1jb250ZW50IC5kaXNjb3VudCB7XG4gIGNvbG9yOiAjZjM2NTIzO1xuICBmb250LXNpemU6IDE4cHg7XG4gIG1hcmdpbi1sZWZ0OiAwO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLnBsYW5zLXdyYXBwZXIgLnBsYW4td3JhcHBlciAubWVtYmVyc2hpcC1jYXJkIGlvbi1idXR0b24ge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICAtLWNvbG9yOiAjMDAwO1xufVxuLnBsYW5zLXdyYXBwZXIgLnBsYW4td3JhcHBlciAubWVtYmVyc2hpcC1jYXJkIGlvbi1idXR0b246aG92ZXIge1xuICAtLWJhY2tncm91bmQ6ICMwMDYwMTU7XG59XG5cbi5ub0RhdGEge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG59XG4ubm9EYXRhIGltZyB7XG4gIHdpZHRoOiAxMzBweDtcbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc4NnB4KSB7XG4gIC5wbGFucy13cmFwcGVyIHtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gIH1cbiAgLnBsYW5zLXdyYXBwZXIgLnBsYW4td3JhcHBlciB7XG4gICAgbWluLXdpZHRoOiA1MCU7XG4gIH1cbn1cbi51c2VyTWVtYmVyc2hpcCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController } from '@ionic/angular';\r\nimport * as moment from 'moment';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { VendorService } from 'src/app/services/vendor/vendor.service';\r\nimport { VendorMembership } from '../vendor-membership.model';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-buy-vendor-membership',\r\n  templateUrl: './buy-vendor-membership.page.html',\r\n  styleUrls: ['./buy-vendor-membership.page.scss'],\r\n})\r\nexport class BuyVendorMembershipPage implements OnInit {\r\n  membershipSettings: VendorMembership = {\r\n    active: false,\r\n    name: \"\",\r\n    description: \"\",\r\n    plans: [],\r\n  }\r\n\r\n  currencyCode: any;\r\n  userMembership: any;\r\n  userId: string;\r\n\r\n  constructor(\r\n    private configService: ConfigService,\r\n    private alertController: AlertController,\r\n    private sharedService: SharedService,\r\n    private vendorService: VendorService,\r\n    private storage: Storage,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.currencyCode = this.configService.environment.currencyCode;\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.sharedService.presentLoading();\r\n    this.userId = await this.storage.get('uid');\r\n\r\n    const vendor: any = await this.vendorService.getVendorData(this.userId, 'details');\r\n    console.log(\"vendorData\", vendor);\r\n    this.userMembership = \"membership\" in vendor ? vendor.membership : undefined;\r\n\r\n    const response: any = await this.vendorService.getVendorMembership();\r\n    await this.sharedService.loading.dismiss();\r\n    if (response) {\r\n      this.membershipSettings = response;\r\n    } else {\r\n      await this.sharedService.presentAlert('Something went wrong ! please try again.');\r\n    }\r\n  }\r\n\r\n  getMonths(months) {\r\n    return months === 1 ? '1 Month' : `${months} Months`;\r\n  }\r\n  getDiscount(price, disPrice): number {\r\n    return parseInt((((price - disPrice) / price) * 100).toFixed(0));\r\n  }\r\n  totalDaysLeft() {\r\n    const today = moment().format('YYYY-MM-DD');\r\n    return moment(this.userMembership.validTill).diff(moment(today), 'days');\r\n  }\r\n\r\n  async buyPlan(index: number) {\r\n    console.log(\"this.userId = \", this.userId);\r\n    await this.sharedService.presentLoading();\r\n    const selectedPlan = this.membershipSettings.plans[index];\r\n    const settings = { ...this.membershipSettings };\r\n    delete settings.plans;\r\n    delete settings.active;\r\n    settings[\"plan\"] = selectedPlan;\r\n\r\n    let orderObject = {\r\n      status: true,\r\n      orderType: \"vendorMembership\",\r\n      quantity: 1,\r\n      name: this.membershipSettings.name,\r\n      membershipSettings: settings,\r\n      description: this.getMonths(selectedPlan.months),\r\n      img: {\r\n        url: \"assets/img/shop-logo-color.png\",\r\n        mob: \"assets/img/shop-logo-color.png\",\r\n        thumb: \"assets/img/shop-logo-color.png\"\r\n      },\r\n      commentMsg: '',\r\n      commentImgs: [],\r\n    }\r\n\r\n    let membership: any = {\r\n      active: true,\r\n      name: this.membershipSettings.name,\r\n      months: this.getMonths(selectedPlan.months),\r\n      membershipSettings: settings,\r\n    }\r\n    if (selectedPlan.discountedPrice < selectedPlan.price) {\r\n      orderObject['mrpPrice'] = selectedPlan.price;\r\n      orderObject['price'] = selectedPlan.discountedPrice;\r\n\r\n      membership['mrpPrice'] = selectedPlan.price;\r\n      membership['price'] = selectedPlan.discountedPrice;\r\n    } else {\r\n      orderObject['price'] = selectedPlan.price;\r\n      membership['price'] = selectedPlan.price;\r\n    }\r\n    const response = await this.vendorService.updateVendorInfo(this.userId, { membership: membership });\r\n    await this.sharedService.loading.dismiss();\r\n    if (response) {\r\n      await this.sharedService.presentAlert('Membership Purchased Successfully');\r\n    } else {\r\n      await this.sharedService.presentAlert(\"Membership Purchase Failed\");\r\n    }\r\n\r\n  }\r\n}\r\n"],"sourceRoot":""}