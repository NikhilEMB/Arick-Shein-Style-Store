{"version":3,"sources":["./src/app/admin/branches/branches.page.html","./src/app/admin/branches/branches.module.ts","./src/app/admin/branches/branches.page.scss","./src/app/admin/branches/branches.page.ts"],"names":[],"mappings":"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","file":"admin-branches-branches-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\">\\r\\n      <img src=\\\"../../../assets/img/shop-logo.png\\\" />\\r\\n    </div>\\r\\n    <ion-title>Branches</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <div class=\\\"\\\" text-center>\\r\\n      <ion-button (click)=\\\"editBranch()\\\">ADD Branch</ion-button>\\r\\n    </div>\\r\\n    <ng-container *ngIf=\\\"branches.length; else noBranches\\\">\\r\\n      <ion-searchbar [(ngModel)]=\\\"searchInput\\\" mode=\\\"ios\\\" animated showCancelButton=\\\"focus\\\"\\r\\n        placeholder=\\\"Search vendor\\\"></ion-searchbar>\\r\\n      <div class=\\\"tableArea\\\">\\r\\n        <table>\\r\\n          <thead>\\r\\n            <tr class=\\\"header\\\">\\r\\n              <th>SN No</th>\\r\\n              <th>Branch Name</th>\\r\\n              <th>Branch Email</th>\\r\\n              <th>Branch phone</th>\\r\\n              <th>Action</th>\\r\\n            </tr>\\r\\n          </thead>\\r\\n          <tbody>\\r\\n            <tr *ngFor=\\\"let item of branches | filter: searchInput; index as i\\\">\\r\\n              <td>{{i + 1}}</td>\\r\\n              <td>{{item.name}}</td>\\r\\n              <td>{{item.email}}</td>\\r\\n              <td>{{item.phoneNo}}</td>\\r\\n              <td>\\r\\n                <ion-button size=\\\"small\\\" color=\\\"primary\\\" fill=\\\"outline\\\" (click)=\\\"editBranch(item)\\\">Edit</ion-button>\\r\\n                &nbsp;\\r\\n                <ion-button size=\\\"small\\\" color=\\\"danger\\\" fill=\\\"outline\\\"\\r\\n                  (click)=\\\"askDeleteBranch(item)\\\">Delete</ion-button>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </tbody>\\r\\n        </table>\\r\\n      </div>\\r\\n    </ng-container>\\r\\n    <ng-template #noBranches>\\r\\n      <h1 text-center>No Branch found!</h1>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BranchesPage } from './branches.page';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BranchesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    Ng2SearchPipeModule\r\n  ],\r\n  declarations: [BranchesPage]\r\n})\r\nexport class BranchesPageModule {}\r\n","module.exports = \".tableArea {\\n  margin-top: 1rem;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n.tableArea table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n.tableArea table td,\\n.tableArea table th {\\n  border: 1px solid #dddddd;\\n  text-align: center;\\n  padding: 8px;\\n}\\n.tableArea table tr:hover {\\n  background-color: #efefef;\\n}\\n.tableArea .header {\\n  background: lightgray;\\n}\\n.tableArea .deleteIcon {\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vYnJhbmNoZXMvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFxicmFuY2hlc1xcYnJhbmNoZXMucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9icmFuY2hlcy9icmFuY2hlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUVBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNBRjtBREVFO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0FDQUo7QURFSTs7RUFFRSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0FOO0FERUk7RUFDRSx5QkFBQTtBQ0FOO0FER0U7RUFDRSxxQkFBQTtBQ0RKO0FER0U7RUFDRSxlQUFBO0FDREoiLCJmaWxlIjoic3JjL2FwcC9hZG1pbi9icmFuY2hlcy9icmFuY2hlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGVBcmVhIHtcclxuICBtYXJnaW4tdG9wOiAxcmVtO1xyXG4gIC8vIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcblxyXG4gIHRhYmxlIHtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICB0ZCxcclxuICAgIHRoIHtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZGRkZDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICB9XHJcbiAgICB0cjpob3ZlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC5oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZDogbGlnaHRncmF5O1xyXG4gIH1cclxuICAuZGVsZXRlSWNvbiB7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgfVxyXG59XHJcbiIsIi50YWJsZUFyZWEge1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBib3JkZXItcmFkaXVzOiA2cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4udGFibGVBcmVhIHRhYmxlIHtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgd2lkdGg6IDEwMCU7XG59XG4udGFibGVBcmVhIHRhYmxlIHRkLFxuLnRhYmxlQXJlYSB0YWJsZSB0aCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGRkZGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogOHB4O1xufVxuLnRhYmxlQXJlYSB0YWJsZSB0cjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XG59XG4udGFibGVBcmVhIC5oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiBsaWdodGdyYXk7XG59XG4udGFibGVBcmVhIC5kZWxldGVJY29uIHtcbiAgZm9udC1zaXplOiAxOHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { BranchModalPage } from './branch-modal/branch-modal.page';\r\nimport { AdminSettingsService } from 'src/app/services/admin-settings/admin-settings.service';\r\n\r\n@Component({\r\n  selector: 'app-branches',\r\n  templateUrl: './branches.page.html',\r\n  styleUrls: ['./branches.page.scss'],\r\n})\r\nexport class BranchesPage implements OnInit {\r\n  searchInput: any = '';\r\n  branches: any[] = [];\r\n  constructor(\r\n    private sharedService: SharedService,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n    private adminSettingsService: AdminSettingsService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.sharedService.presentLoading();\r\n    await this.getAllBranch();\r\n    await this.sharedService.loading.dismiss();\r\n  }\r\n\r\n  async getAllBranch() {\r\n    try {\r\n      const data = await this.adminSettingsService.getAllBranch() as [];\r\n      if (data) {\r\n        this.branches = data;\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(\"getAllBranch error\", e);\r\n    }\r\n  }\r\n\r\n  async editBranch(branchData?: any) {\r\n    const propertiesObj = {};\r\n    if (branchData) {\r\n      propertiesObj['branchData'] = branchData;\r\n    }\r\n    const modal = await this.modalController.create({\r\n      component: BranchModalPage,\r\n      backdropDismiss: false,\r\n      cssClass: \"custom-modal\",\r\n      componentProps: propertiesObj\r\n    });\r\n    modal.onDidDismiss().then(async res => {\r\n      await this.getAllBranch();\r\n      if (res && res.data) { }\r\n    });\r\n    await modal.present();\r\n  }\r\n\r\n  async askDeleteBranch(branchData: any) {\r\n    const modal = await this.alertController.create({\r\n      message: `Are you sure you want to delete '${branchData.name}' Branch ?`,\r\n      buttons: [\r\n        {\r\n          role: 'cancel',\r\n          text: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: async () => {\r\n            console.log(\"cancelled\");\r\n          }\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          handler: async () => {\r\n            console.log(\"Delete vendor\");\r\n            this.deleteBranch(branchData.id);\r\n          }\r\n        }]\r\n    })\r\n    await modal.present();\r\n  }\r\n\r\n  async deleteBranch(branchId: string) {\r\n    await this.sharedService.presentLoading();\r\n    const res = await this.adminSettingsService.deleteBranch(branchId);\r\n    await this.sharedService.loading.dismiss();\r\n    if (res) {\r\n      const matchedIndex = this.branches.findIndex(el => el.id === branchId);\r\n      if (matchedIndex > -1) {\r\n        this.branches.splice(matchedIndex, 1);\r\n      }\r\n      await this.sharedService.presentAlert(\"Branch delete successfully\");\r\n    }\r\n    else {\r\n      await this.sharedService.presentAlert(\"Something went wrong!\");\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}