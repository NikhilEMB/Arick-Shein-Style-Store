{"version":3,"sources":["./src/app/services/pickUp/pick-up.service.ts"],"names":[],"mappings":"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","file":"default~admin-admin-orders-admin-orders-module~admin-import-export-manager-orders-export-orders-expo~a38f7326-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { first, map } from 'rxjs/operators';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PickUpService {\r\n\r\n  constructor(private afs: AngularFirestore, private storage: Storage ) { }\r\n\r\n  async getUserDetails(id){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('users').doc(id).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getWalletSettings(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('settings').doc('wallet').valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async setPickUpSettings(settings){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let settingsObj = {\r\n          active: settings.active,\r\n          gst: settings.gst,\r\n          deliveryByWeight: {\r\n            baseCost: settings.baseCost,\r\n            baseWeight: settings.baseWeight,\r\n            cost: settings.cost\r\n          },\r\n          deliveryByKm: {\r\n            cost: settings.cost\r\n          },\r\n          weightSlab:{\r\n            active: settings.weightActive,\r\n            slabs: settings.slabs\r\n          }\r\n        }\r\n        console.log('settingsObj:',settingsObj);\r\n        // console.log('kmSlabsObj:',kmSlabsObj);\r\n        console.log('settings:',settings);\r\n\r\n        await this.afs.collection('features').doc('pickDrop').set(settingsObj);\r\n        // await this.afs.collection('features').doc('pickDrop').update(kmSlabsObj);\r\n        resolve(true);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getPickUpSettings(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getPendingOrders(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref\r\n        .orderBy('createdAt', 'desc')\r\n        .where('status', '==', 'pending')).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getPickedOrders(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref\r\n        .orderBy('createdAt', 'desc')\r\n        .where('status', 'in', ['picked'])).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n  \r\n  async getDeliveredOrders(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref\r\n        .orderBy('createdAt', 'desc')\r\n        .where('status', 'in', ['delivered'])).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getCancelledOrders(){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref\r\n        .orderBy('createdAt', 'desc')\r\n        .where('status', 'in', ['cancelled'])).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n  \r\n  async getOrderData(id){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        resolve(await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref.where('orderId', '==', id)).valueChanges().pipe(first()).toPromise());\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async cancelOrderByAdmin(orderId: number, cancelReason: string, name:string) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const orderRef = this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref.where('orderId', '==', orderId));\r\n        const orderData: any = await orderRef.snapshotChanges().pipe(\r\n          map(actions => actions.map(a => {\r\n            const data = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          }))\r\n        ).pipe(first()).toPromise();\r\n  \r\n        let role = await this.storage.get('userRole');\r\n        role = role === 'admin' ? 'Store' : role;\r\n        const updateObj = {\r\n          cancelData: {\r\n            reason: cancelReason,\r\n            by: `${name} (${role})`\r\n          },\r\n          status: 'cancelled'\r\n        }\r\n        await this.afs.collection('features').doc('pickDrop').collection('orders').doc(orderData[0].id).update(updateObj);\r\n        resolve(true)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async changeOrderStatus(id,status){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let order = await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref.where('orderId', '==', id)).snapshotChanges().pipe(\r\n          map(actions => actions.map(a => {\r\n            const data = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          }))\r\n        ).pipe(first()).toPromise();\r\n        await this.afs.collection('features').doc('pickDrop').collection('orders').doc(order[0].id).update({status: status})\r\n        resolve(true)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getAllDeliveryAgents() {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const allDeliveryAgents = await this.afs.collection('users', ref => ref.where('role', '==', 'deliveryAgent')).snapshotChanges().pipe(\r\n          map(actions => actions.map(a => {\r\n            const data: any = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          }))\r\n        ).pipe(first()).toPromise();\r\n        resolve(allDeliveryAgents)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })\r\n  }\r\n\r\n  async assignDeliveryAgent(agentId, orderId) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let order = await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref.where('orderId', '==', orderId)).snapshotChanges().pipe(\r\n          map(actions => actions.map(a => {\r\n            const data = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          }))\r\n        ).pipe(first()).toPromise();\r\n        await this.afs.collection('features').doc('pickDrop').collection('orders').doc(order[0].id).update({\"delivery.agentId\": agentId})\r\n        resolve(true)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })\r\n  }\r\n\r\n  async getDeliveryAgentName(id){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let currentData = await this.afs.collection('users').doc(id).valueChanges().pipe(first()).toPromise();\r\n        resolve(currentData);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })\r\n  }\r\n\r\n  async getOrderLogs(id){\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        let order = await this.afs.collection('features').doc('pickDrop').collection('orders', ref => ref.where('orderId', '==', id)).snapshotChanges().pipe(\r\n          map(actions => actions.map(a => {\r\n            const data = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          }))\r\n        ).pipe(first()).toPromise();\r\n        let logData = await this.afs.collection('features').doc('pickDrop').collection('orders').doc(order[0].id).collection('logs', ref => ref.orderBy('time', 'asc')).valueChanges().pipe(first()).toPromise();\r\n        resolve(logData);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n  \r\n}\r\n"],"sourceRoot":""}