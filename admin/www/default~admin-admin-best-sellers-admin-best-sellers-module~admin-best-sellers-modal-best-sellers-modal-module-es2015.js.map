{"version":3,"sources":["./src/app/admin/best-sellers-modal/best-sellers-modal.page.html","./src/app/admin/best-sellers-modal/best-sellers-modal.page.scss","./src/app/admin/best-sellers-modal/best-sellers-modal.page.ts"],"names":[],"mappings":"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","file":"default~admin-admin-best-sellers-admin-best-sellers-module~admin-best-sellers-modal-best-sellers-modal-module-es2015.js","sourcesContent":["module.exports = \"<ion-header no-border>\\r\\n  <div class=\\\"bs-modal-header\\\">\\r\\n    <div class=\\\"bs-search\\\">\\r\\n      <ion-input type=\\\"text\\\" placeholder=\\\"Search for products...\\\" [(ngModel)]=\\\"searchProduct\\\"\\r\\n      (ngModelChange)=\\\"fireSearchQuery()\\\" autocapitalize></ion-input>\\r\\n    </div>\\r\\n    <div>\\r\\n      <i class=\\\"flaticon-null-19\\\" (click)=\\\"closeModal()\\\"></i>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"no-data\\\" *ngIf=\\\"showNoProducts; else showProducts\\\" text-center>\\r\\n    <img src=\\\"assets/img/no-orders.png\\\" alt=\\\"\\\">\\r\\n    <h6>No products</h6>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"showSearchLoader\\\" class=\\\"spinner\\\">\\r\\n    <ion-spinner color=\\\"primary\\\"></ion-spinner>\\r\\n  </div>\\r\\n  <ng-template #showProducts>\\r\\n    <ion-list class=\\\"ion-no-padding list\\\" *ngIf=\\\"productsData.length && !showSearchLoader\\\" lines=\\\"none\\\">\\r\\n      <ion-item class=\\\"ion-no-padding\\\" *ngFor=\\\"let item of productsData; let i = index\\\">\\r\\n        <ion-grid class=\\\"ion-no-padding\\\">\\r\\n          <ion-row class=\\\"ion-align-items-center\\\">\\r\\n            <ion-col size=\\\"2\\\">\\r\\n              <ion-thumbnail  class=\\\"thumbnail\\\">\\r\\n                <img class=\\\"loading\\\" *ngIf=\\\"item.data.coverPic && !item.data.coverPic.thumb && item.data.coverPic.url\\\"\\r\\n                  src=\\\"{{item.data.coverPic.url}}\\\">\\r\\n                <img class=\\\"loading\\\" *ngIf=\\\"item.data.coverPic && item.data.coverPic.thumb\\\"\\r\\n                  src=\\\"{{item.data.coverPic.thumb}}\\\">\\r\\n                <img *ngIf=\\\"!item.data.coverPic\\\" src=\\\"assets/img/placeholder-img.jpg\\\">\\r\\n              </ion-thumbnail>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"7\\\">\\r\\n              <p class=\\\"ion-text-capitalize\\\">{{item.data.prodName}}</p>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\">\\r\\n              <ion-button class=\\\"btn-sml\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"addProductAsBestSeller(item, i)\\\" *ngIf=\\\"!item.isAdded\\\">Add</ion-button>\\r\\n              <p class=\\\"ion-text-center ion-text-uppercase\\\" class=\\\"bs-product-added\\\" *ngIf=\\\"item.isAdded\\\"><i class=\\\"flaticon-null-20\\\"></i></p>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n  </ng-template>\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"searchMoreProducts($event)\\\" *ngIf=\\\"searchProduct\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more products...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"firstTimeProductsLength && firstTimeProductsLength >= 10\\\">\\r\\n  <ion-grid *ngIf=\\\"productsData && productsData.length !== 0 && !showNoProducts && !showSearchLoader && !searchProduct\\\">\\r\\n    <ion-row>\\r\\n      <ion-col style=\\\"text-align: start;\\\">\\r\\n        <ion-button (click)=\\\"loadPreviousProducts()\\\" size=\\\"small\\\" shape=\\\"round\\\" [disabled]=\\\"noPreviousProducts\\\">\\r\\n          <span style=\\\"margin-right: 3px;\\\"><i class=\\\"flaticon-null-8\\\"></i></span>Previous\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col style=\\\"text-align: end;\\\">\\r\\n        <ion-button (click)=\\\"loadMoreProducts()\\\" size=\\\"small\\\" shape=\\\"round\\\" [disabled]=\\\"noMoreProducts\\\">\\r\\n          Next <span style=\\\"margin-left: 3px;\\\"><i class=\\\"flaticon-null-7\\\"></i></span>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\"","module.exports = \"ion-input {\\n  --padding-start: 15px;\\n  --padding-end: 5px;\\n  --padding-top: 15px;\\n  --padding-bottom: 15px;\\n  font-size: 15px;\\n  border-bottom: 1px solid #ccc;\\n  text-transform: capitalize;\\n  outline: none;\\n}\\n\\np {\\n  text-transform: uppercase;\\n  font-size: 13px;\\n}\\n\\nion-item {\\n  --padding-end: 0px;\\n  --inner-padding-end: 0px;\\n}\\n\\nion-thumbnail {\\n  --size: 50px;\\n  border: 1px solid #ddd;\\n  padding: 1px;\\n  border-radius: 5px;\\n}\\n\\n.margin-icon {\\n  margin-left: 5px;\\n}\\n\\n.loading {\\n  background: transparent url(\\\"https://s5.gifyu.com/images/377-2.gif\\\") center no-repeat;\\n}\\n\\n.no-data {\\n  margin: 0;\\n  position: absolute;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  left: 50%;\\n  margin-left: -45px;\\n}\\n\\n.no-data img {\\n  width: 90px;\\n}\\n\\n.no-data h6 {\\n  opacity: 0.6;\\n}\\n\\n.spinner {\\n  margin-top: 5%;\\n  text-align: center;\\n}\\n\\n.list {\\n  overflow-y: auto;\\n}\\n\\n.add-spinner {\\n  text-align: center;\\n}\\n\\n.add-spinner ion-spinner {\\n  width: 15px;\\n}\\n\\n.bs-modal-header {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  margin-bottom: 2%;\\n}\\n\\n.flaticon-null-19::before {\\n  font-size: 20px;\\n  opacity: 0.6;\\n  margin-right: 10px;\\n}\\n\\n.bs-search {\\n  width: 100%;\\n}\\n\\nion-footer {\\n  height: 55px;\\n  background: none;\\n  box-shadow: none;\\n}\\n\\n.bs-product-added .flaticon-null-20::before {\\n  color: var(--ion-color-success);\\n}\\n\\n.flaticon-null-19 {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vYmVzdC1zZWxsZXJzLW1vZGFsL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFxhZG1pblxcYmVzdC1zZWxsZXJzLW1vZGFsXFxiZXN0LXNlbGxlcnMtbW9kYWwucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9iZXN0LXNlbGxlcnMtbW9kYWwvYmVzdC1zZWxsZXJzLW1vZGFsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLDZCQUFBO0VBQ0EsMEJBQUE7RUFDQSxhQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0VBQ0Esd0JBQUE7QUNDRjs7QURFQTtFQUNFLFlBQUE7RUFDQSxzQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7QUNDRjs7QURFQTtFQUNFLHFGQUFBO0FDQ0Y7O0FERUE7RUFDRSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBRUEsbUNBQUE7VUFBQSwyQkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRjs7QURDQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsaUJBQUE7QUNFRjs7QURBQTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNHRjs7QUREQTtFQUNFLFdBQUE7QUNJRjs7QURGQTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FDS0Y7O0FERkE7RUFDRSwrQkFBQTtBQ0tGOztBREZBO0VBQ0UsZUFBQTtBQ0tGIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vYmVzdC1zZWxsZXJzLW1vZGFsL2Jlc3Qtc2VsbGVycy1tb2RhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taW5wdXQge1xyXG4gIC0tcGFkZGluZy1zdGFydDogMTVweDtcclxuICAtLXBhZGRpbmctZW5kOiA1cHg7XHJcbiAgLS1wYWRkaW5nLXRvcDogMTVweDtcclxuICAtLXBhZGRpbmctYm90dG9tOiAxNXB4O1xyXG4gIGZvbnQtc2l6ZTogMTVweDtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcclxuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG5wIHtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIGZvbnQtc2l6ZTogMTNweDtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gIC0tcGFkZGluZy1lbmQ6IDBweDtcclxuICAtLWlubmVyLXBhZGRpbmctZW5kOiAwcHg7XHJcbn1cclxuXHJcbmlvbi10aHVtYm5haWwge1xyXG4gIC0tc2l6ZTogNTBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gIHBhZGRpbmc6IDFweDtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5tYXJnaW4taWNvbiB7XHJcbiAgbWFyZ2luLWxlZnQ6IDVweDtcclxufVxyXG5cclxuLmxvYWRpbmcge1xyXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgnaHR0cHM6Ly9zNS5naWZ5dS5jb20vaW1hZ2VzLzM3Ny0yLmdpZicpIGNlbnRlciBuby1yZXBlYXQ7XHJcbn1cclxuXHJcbi5uby1kYXRhIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogNTAlO1xyXG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gIGxlZnQ6IDUwJTtcclxuICBtYXJnaW4tbGVmdDogLTQ1cHg7XHJcbn1cclxuXHJcbi5uby1kYXRhIGltZyB7XHJcbiAgd2lkdGg6IDkwcHg7XHJcbn1cclxuXHJcbi5uby1kYXRhIGg2IHtcclxuICBvcGFjaXR5OiAuNjtcclxufVxyXG5cclxuLnNwaW5uZXIge1xyXG4gIG1hcmdpbi10b3A6IDUlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmxpc3Qge1xyXG4gIG92ZXJmbG93LXk6IGF1dG87XHJcbn1cclxuXHJcbi5hZGQtc3Bpbm5lcntcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hZGQtc3Bpbm5lciBpb24tc3Bpbm5lcntcclxuICB3aWR0aDogMTVweDtcclxufVxyXG4uYnMtbW9kYWwtaGVhZGVye1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMiU7XHJcbn1cclxuLmZsYXRpY29uLW51bGwtMTk6OmJlZm9yZSB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIG9wYWNpdHk6IC42O1xyXG4gIG1hcmdpbi1yaWdodDogMTBweDtcclxufVxyXG4uYnMtc2VhcmNoe1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbmlvbi1mb290ZXIge1xyXG4gIGhlaWdodDogNTVweDtcclxuICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gIGJveC1zaGFkb3c6IG5vbmU7XHJcbn1cclxuXHJcbi5icy1wcm9kdWN0LWFkZGVkIC5mbGF0aWNvbi1udWxsLTIwOjpiZWZvcmUge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XHJcbn1cclxuXHJcbi5mbGF0aWNvbi1udWxsLTE5e1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufSIsImlvbi1pbnB1dCB7XG4gIC0tcGFkZGluZy1zdGFydDogMTVweDtcbiAgLS1wYWRkaW5nLWVuZDogNXB4O1xuICAtLXBhZGRpbmctdG9wOiAxNXB4O1xuICAtLXBhZGRpbmctYm90dG9tOiAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxucCB7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLXBhZGRpbmctZW5kOiAwcHg7XG4gIC0taW5uZXItcGFkZGluZy1lbmQ6IDBweDtcbn1cblxuaW9uLXRodW1ibmFpbCB7XG4gIC0tc2l6ZTogNTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgcGFkZGluZzogMXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5tYXJnaW4taWNvbiB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG5cbi5sb2FkaW5nIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgdXJsKFwiaHR0cHM6Ly9zNS5naWZ5dS5jb20vaW1hZ2VzLzM3Ny0yLmdpZlwiKSBjZW50ZXIgbm8tcmVwZWF0O1xufVxuXG4ubm8tZGF0YSB7XG4gIG1hcmdpbjogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICBsZWZ0OiA1MCU7XG4gIG1hcmdpbi1sZWZ0OiAtNDVweDtcbn1cblxuLm5vLWRhdGEgaW1nIHtcbiAgd2lkdGg6IDkwcHg7XG59XG5cbi5uby1kYXRhIGg2IHtcbiAgb3BhY2l0eTogMC42O1xufVxuXG4uc3Bpbm5lciB7XG4gIG1hcmdpbi10b3A6IDUlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5saXN0IHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLmFkZC1zcGlubmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uYWRkLXNwaW5uZXIgaW9uLXNwaW5uZXIge1xuICB3aWR0aDogMTVweDtcbn1cblxuLmJzLW1vZGFsLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMiU7XG59XG5cbi5mbGF0aWNvbi1udWxsLTE5OjpiZWZvcmUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIG9wYWNpdHk6IDAuNjtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufVxuXG4uYnMtc2VhcmNoIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1mb290ZXIge1xuICBoZWlnaHQ6IDU1cHg7XG4gIGJhY2tncm91bmQ6IG5vbmU7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG59XG5cbi5icy1wcm9kdWN0LWFkZGVkIC5mbGF0aWNvbi1udWxsLTIwOjpiZWZvcmUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpO1xufVxuXG4uZmxhdGljb24tbnVsbC0xOSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Events, LoadingController, ToastController, ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-best-sellers-modal',\r\n  templateUrl: './best-sellers-modal.page.html',\r\n  styleUrls: ['./best-sellers-modal.page.scss'],\r\n})\r\nexport class BestSellersModalPage implements OnInit {\r\n  searchProduct: string = '';\r\n  typingTimer;\r\n  doneTypingInterval = 500;\r\n  showSearchLoader: boolean = true;\r\n  showNoProducts = false;\r\n  productsData: any = [];\r\n  selectedIndex: number;\r\n  loading: any;\r\n  noMoreProducts: boolean = false;\r\n  noPreviousProducts: boolean = true;\r\n  firstTimeProductsLength: any;\r\n  page: number = 0;\r\n  noMoreSearchProducts: boolean = false;\r\n  constructor(private events: Events,\r\n              private loadingController: LoadingController,\r\n              private toastController: ToastController,\r\n              private modalController: ModalController) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  ionViewWillEnter() {\r\n    this.initializeSubscriptions();\r\n    this.events.publish('best-sellers:getProductsForBestSellers');\r\n  }\r\n  ionViewWillLeave() {\r\n    this.removeSubscriptions();\r\n  }\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('best-sellers:publishProductsForBestSellers', (products, length?) => {\r\n      // //console.log('in all products SUBSCRIPTION');\r\n      this.productsData = products;\r\n      this.showNoProducts = false;\r\n      this.showSearchLoader = false;\r\n      if(this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n      // //console.log('all products', this.productsData);\r\n      if(length) {\r\n        this.firstTimeProductsLength = length;\r\n      }\r\n    });\r\n    this.events.subscribe('best-sellers:noProductsAvailable', () => {\r\n      this.showNoProducts = true;\r\n      this.showSearchLoader = false;\r\n    });\r\n    this.events.subscribe('best-sellers:productsForBestSellersLimitReached', () => {\r\n      this.noMoreProducts = true;\r\n      this.loading.dismiss();\r\n    });\r\n    this.events.subscribe('best-sellers:previousProductsForBestSellersLimitReached', () => {\r\n      this.noPreviousProducts = true;\r\n      this.loading.dismiss();\r\n    });\r\n    this.events.subscribe('best-sellers:addBestSellerProductSuccess', () => {\r\n      this.productsData[this.selectedIndex].isAdded = true;\r\n      this.loading.dismiss();\r\n      this.presentToast('Product saved as best seller.');\r\n    });\r\n    this.events.subscribe('best-sellers:maxProductsinBestSellers', () => {\r\n      this.loading.dismiss();\r\n      this.presentToast('Already 10 products in best sellers.');\r\n    });\r\n    this.events.subscribe('best-sellers:noMoreSearchProducts', () => {\r\n      this.noMoreSearchProducts = true;\r\n      this.showSearchLoader = false;\r\n    });\r\n  }\r\n  async loadMoreProducts(){\r\n    // //console.log('loading more data...');\r\n    this.noPreviousProducts = false;\r\n    await this.presentLoading();\r\n    this.events.publish('best-sellers:loadMoreProductsForBestSellers');\r\n    // this.content.scrollToTop(0);\r\n  }\r\n  async loadPreviousProducts(){\r\n    this.noMoreProducts = false;\r\n    await this.presentLoading();\r\n    this.events.publish('best-sellers:loadPreviousProductsForBestSellers');\r\n    // this.content.scrollToTop(0);\r\n  }\r\n\r\n  fireSearchQuery() {\r\n    clearTimeout(this.typingTimer);\r\n    if(this.searchProduct.length > 2) {\r\n      this.typingTimer = setTimeout(() => {\r\n        console.log('in fireSearchQuery...');\r\n        this.showSearchLoader = true;\r\n        this.showNoProducts = false;\r\n        this.events.publish('search-engine:alogoliaSearchProductsForBestSellers', this.searchProduct, 0, 'new_search');\r\n      }, this.doneTypingInterval);\r\n\r\n    } else {\r\n      if (!this.searchProduct.length) {\r\n        this.events.publish('product:getProductsForBestSellers');\r\n      }\r\n    }\r\n\r\n  }\r\n  async searchMoreProducts(event) {\r\n    console.log('loading more data...');\r\n    this.page = this.page + 1;\r\n    this.events.publish('search-engine:alogoliaSearchProductsForBestSellers', this.searchProduct, this.page, 'existing_search');\r\n    setTimeout(() => {\r\n      event.target.complete();\r\n    }, 1000);\r\n    if(this.noMoreSearchProducts === true) {\r\n      event.target.disabled = true;\r\n    }\r\n  }\r\n\r\n  async addProductAsBestSeller(item: any, index: number) {\r\n    // //console.log('item:', item);\r\n    await this.presentLoading();\r\n    this.selectedIndex = index;\r\n    this.events.publish('best-sellers:addBestSellerProduct', item);\r\n  }\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait...',\r\n      duration: 10000\r\n    });\r\n    await this.loading.present();\r\n  }\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('best-sellers:noProductsAvailable');\r\n    this.events.unsubscribe('best-sellers:addBestSellerProductSuccess');\r\n    this.events.unsubscribe('best-sellers:maxProductsinBestSellers');\r\n    this.events.unsubscribe('best-sellers:publishProductsForBestSellers');\r\n    this.events.unsubscribe('best-sellers:productsForBestSellersLimitReached');\r\n    this.events.unsubscribe('best-sellers:previousProductsForBestSellersLimitReached');\r\n    this.events.unsubscribe('best-sellers:noMoreSearchProducts');\r\n\r\n  }\r\n}\r\n"],"sourceRoot":""}