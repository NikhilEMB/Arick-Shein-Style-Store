{"version":3,"sources":["./src/app/admin/multi-countries/multi-countries.page.html","./src/app/admin/multi-countries/multi-countries.module.ts","./src/app/admin/multi-countries/multi-countries.page.scss","./src/app/admin/multi-countries/multi-countries.page.ts","./src/app/services/multi-countries/multi-countries.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,+eAA+e,2EAA2E,2SAA2S,MAAM,mjBAAmjB,qBAAqB,iHAAiH,MAAM,qmBAAqmB,8BAA8B,0KAA0K,yO;;;;;;;;;;;;;;;;;;;;;;ACA9yE;AACM;AACF;AACU;AAEV;AAEe;AAE5D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wEAAkB;KAC9B;CACF,CAAC;AAWF;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QATpC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,wEAAkB,CAAC;SACnC,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBrC,8BAA8B,kBAAkB,GAAG,aAAa,yBAAyB,kBAAkB,4BAA4B,wCAAwC,8BAA8B,gCAAgC,cAAc,GAAG,iBAAiB,kBAAkB,GAAG,6CAA6C,25C;;;;;;;;;;;;;;;;;;;ACA/R;AAC+C;AAC1B;AAOvE;IASE,4BAAoB,qBAA4C,EAAU,aAA4B;QAAlF,0BAAqB,GAArB,qBAAqB,CAAuB;QAAU,kBAAa,GAAb,aAAa,CAAe;QARtG,gBAAW,GAAQ;YACjB,SAAS,EAAE,EAAE;YACb,QAAQ,EAAE;gBACR,YAAY,EAAE,KAAK;gBACnB,cAAc,EAAE,EAAE;aACnB;SACF,CAAC;IAEwG,CAAC;IAE3G,qCAAQ,GAAR;IACA,CAAC;IAEK,6CAAgB,GAAtB;;;;;4BACE,qBAAM,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE;;wBAAzC,SAAyC,CAAC;wBACtB,qBAAM,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,EAAE;;wBAAlE,WAAW,GAAG,SAAoD;wBACxE,IAAI,CAAC,WAAW,GAAG,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC;wBACnD,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;;;;;KACtC;IAED,+CAAkB,GAAlB;QACE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC;IACnF,CAAC;IAED,0CAAa,GAAb,UAAc,CAAM;QAClB,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,EAAE;YACjE,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,mCAAmC,CAAC,CAAC;SACtE;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;SAC9E;IACH,CAAC;IAEK,6CAAgB,GAAtB;;;;;4BACE,qBAAM,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE;;wBAAzC,SAAyC,CAAC;wBAC3B,qBAAM,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC;;wBAAhF,GAAG,GAAQ,SAAqE;wBACpF,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;wBACrC,IAAI,GAAG,EAAE;4BACP,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,6BAA6B,CAAC,CAAC;yBAChE;;;;;KACF;IAED,mDAAsB,GAAtB,UAAuB,CAAC;QAAxB,iBAGC;QAFC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAO,IAAI,cAAO,CAAC,WAAW,KAAK,KAAI,CAAC,WAAW,EAAxC,CAAwC,CAAC,CAAC;IAClI,CAAC;;gBArC0C,8GAAqB;gBAAyB,oFAAa;;IAT3F,kBAAkB;QAL9B,+DAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;YAC/B,2KAA0C;;SAE3C,CAAC;+EAU2C,8GAAqB,EAAyB,oFAAa;OAT3F,kBAAkB,CAgD9B;IAAD,yBAAC;CAAA;AAhD8B;;;;;;;;;;;;;;;;;;;;ACTY;AACgB;AACpB;AAKvC;IAEE,+BAAoB,GAAqB;QAArB,QAAG,GAAH,GAAG,CAAkB;IAAI,CAAC;IAExC,iDAAiB,GAAvB;;;;;;;wBAEe,qBAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,4DAAK,EAAE,CAAC,CAAC,SAAS,EAAE;;wBAA3G,IAAI,GAAG,SAAoG;wBAC/G,sBAAO,IAAI,EAAC;;;wBAGZ,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAG,CAAC,CAAC;;;;;;KAE9B;IAEK,kDAAkB,GAAxB,UAAyB,OAAO;;;;;;;wBAE5B,qBAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;;wBAA3E,SAA2E,CAAC;wBAC5E,sBAAO,IAAI,EAAC;;;wBAGZ,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAG,CAAC,CAAC;;;;;;KAE7B;;gBApBwB,wEAAgB;;IAF9B,qBAAqB;QAHjC,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAGyB,wEAAgB;OAF9B,qBAAqB,CAwBjC;IAAD,4BAAC;CAAA;AAxBiC","file":"admin-multi-countries-multi-countries-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>multi Countries</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <div style=\\\"margin-bottom: 2rem;\\\">\\r\\n      <h2>Auto Convert</h2>\\r\\n\\r\\n      <div style=\\\"display: flex;\\\">\\r\\n        <div class=\\\"toggle-btn\\\">\\r\\n          <label class=\\\"switch\\\">\\r\\n            <input type=\\\"checkbox\\\" (click)=\\\"activeAutoExchange()\\\" [checked]=\\\"countryData.settings.autoExchange\\\">\\r\\n            <span class=\\\"slider round\\\"></span>\\r\\n          </label>\\r\\n        </div>&nbsp;&nbsp;\\r\\n        <div>Auto convert prices based on current exchange rates.</div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"flex-label\\\">\\r\\n      <span class=\\\"\\\">\\r\\n        <ion-select class=\\\"form-input\\\" [value]=\\\"countryData.settings.defaultCountry?.countryCode\\\"\\r\\n          placeholder=\\\"Select Default Country\\\" (ionChange)=\\\"onChangeDefaultCountry($event)\\\">\\r\\n          <ng-container *ngFor=\\\"let country of countryData.countries\\\">\\r\\n            <ion-select-option [value]=\\\"country.countryCode\\\" *ngIf=\\\"country.active\\\">\\r\\n              {{country.countryName}}\\r\\n            </ion-select-option>\\r\\n          </ng-container>\\r\\n        </ion-select>\\r\\n      </span>&nbsp;&nbsp;\\r\\n      <span class=\\\"heading\\\">Default Country</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"\\\">\\r\\n      <h2>Select Countries</h2>\\r\\n      <!-- List of Countries -->\\r\\n      <ion-list>\\r\\n        <ion-item *ngFor=\\\"let item of countryData?.countries,index as i\\\">\\r\\n          <div class=\\\"toggle\\\">\\r\\n            <div class=\\\"toggle-btn\\\">\\r\\n              <label class=\\\"switch\\\">\\r\\n                <input type=\\\"checkbox\\\" (click)=\\\"activeCountry(i)\\\" [checked]=\\\"item.active\\\">\\r\\n                <span class=\\\"slider round\\\"></span>\\r\\n              </label>\\r\\n            </div>\\r\\n            <p>{{item.countryName | uppercase}}</p>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <div style=\\\"text-align: center;\\\">\\r\\n    <ion-button (click)=\\\"saveMultiCountry()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n      <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n      Save\\r\\n    </ion-button>\\r\\n  </div>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MultiCountriesPage } from './multi-countries.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MultiCountriesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [MultiCountriesPage]\r\n})\r\nexport class MultiCountriesPageModule {}\r\n","module.exports = \"ion-footer {\\n  padding: 1rem;\\n}\\n\\n.toggle {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: start;\\n          justify-content: flex-start;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  gap: 1rem;\\n}\\n\\n.form-input {\\n  margin-top: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vbXVsdGktY291bnRyaWVzL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFxhZG1pblxcbXVsdGktY291bnRyaWVzXFxtdWx0aS1jb3VudHJpZXMucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9tdWx0aS1jb3VudHJpZXMvbXVsdGktY291bnRyaWVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7QUNDRjs7QURTQTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHVCQUFBO1VBQUEsMkJBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsU0FBQTtBQ05GOztBRFFBO0VBQ0UsYUFBQTtBQ0xGIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vbXVsdGktY291bnRyaWVzL211bHRpLWNvdW50cmllcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tZm9vdGVyIHtcclxuICBwYWRkaW5nOiAxcmVtO1xyXG59XHJcbi8vIGlucHV0IFt0eXBlPVwiY2hlY2tib3hcIl1bZGlzYWJsZWRdIHtcclxuLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xyXG4vLyAgIGN1cnNvcjogbm90LWFsbG93ZWQgIWltcG9ydGFudDtcclxuLy8gfVxyXG4vLyAubXlEaXNhYmxlZCB7XHJcbi8vICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYyAhaW1wb3J0YW50O1xyXG4vLyAgIGN1cnNvcjogbm90LWFsbG93ZWQgIWltcG9ydGFudDtcclxuLy8gfVxyXG4udG9nZ2xlIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMXJlbTtcclxufVxyXG4uZm9ybS1pbnB1dCB7XHJcbiAgbWFyZ2luLXRvcDogMDtcclxufVxyXG4iLCJpb24tZm9vdGVyIHtcbiAgcGFkZGluZzogMXJlbTtcbn1cblxuLnRvZ2dsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxcmVtO1xufVxuXG4uZm9ybS1pbnB1dCB7XG4gIG1hcmdpbi10b3A6IDA7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { MultiCountriesService } from 'src/app/services/multi-countries/multi-countries.service';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-multi-countries',\r\n  templateUrl: './multi-countries.page.html',\r\n  styleUrls: ['./multi-countries.page.scss'],\r\n})\r\nexport class MultiCountriesPage implements OnInit {\r\n  countryData: any = {\r\n    countries: [],\r\n    settings: {\r\n      autoExchange: false,\r\n      defaultCountry: {}\r\n    }\r\n  };\r\n  countryCode: any;\r\n  constructor(private multiCountriesService: MultiCountriesService, private sharedService: SharedService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.sharedService.presentLoading();\r\n    const countryData = await this.multiCountriesService.getMultiCountries();\r\n    this.countryData = countryData || this.countryData;\r\n    this.sharedService.loading.dismiss();\r\n  }\r\n\r\n  activeAutoExchange() {\r\n    this.countryData.settings.autoExchange = !this.countryData.settings.autoExchange;\r\n  }\r\n\r\n  activeCountry(i: any) {\r\n    if (this.countryData.countries[i].countryCode == this.countryCode) {\r\n      event.preventDefault();\r\n      this.sharedService.presentAlert('Default Country cannot be toggled');\r\n    } else {\r\n      this.countryData.countries[i].active = !this.countryData.countries[i].active;\r\n    }\r\n  }\r\n\r\n  async saveMultiCountry() {\r\n    await this.sharedService.presentLoading();\r\n    let res: any = await this.multiCountriesService.saveMultiCountries(this.countryData);\r\n    this.sharedService.loading.dismiss();\r\n    if (res) {\r\n      this.sharedService.presentAlert('Settings saved successfully');\r\n    }\r\n  }\r\n\r\n  onChangeDefaultCountry(e) {\r\n    this.countryCode = e.target.value;\r\n    this.countryData.settings.defaultCountry = this.countryData.countries.find(country => country.countryCode === this.countryCode);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MultiCountriesService {\r\n\r\n  constructor(private afs: AngularFirestore) { }\r\n\r\n  async getMultiCountries() {\r\n    try {\r\n      let data = await this.afs.collection('features').doc('multiCountries').valueChanges().pipe(first()).toPromise();      // console.log(data);\r\n      return data;\r\n    }\r\n    catch (err) {\r\n      console.log('ERROR:', err);\r\n    }\r\n  }\r\n\r\n  async saveMultiCountries(dataObj) {\r\n    try {\r\n      await this.afs.collection('features').doc('multiCountries').update(dataObj);\r\n      return true;\r\n    }\r\n    catch (err) {\r\n      console.log('ERROR', err);\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}