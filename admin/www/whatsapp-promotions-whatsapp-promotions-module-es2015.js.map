{"version":3,"sources":["./src/app/whatsapp-promotions/whatsapp-promotions.page.html","./src/app/whatsapp-promotions/whatsapp-promotions.module.ts","./src/app/whatsapp-promotions/whatsapp-promotions.page.scss","./src/app/whatsapp-promotions/whatsapp-promotions.page.ts"],"names":[],"mappings":"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","file":"whatsapp-promotions-whatsapp-promotions-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Whatsapp Promotions</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col size=6 id=\\\"scroll1\\\">\\r\\n          <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n            Select Users / Groups\\r\\n          </p>\\r\\n          <div class=\\\"sideMenu-local\\\">\\r\\n            <!-- !!! Users -->\\r\\n            <!-- <div class=\\\"flex-label-local\\\">\\r\\n              <p>All Users</p>\\r\\n              <div class=\\\"toggle-btn-local\\\">\\r\\n                <label class=\\\"switch\\\">\\r\\n                  <input color=\\\"primary\\\" type=\\\"checkbox\\\" (click)=\\\"grpCheck()\\\">\\r\\n                  <span class=\\\"slider round\\\"></span>\\r\\n                </label>\\r\\n              </div>\\r\\n              <p>Groups</p>\\r\\n            </div> -->\\r\\n\\r\\n            <ion-list>\\r\\n              <ion-radio-group>\\r\\n                <ion-item>\\r\\n                  <ion-label>All Users</ion-label>\\r\\n                  <ion-radio mode=\\\"ios\\\" slot=\\\"end\\\" value=\\\"all\\\" (click)=\\\"grpCheck('all')\\\" checked></ion-radio>\\r\\n                </ion-item>\\r\\n                <ion-item>\\r\\n                  <ion-label>Custom Selection(s)</ion-label>\\r\\n                  <ion-radio mode=\\\"ios\\\" slot=\\\"end\\\" value=\\\"singleUser\\\" (click)=\\\"grpCheck('singleUser')\\\"></ion-radio>\\r\\n                </ion-item>\\r\\n                <ion-item lines=\\\"none\\\">\\r\\n                  <ion-label>Groups</ion-label>\\r\\n                  <ion-radio mode=\\\"ios\\\" slot=\\\"end\\\" value=\\\"groups\\\" (click)=\\\"grpCheck('groups')\\\"></ion-radio>\\r\\n                </ion-item>\\r\\n              </ion-radio-group>\\r\\n            </ion-list>\\r\\n\\r\\n            <div *ngIf=\\\"selection === 'groups'\\\">\\r\\n\\r\\n              <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">Select Groups</p>\\r\\n              <ion-item>\\r\\n                <ion-label>Available Groups</ion-label>\\r\\n                <ion-select multiple=\\\"true\\\" interface=\\\"popover\\\" cancelText=\\\"Cancel\\\" okText=\\\"Okay!\\\" mode=\\\"ios\\\"\\r\\n                  (ionChange)=\\\"getGroupOptions($event.target.value)\\\">\\r\\n                  <ion-select-option *ngFor=\\\"let group of userGroups\\\" [value]=\\\"group.id\\\">\\r\\n                    {{group.name}}\\r\\n                  </ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </div>\\r\\n          <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">Select Service</p>\\r\\n          <div class=\\\"sideMenu-st\\\">\\r\\n            <!-- !!! Services -->\\r\\n            <ion-item>\\r\\n              <ion-label>Available Services</ion-label>\\r\\n              <ion-select multiple=\\\"false\\\" interface=\\\"popover\\\" cancelText=\\\"Cancel\\\" okText=\\\"Okay!\\\" mode=\\\"ios\\\"\\r\\n                [(ngModel)]=\\\"selectedService\\\" (ionChange)=\\\"getServicesOptions($event.target.value)\\\">\\r\\n                <ion-select-option value=\\\"twilio\\\">Twilio</ion-select-option>\\r\\n                <ion-select-option value=\\\"aisensy\\\">AiSensy</ion-select-option>\\r\\n                <ion-select-option value=\\\"interakt\\\">Interakt</ion-select-option>\\r\\n              </ion-select>\\r\\n            </ion-item>\\r\\n          </div>\\r\\n          \\r\\n          <!-- Select Template -->\\r\\n          <!-- <ng-container *ngIf=\\\"selectedService[0] !== 'aisensy'\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Select Template\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              !!! Templates\\r\\n              <ion-item>\\r\\n                <ion-label>Available Templates</ion-label>\\r\\n                <ion-select multiple=\\\"true\\\" interface=\\\"popover\\\" cancelText=\\\"Cancel\\\" okText=\\\"Okay!\\\" mode=\\\"ios\\\">\\r\\n                  <ion-select-option value=\\\"aisensy\\\">Template 1</ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </ng-container> -->\\r\\n\\r\\n          <!-- Select Campaign -->\\r\\n          <div *ngIf=\\\"selectedService && availableCampaigns.length > 0\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Select Campaign\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              <!-- !!! Templates -->\\r\\n              <ion-item>\\r\\n                <ion-label>Available Campaigns</ion-label>\\r\\n                <ion-select interface=\\\"popover\\\" cancelText=\\\"Cancel\\\" okText=\\\"Okay!\\\" mode=\\\"ios\\\"\\r\\n                  (ionChange)=\\\"getCampaignOptions($event.target.value)\\\">\\r\\n                  <ion-select-option *ngFor=\\\"let campaign of availableCampaigns\\\">{{campaign.campaignName}}</ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div *ngIf=\\\"selectedService === 'twilio'\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Make / Edit the template\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              <div class=\\\"save-button\\\" style=\\\"margin: 20px 0 20px 0\\\">\\r\\n                <ion-button (click)=\\\"templateMaker()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\"\\r\\n                  color=\\\"success\\\">\\r\\n                  <i *ngIf=\\\"twilioTemplateButton === 'Make'\\\" class=\\\"flaticon-null-5 margin-icon\\\"></i>\\r\\n                  <i *ngIf=\\\"twilioTemplateButton === 'Edit'\\\" class=\\\"flaticon-pencil-edit-button margin-icon\\\"></i>\\r\\n                  {{twilioTemplateButton}} your template\\r\\n                </ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div *ngIf=\\\"selectedService && availableCampaigns.length > 0 && (selectedCampaign != '')\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Enter Campaign Params\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              <ion-item>\\r\\n                <ion-input mode=\\\"ios\\\" placeholder=\\\"Enter Params here\\\" (ionChange)=\\\"getCampaignParams($event.target.value)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div *ngIf=\\\"selectedService === 'twilio' && twilioParams.length\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              {{twilioParamDesc}}\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              <ion-item>\\r\\n                <ion-input mode=\\\"ios\\\" placeholder=\\\"Enter Params here\\\" [(ngModel)]=\\\"tempParam\\\" value=\\\"tempParam\\\" (ionChange)=\\\"getTwilioParams($event.target.value)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- Select Template Params -->\\r\\n          <!-- <ng-container *ngIf=\\\"selectedService[0] == 'aisensy'\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Select Template Param\\r\\n            </p>\\r\\n            <div class=\\\"sideMenu-st\\\">\\r\\n              !!! Templates\\r\\n              <ion-item>\\r\\n                <ion-label>Available Template Params</ion-label>\\r\\n                <ion-select multiple=\\\"true\\\" interface=\\\"popover\\\" cancelText=\\\"Cancel\\\" okText=\\\"Okay!\\\" mode=\\\"ios\\\">\\r\\n                  <ion-select-option value=\\\"aisensy\\\">Template 1</ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n            </div>\\r\\n          </ng-container> -->\\r\\n\\r\\n          <div class=\\\"save-button\\\">\\r\\n            <ion-button (click)=\\\"saveSettings()\\\" [disabled]=\\\"disableSave\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\"\\r\\n              color=\\\"success\\\">\\r\\n              <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n              Send Message\\r\\n            </ion-button>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n        <ion-col size=6 id=\\\"scroll2\\\">\\r\\n          <div class=\\\"messageArea\\\">\\r\\n            <p style=\\\"text-align:center; font-size: medium; font-weight: bold;\\\">\\r\\n              Recent Logs\\r\\n            </p>\\r\\n            <ng-container *ngIf=\\\"logs\\\">\\r\\n              <div>\\r\\n                <ion-card mode *ngFor=\\\"let log of logsArr; let i = index\\\" class=\\\"customCard\\\">\\r\\n                  <ion-card-header>\\r\\n                    <ion-card-subtitle style=\\\"text-transform: capitalize;\\\">{{log.title}}</ion-card-subtitle>\\r\\n                    <ion-card-title>Broadcast Time - {{log.time}}</ion-card-title>\\r\\n                    <ion-card-title>Broadcast Selection - {{log.sendTo}}</ion-card-title>\\r\\n                  </ion-card-header>\\r\\n                </ion-card>\\r\\n              </div>\\r\\n            </ng-container> \\r\\n            <ng-container *ngIf=\\\"!logs || !logsArr.length\\\">\\r\\n              <p style=\\\"text-align:center; font-size: medium; margin-top: 20px;\\\">No Logs available yet!</p>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { WhatsappPromotionsPage } from './whatsapp-promotions.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: WhatsappPromotionsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [WhatsappPromotionsPage]\r\n})\r\nexport class WhatsappPromotionsPageModule {}\r\n","module.exports = \".main-container {\\n  padding: 0;\\n}\\n\\n#scroll1 {\\n  overflow: hidden;\\n  height: 82vh;\\n}\\n\\n#scroll1:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll2 {\\n  overflow: hidden;\\n  height: 82vh;\\n  margin-top: 8px;\\n  border-left: 1px solid lightgray;\\n}\\n\\n#scroll2:hover {\\n  overflow-y: auto;\\n}\\n\\n.sideMenu-local {\\n  text-align: center;\\n  margin-bottom: 20px;\\n  border-bottom: 1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));\\n}\\n\\n.sideMenu-local p {\\n  font-size: medium;\\n  padding: 10px;\\n  margin: 8px;\\n  cursor: pointer;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.sideMenu-st {\\n  text-align: center;\\n  margin-bottom: 20px;\\n  border-bottom: 1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));\\n}\\n\\n.sideMenu-st p {\\n  font-size: medium;\\n  padding: 10px;\\n  margin: 8px;\\n  cursor: pointer;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.flex-label-local {\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  gap: 15px;\\n  margin: 0 auto;\\n}\\n\\n.toggle-btn-local {\\n  margin-top: -5px;\\n  margin-left: 6px;\\n}\\n\\ninput:checked + .slider {\\n  background-color: #1CBCB4;\\n}\\n\\ninput:not(:checked) + .slider {\\n  background-color: #1CBCB4;\\n}\\n\\n.grp_class {\\n  display: none;\\n}\\n\\n.save-button {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n.customCard {\\n  background-color: #fdd3df;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvd2hhdHNhcHAtcHJvbW90aW9ucy9DOlxcQldJLUFETUlOU1xcU2hlaW4tQWRtaW4tQ29kZS9zcmNcXGFwcFxcd2hhdHNhcHAtcHJvbW90aW9uc1xcd2hhdHNhcHAtcHJvbW90aW9ucy5wYWdlLnNjc3MiLCJzcmMvYXBwL3doYXRzYXBwLXByb21vdGlvbnMvd2hhdHNhcHAtcHJvbW90aW9ucy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFRSxVQUFBO0FDQUY7O0FERUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURBRTtFQUNFLGdCQUFBO0FDRUo7O0FERUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7QUNDRjs7QURBRTtFQUNFLGdCQUFBO0FDRUo7O0FERUE7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsOEhBQUE7QUNDRjs7QURBRTtFQUNFLGlCQUFBO0VBRUEsYUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7S0FBQSxzQkFBQTtNQUFBLHFCQUFBO1VBQUEsaUJBQUE7QUNDSjs7QURHQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSw4SEFBQTtBQ0FGOztBRENFO0VBQ0UsaUJBQUE7RUFFQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtLQUFBLHNCQUFBO01BQUEscUJBQUE7VUFBQSxpQkFBQTtBQ0FKOztBRElBO0VBQ0UsMkJBQUE7RUFBQSxvQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFFQSxTQUFBO0VBQ0EsY0FBQTtBQ0ZGOztBREtBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0ZGOztBRE1BO0VBQ0UseUJBQUE7QUNIRjs7QURNQTtFQUNFLHlCQUFBO0FDSEY7O0FETUE7RUFDRSxhQUFBO0FDSEY7O0FETUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0FDSEY7O0FETUE7RUFDRSx5QkFBQTtBQ0hGIiwiZmlsZSI6InNyYy9hcHAvd2hhdHNhcHAtcHJvbW90aW9ucy93aGF0c2FwcC1wcm9tb3Rpb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLWNvbnRhaW5lciB7XHJcbiAgLy8gd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMCBcclxufVxyXG4jc2Nyb2xsMSB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IDgydmg7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gIH1cclxufVxyXG5cclxuI3Njcm9sbDIge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgaGVpZ2h0OiA4MnZoO1xyXG4gIG1hcmdpbi10b3A6IDhweDtcclxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAmOmhvdmVyIHtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgfVxyXG59XHJcblxyXG4uc2lkZU1lbnUtbG9jYWwge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsdmFyKC0taW9uLWJvcmRlci1jb2xvcix2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAscmdiYSgwLDAsMCwwLjEzKSkpKTtcclxuICBwIHtcclxuICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xyXG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIG1hcmdpbjogOHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG4uc2lkZU1lbnUtc3Qge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsdmFyKC0taW9uLWJvcmRlci1jb2xvcix2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAscmdiYSgwLDAsMCwwLjEzKSkpKTtcclxuICBwIHtcclxuICAgIGZvbnQtc2l6ZTogbWVkaXVtO1xyXG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgbGlnaHRncmF5O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIG1hcmdpbjogOHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG4uZmxleC1sYWJlbC1sb2NhbCB7XHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAvLyBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMTVweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnRvZ2dsZS1idG4tbG9jYWx7XHJcbiAgbWFyZ2luLXRvcDogLTVweDtcclxuICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gIC8vIHRyYW5zZm9ybTogcm90YXRlWig5MGRlZyk7XHJcbn1cclxuXHJcbmlucHV0OmNoZWNrZWQgKyAuc2xpZGVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUNCQ0I0O1xyXG59XHJcblxyXG5pbnB1dDpub3QoOmNoZWNrZWQpICsgLnNsaWRlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFDQkNCNDtcclxufVxyXG5cclxuLmdycF9jbGFzcyB7XHJcbiAgZGlzcGxheTogbm9uZVxyXG59XHJcblxyXG4uc2F2ZS1idXR0b24ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jdXN0b21DYXJkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRkM2RmXHJcbn0iLCIubWFpbi1jb250YWluZXIge1xuICBwYWRkaW5nOiAwO1xufVxuXG4jc2Nyb2xsMSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGhlaWdodDogODJ2aDtcbn1cbiNzY3JvbGwxOmhvdmVyIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuI3Njcm9sbDIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDgydmg7XG4gIG1hcmdpbi10b3A6IDhweDtcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XG59XG4jc2Nyb2xsMjpob3ZlciB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi5zaWRlTWVudS1sb2NhbCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCByZ2JhKDAsIDAsIDAsIDAuMTMpKSkpO1xufVxuLnNpZGVNZW51LWxvY2FsIHAge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgcGFkZGluZzogMTBweDtcbiAgbWFyZ2luOiA4cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5zaWRlTWVudS1zdCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCByZ2JhKDAsIDAsIDAsIDAuMTMpKSkpO1xufVxuLnNpZGVNZW51LXN0IHAge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgcGFkZGluZzogMTBweDtcbiAgbWFyZ2luOiA4cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG59XG5cbi5mbGV4LWxhYmVsLWxvY2FsIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMTVweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi50b2dnbGUtYnRuLWxvY2FsIHtcbiAgbWFyZ2luLXRvcDogLTVweDtcbiAgbWFyZ2luLWxlZnQ6IDZweDtcbn1cblxuaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUNCQ0I0O1xufVxuXG5pbnB1dDpub3QoOmNoZWNrZWQpICsgLnNsaWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxQ0JDQjQ7XG59XG5cbi5ncnBfY2xhc3Mge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uc2F2ZS1idXR0b24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmN1c3RvbUNhcmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRkM2RmO1xufSJdfQ== */\"","// Whatsapp Broadcast Service\r\n// Code Revision [ v1.5.2-alpha ]\r\n// Status [ Working ]\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { UserGroupsService } from \"src/app/services/user-groups/user-groups.service\";\r\nimport { ToastController } from '@ionic/angular';\r\nimport { SharedService } from '../services/shared/shared.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { AngularFirestore } from \"@angular/fire/firestore\";\r\nimport { first, map } from \"rxjs/operators\";\r\nimport { AlertController, ModalController } from \"@ionic/angular\";\r\nimport { UsersModalPage } from '../../app/admin/users-modal/users-modal.page';\r\nimport { TemplateMakerComponent } from '../../app/components/template-maker/template-maker.component'\r\n\r\n@Component({\r\n  selector: 'app-whatsapp-promotions',\r\n  templateUrl: './whatsapp-promotions.page.html',\r\n  styleUrls: ['./whatsapp-promotions.page.scss'],\r\n})\r\nexport class WhatsappPromotionsPage implements OnInit {\r\n\r\n  middlewareUrl = this.configService.environment.middleware ? this.configService.environment.middleware.url : 'https://us-central1-bwi-middleware.cloudfunctions.net';\r\n\r\n  selectedTemplate = '';\r\n  selectedService = '';\r\n  allUsersPhoneNo = [];\r\n  disableSave = true;\r\n  availableCampaigns = [];\r\n  selectedCampaign = '';\r\n  currentCampaign = {\r\n    param: ''\r\n  };\r\n  currentParam = '';\r\n\r\n  selection = 'all';\r\n  userGroups = [];\r\n  isSelectAll = false;\r\n\r\n  logs = false\r\n  logsArr = [];\r\n\r\n  sentDate = ''\r\n  serviceUsed = ''\r\n  SentTo = ''\r\n\r\n  twilioTemplateButton: string = 'Make'\r\n  twilioParams: string[] = []\r\n  twilioEditName: string = ''\r\n  twilioEditBody: string = ''\r\n  twilioBody: string = ''\r\n  twilioFormattedBody: string = ''\r\n  twilioParamDesc: string = ''\r\n  tempParam: string = ''\r\n\r\n  constructor(\r\n    private userGroupsService: UserGroupsService,\r\n    private sharedService: SharedService,\r\n    private http: HttpClient,\r\n    private configService: ConfigService,\r\n    private afs: AngularFirestore,\r\n    private modalController: ModalController,\r\n    private toastController: ToastController,\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    await this.sharedService.presentLoading();\r\n    await this.getGroups();\r\n    await this.getAllUsers();\r\n    await this.getLogs();\r\n    await this.sharedService.loading.dismiss();\r\n    // if (this.disableSave) {\r\n    //   await this.sharedService.presentAlert(\"No data available.\");\r\n    // }\r\n  }\r\n\r\n  async presentToastWithOptions(header: string, message: string, errorCode: string) {\r\n    const toast = await this.toastController.create({\r\n      mode: 'ios',\r\n      color: 'dark',\r\n      header: header,\r\n      message: message,\r\n      position: 'top',\r\n      duration: 2000,\r\n      buttons: [\r\n        {\r\n          side: 'start',\r\n          text: errorCode,\r\n          handler: () => {\r\n            console.log('Favorite clicked');\r\n          }\r\n        }, {\r\n          text: 'Done',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  async getGroups() {\r\n    let grpData: any = await this.userGroupsService.getAllGroups();\r\n    console.log('grpData', grpData);\r\n    for (let i = 0; i < grpData.length; i++) {\r\n      this.userGroups.push(grpData[i])\r\n    }\r\n    // if (this.userGroups.length > 0) {\r\n    //   this.disableSave = false;\r\n    // }\r\n  }\r\n\r\n  async getAllUsers() {\r\n    if (this.selection == 'all') {\r\n      let allUsers: any\r\n      allUsers = await this.userGroupsService.getAllUsers()\r\n      console.log('allUsers : ', allUsers);\r\n      this.allUsersPhoneNo = []\r\n      for (let i = 0; i < allUsers.length; i++) {\r\n        if (allUsers[i].role === 'user') {\r\n          if (allUsers[i].phoneNo) {\r\n            this.allUsersPhoneNo.push(\r\n              {\r\n                'waNo': this.validatePhoneNo(allUsers[i].phoneNo)\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n      console.log('all users : ', this.allUsersPhoneNo);\r\n      \r\n      // if (this.allUsersPhoneNo.length > 0) {\r\n      //   this.disableSave = false;\r\n      // }\r\n    }\r\n  }\r\n\r\n  async grpCheck(option: any) {\r\n    // this.isSelectAll = !this.isSelectAll;\r\n    // if (this.isSelectAll) {\r\n    //   this.selection = 'groups'\r\n    //   console.log(this.selection);\r\n    // } else {\r\n    //   this.selection = 'all'\r\n    //   console.log(this.selection);\r\n    //   this.getAllUsers()\r\n    // }\r\n    if (option) {\r\n      if (option === 'all') {\r\n        this.selection = option;\r\n        console.log('all : ', option);\r\n        this.getAllUsers()\r\n      } else if (option === 'singleUser') {\r\n        await this.openUsersModal()\r\n        this.selection = option;\r\n        console.log('singleUsers : ', option);\r\n      } else if (option === 'groups') {\r\n        this.selection = option;\r\n        console.log('groups : ', option);\r\n      }\r\n    }\r\n  }\r\n\r\n  async getServicesOptions(option) {\r\n    this.availableCampaigns = []\r\n    this.selectedCampaign = ''\r\n    console.log('current selection : ', option);\r\n    if (!option) {\r\n      this.disableSave = true\r\n    }\r\n    let docData: any = await this.userGroupsService.getCampaigns(option);\r\n    if ((option ===  'aisensy' || option ===  'interakt')) {\r\n      if (!docData.campDetails.length) {\r\n        await this.presentToastWithOptions('No Campaign / Template Found!', `No Campaigns / Template Found in ${option} Integration`, 'ERR-181')\r\n        this.disableSave = true;\r\n      }\r\n      console.log('docData : ', docData);\r\n      this.availableCampaigns = docData.campDetails\r\n    } else if (option === 'twilio') {\r\n      console.log('docData : ', docData);\r\n      \r\n    }\r\n  }\r\n\r\n  async templateMaker() {\r\n    const modal = await this.modalController.create({\r\n      component: TemplateMakerComponent,\r\n      componentProps: {\r\n        templateEditName: this.twilioEditName,\r\n        templateEditBody: this.twilioEditBody,\r\n      },\r\n      cssClass: 'custom-template-maker',\r\n      backdropDismiss: true,\r\n    })\r\n    await modal.present();\r\n    modal.onDidDismiss().then(async res => {\r\n      this.twilioParams = []\r\n      this.twilioBody = ''\r\n      console.dir(res.data);\r\n      if (res.data && (res.data.templateName && res.data.templateName !== \"\") && (res.data.templateBody && res.data.templateBody !== \"\") && (res.data.templateParamCount && res.data.templateParamCount > 0)) {\r\n        this.twilioEditName = res.data.templateName\r\n        this.twilioEditBody = res.data.templateBody\r\n        this.twilioTemplateButton = 'Edit'\r\n        this.twilioBody = res.data.templateBody\r\n        for (let i = 0; i < res.data.templateParamCount; i++) {\r\n          this.twilioParams.push('')\r\n          this.twilioParamDesc = `Enter Only ${res.data.templateParamCount} param(s)!`\r\n          this.tempParam = ''\r\n          // this.disableSave = true\r\n        }\r\n      } else {\r\n        await this.presentToastWithOptions('Invalid Param Format!', 'Minimum 1 param required.' , 'ERR-192')\r\n        if (res.data) {\r\n          this.twilioTemplateButton = 'Edit'\r\n          this.twilioEditName = res.data.templateName\r\n          this.twilioEditBody = res.data.templateBody\r\n        } else {\r\n          this.twilioTemplateButton = 'Make'\r\n          this.twilioEditName = ''\r\n          this.twilioEditBody = ''\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  async getCampaignOptions(options) {\r\n    console.log('current campaign : ', options);\r\n    this.selectedCampaign = options\r\n    let index = this.availableCampaigns.findIndex(item => item.campaignName === this.selectedCampaign)\r\n    this.currentCampaign = this.availableCampaigns[index]\r\n    this.currentParam = ''\r\n    if (!options) {\r\n      this.disableSave = true\r\n    } else {\r\n      this.disableSave = false\r\n    }\r\n  }\r\n\r\n  async getGroupOptions(options) {\r\n    await this.sharedService.presentLoading();\r\n    if (this.selection == 'groups') {\r\n      // console.log('options : ', options);\r\n      let selectedGroups = [];\r\n      for (let i = 0; i < options.length; i++) {\r\n        selectedGroups.push(options[i]);\r\n      }\r\n      console.log('selectedGroups : ', selectedGroups);\r\n      let allUsers = []\r\n      for (let i = 0; i < selectedGroups.length; i++) {\r\n        console.log('fetch grp : ', selectedGroups[i]);\r\n        allUsers.push(await this.userGroupsService.getGroupUsers(selectedGroups[i]))\r\n      }\r\n      console.log('allUsers : ', allUsers);\r\n      let finalArr = []\r\n      finalArr = this.sortGroupsToArray(allUsers);\r\n      if (finalArr.length === 0) {\r\n        await this.presentToastWithOptions('No User(s) Found!', `No users found in this group`, 'ERR-199')\r\n        this.disableSave = true\r\n      } else {\r\n        this.disableSave = false\r\n      }\r\n      console.log('finalArr : ', finalArr);\r\n\r\n      this.allUsersPhoneNo = []\r\n      for (let i = 0; i < finalArr.length; i++) {\r\n        if (finalArr[i].phoneNo) {\r\n          this.allUsersPhoneNo.push(\r\n            {\r\n              'waNo': this.validatePhoneNo(finalArr[i].phoneNo)\r\n            }\r\n          )\r\n        }\r\n      }\r\n      console.log('all users groups : ', this.allUsersPhoneNo);\r\n    }\r\n    await this.sharedService.loading.dismiss();\r\n  }\r\n\r\n  sortGroupsToArray(grp) {\r\n    let result = grp.reduce((r, e) => (r.push(...e), r), [])\r\n    return result\r\n  }\r\n\r\n  validatePhoneNo(phoneNo: string) {\r\n    let finalNo = ''\r\n    if (phoneNo.includes('+')) {\r\n      finalNo = phoneNo.substring(phoneNo.indexOf('+') + 1)\r\n      return finalNo.length == 12 ? finalNo : undefined\r\n    } else {\r\n      return finalNo\r\n    }\r\n  }\r\n\r\n  async openUsersModal() {\r\n    const modal = await this.modalController.create({\r\n        component: UsersModalPage,\r\n        componentProps: {\r\n          alreadyAddedUsers: [],\r\n          groupDetails: {},\r\n        },\r\n        // cssClass: 'coupon-code-modal'\r\n        cssClass: 'custom-modal'\r\n    });\r\n    modal.onDidDismiss().then(async res => {\r\n        if (res && res.data) {\r\n          console.log('res : ', res.data);\r\n          if (!res.data.length) {\r\n            await this.presentToastWithOptions('No Users Selected!', `Please select at least one user`, 'ERR-197')\r\n            this.disableSave = true\r\n          } else {\r\n            console.log('here');\r\n            this.allUsersPhoneNo = []\r\n            for (let i = 0; i < res.data.length; i++) {\r\n              if (res.data[i].phoneNo) {\r\n                this.allUsersPhoneNo.push(\r\n                  {\r\n                    'waNo': this.validatePhoneNo(res.data[i].phoneNo)\r\n                  }\r\n                )\r\n              }\r\n            }\r\n            console.log('all SU : ', this.allUsersPhoneNo);\r\n          }\r\n        }\r\n    });\r\n    await modal.present();\r\n}\r\n\r\n  async getCampaignParams(params: any) {\r\n    let str = params.replace(/\\s+/g, '')\r\n    this.currentParam = str\r\n    console.log('params : ', this.currentParam);\r\n    this.currentCampaign.param = this.currentParam;\r\n    console.log('current : ', this.currentCampaign);\r\n  }\r\n\r\n  async getTwilioParams(params: any) {\r\n    let str = params.replace(/\\s+/g, '')\r\n    console.log('params : ', str);\r\n    let strLength = str.split(',')\r\n    console.log('strLength : ', strLength.length);\r\n    this.disableSave = true\r\n    if (strLength.length > this.twilioParams.length) {\r\n      await this.presentToastWithOptions('Invalid Param Format!', `More than ${this.twilioParams.length} param(s) not allowed.`, 'ERR-191')\r\n      this.tempParam = this.tempParam.slice(0, -1)\r\n      console.log('this.tempParam : ', this.tempParam);\r\n      this.disableSave = true\r\n    } else if (strLength.length == this.twilioParams.length) {\r\n      if (strLength[strLength.length-1] !== '') {\r\n        console.log('twilioBody : ', this.twilioBody.replace(/[0-9]}}/g, ''));\r\n        console.log('str : ', strLength);\r\n        let formattedStr = this.twilioBody.replace(/[0-9]}}/g, '')\r\n        for (let char of strLength) {\r\n          formattedStr = formattedStr.replace('{{', char)\r\n        }\r\n        console.log('formattedStr : ', formattedStr);\r\n        this.twilioFormattedBody = formattedStr\r\n        this.disableSave = false\r\n      }\r\n    }\r\n  }\r\n\r\n  getSelection(selection) {\r\n    if (selection) {\r\n      if (selection === 'all') {\r\n        return 'All Users'\r\n      } \r\n      if (selection === 'groups') {\r\n        return 'Groups'\r\n      }\r\n      if (selection === 'singleUser') {\r\n        return 'Custom Selected'\r\n      }\r\n    }\r\n  }\r\n\r\n  getSelectedCampaign(service: string) {\r\n    if ((service === 'aisensy') || (service === 'interakt')) {\r\n      let index = this.availableCampaigns.findIndex(item => item.campaignName === this.selectedCampaign)\r\n      console.log('index : ', index);\r\n      return this.availableCampaigns[index]\r\n    } else if (service === 'twilio') {\r\n      return this.twilioFormattedBody\r\n    }\r\n  }\r\n\r\n  async saveSettings() {\r\n    await this.sharedService.presentLoading();\r\n    console.log(this.selectedService);\r\n    if (this.selectedService) {\r\n      if (this.allUsersPhoneNo.length !== 0) {\r\n        let response: any = {}, logResponse: any = {}; \r\n        let logBody = {\r\n          title: '',\r\n          time: '',\r\n          sendTo: '',\r\n          unix: 0\r\n        };\r\n        if (this.selection) {\r\n          let apiBody = {\r\n            projectId: environment.firebase.projectId,\r\n            selectedCampaign: this.getSelectedCampaign(this.selectedService),\r\n            allUsersNo: this.allUsersPhoneNo,\r\n            integrationCode: this.selectedService + '_promotion'\r\n          }\r\n          console.log('this.availableCampaigns: ' + JSON.stringify(this.availableCampaigns));\r\n          console.log('selectedCampaign: ' + this.selectedCampaign);\r\n          console.log(`apiBody ${this.selection} : `, apiBody);\r\n          // !!! Broadcast Initializing\r\n          response = await this.initBroadcastService(apiBody);\r\n          if (response.success) {\r\n            console.log('response : ' + JSON.stringify(response))\r\n            await this.presentToastWithOptions('Broadcast Success!', `Message broadcasted successfully using ${this.selectedService}`, 'SCD-121')\r\n            response = {}\r\n            // !!! Save Log\r\n            logBody.title = this.selectedService\r\n            logBody.time = new Date().toLocaleString()\r\n            logBody.sendTo = this.getSelection(this.selection)\r\n            logBody.unix = Math.round((new Date()).getTime() / 1000);\r\n            console.log(`logBody ${this.selection} : `, logBody);\r\n            logResponse = await this.addLogs(logBody);\r\n            if (logResponse.success) {\r\n              await this.presentToastWithOptions('Log Saved!', `Message log saved successfully.`, 'SCD-122')\r\n              Object.getOwnPropertyNames(logBody).forEach(function (prop) {\r\n                logBody[prop] = '';\r\n              });\r\n            } else {\r\n              await this.presentToastWithOptions('Log Unsaved!', `Message log not saved.`, 'ERR-195')\r\n              Object.getOwnPropertyNames(logBody).forEach(function (prop) {\r\n                logBody[prop] = '';\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      await this.presentToastWithOptions('No Service Selected!', `Please select a broadcast service..`, 'ERR-180')\r\n    }\r\n    await this.sharedService.loading.dismiss();\r\n  }\r\n\r\n  async initBroadcastService(body) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      try {\r\n        this.http.post<any>(this.middlewareUrl + '/promotion-broadcastPromotion', body)\r\n        .subscribe(async (response) => {\r\n          console.log('response : ', response);\r\n          resolve(response)\r\n        }, error => {\r\n          console.log('error : ', error);\r\n          resolve({\r\n            success: false,\r\n            data: error \r\n          })\r\n        })\r\n      } catch (error) {\r\n        console.log('catch error : ', error);\r\n        resolve({\r\n          success: false,\r\n          data: error \r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  async addLogs(body) {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      try {\r\n        await this.afs.collection('integrations').doc('logs').collection('whatsapp_logs').add({...body})\r\n        resolve(\r\n          {\r\n            success: true\r\n          }\r\n        )\r\n        await this.getLogs()\r\n      } catch (error) {\r\n        console.log('error : ', error);\r\n        resolve(\r\n          {\r\n            success: false\r\n          }\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  async getLogs() {\r\n    return new Promise<any>(async (resolve, reject) => {\r\n      try {\r\n        const snapshot = await this.afs.collection('integrations').doc('logs').collection('whatsapp_logs').valueChanges().pipe(first()).toPromise();\r\n        // console.log('snapshot : ', snapshot);\r\n        if (snapshot.length) {\r\n          this.logs = true\r\n          const sortedUnix = snapshot.sort((a, b) => (b.unix) - (a.unix))\r\n          this.logsArr = sortedUnix\r\n          // console.log('sorted : ', sortedUnix);\r\n        }\r\n      } catch (error) {\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}