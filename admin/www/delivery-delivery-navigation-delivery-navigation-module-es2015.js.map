{"version":3,"sources":["./src/app/delivery/delivery-navigation/delivery-navigation.page.html","./src/app/delivery/delivery-navigation/delivery-navigation.module.ts","./src/app/delivery/delivery-navigation/delivery-navigation.page.scss","./src/app/delivery/delivery-navigation/delivery-navigation.page.ts"],"names":[],"mappings":"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","file":"delivery-delivery-navigation-delivery-navigation-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar class=\\\"toolbar\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"delivery-orders\\\" class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title text-center>Navigation</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"google-maps-btn\\\">\\r\\n    <ion-button (click)=\\\"openGoogleMaps()\\\" shape=\\\"round\\\">\\r\\n      Open in Google Maps\\r\\n    </ion-button>\\r\\n  </div>\\r\\n<div #map id=\\\"map\\\"></div>\\r\\n</ion-content>\\r\\n<ion-footer (click)=\\\"finishNavigationConfirm()\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\">\\r\\n      <div class=\\\"app-footer-text\\\">\\r\\n        Finish Navigation<span><i class=\\\"flaticon-address app-footer-icon\\\"></i></span>\\r\\n    </div>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DeliveryNavigationPage } from './delivery-navigation.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DeliveryNavigationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [DeliveryNavigationPage]\r\n})\r\nexport class DeliveryNavigationPageModule {}\r\n","module.exports = \"#map {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.google-maps-btn {\\n  position: absolute;\\n  top: 10px;\\n  -webkit-transform: translateX(50%);\\n          transform: translateX(50%);\\n  text-align: center;\\n  z-index: 9999;\\n  margin-left: -11%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVsaXZlcnkvZGVsaXZlcnktbmF2aWdhdGlvbi9DOlxcQldJLUFETUlOU1xcU2hlaW4tQWRtaW4tQ29kZS9zcmNcXGFwcFxcZGVsaXZlcnlcXGRlbGl2ZXJ5LW5hdmlnYXRpb25cXGRlbGl2ZXJ5LW5hdmlnYXRpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9kZWxpdmVyeS9kZWxpdmVyeS1uYXZpZ2F0aW9uL2RlbGl2ZXJ5LW5hdmlnYXRpb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNDSjs7QURDQTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGtDQUFBO1VBQUEsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvZGVsaXZlcnkvZGVsaXZlcnktbmF2aWdhdGlvbi9kZWxpdmVyeS1uYXZpZ2F0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXAge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLmdvb2dsZS1tYXBzLWJ0bntcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMTBweDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1MCUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgei1pbmRleDogOTk5OTtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMTElO1xyXG59XHJcbiIsIiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uZ29vZ2xlLW1hcHMtYnRuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDEwcHg7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1MCUpO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHotaW5kZXg6IDk5OTk7XG4gIG1hcmdpbi1sZWZ0OiAtMTElO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\r\nimport { Events, AlertController, LoadingController, Platform } from '@ionic/angular';\r\nimport { LaunchNavigator, LaunchNavigatorOptions } from '@ionic-native/launch-navigator/ngx';\r\nimport { environment } from 'src/environments/environment';\r\ndeclare var google;\r\n@Component({\r\n  selector: 'app-delivery-navigation',\r\n  templateUrl: './delivery-navigation.page.html',\r\n  styleUrls: ['./delivery-navigation.page.scss'],\r\n})\r\nexport class DeliveryNavigationPage implements OnInit {\r\n  map: any;\r\n  @ViewChild('map',{static: false}) mapElement: ElementRef;\r\n  watchLocationUpdates: any;\r\n  deliveryLatLng: any;\r\n  directionsService: any = new google.maps.DirectionsService;\r\n  directionsDisplay: any;\r\n  navigationInterval: any;\r\n  geoLatitude: number;\r\n  geoLongitude: number;\r\n  orderId: any;\r\n  icons = {\r\n    start: {\r\n      url: environment.deliveryBikeurl,\r\n      scaledSize: new google.maps.Size(40, 40)\r\n    },\r\n    end: {\r\n      url: environment.destinationMarkerUrl,\r\n      scaledSize: new google.maps.Size(30, 30)\r\n    }\r\n  };\r\n  loading: any;\r\n  deliveryMarkers = [];\r\n  constructor(private route: ActivatedRoute,\r\n              private router: Router,\r\n              private androidPermissions: AndroidPermissions,\r\n              private geolocation: Geolocation,\r\n              private locationAccuracy: LocationAccuracy,\r\n              private events: Events,\r\n              private launchNavigator: LaunchNavigator,\r\n              private alertController: AlertController,\r\n              private loadingCtrl: LoadingController,\r\n              private platform: Platform) {\r\n                this.route.queryParams.subscribe(params => {\r\n                  if (this.router.getCurrentNavigation().extras.state) {\r\n                    this.deliveryLatLng = this.router.getCurrentNavigation().extras.state.deliveryLatLng;\r\n                    this.orderId = this.router.getCurrentNavigation().extras.state.orderId;\r\n                    //console.log('deliveryLatLng', this.deliveryLatLng);\r\n                  }\r\n                });\r\n              }\r\n  ngOnInit() {                 \r\n  }\r\n  async ionViewDidEnter() {\r\n    await this.presentLoading(\"Initializing Map...\");\r\n    if(this.platform.is('android')) {\r\n      this.checkGPSPermission();\r\n    } else {\r\n      this.loadMap();\r\n    }\r\n    \r\n    this.initializeSubscriptions();\r\n  } \r\n  ionViewWillLeave(){\r\n    this.removeSubscriptions();\r\n  }\r\n  initializeSubscriptions() {\r\n    this.events.subscribe('delivery:finishedNavigationSuccess', () => {\r\n      this.loading.dismiss();\r\n      this.presentAlert('Order updated as delivered successfully!', true);\r\n    });\r\n  }\r\n  checkGPSPermission() {\r\n    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(\r\n      result => {\r\n        if (result.hasPermission) {\r\n \r\n          //If having permission show 'Turn On GPS' dialogue\r\n          this.askToTurnOnGPS();\r\n        } else {\r\n \r\n          //If not having permission ask for permission\r\n          this.requestGPSPermission();\r\n        }\r\n      },\r\n      err => {\r\n        //console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  requestGPSPermission() {\r\n    this.locationAccuracy.canRequest().then((canRequest: boolean) => {\r\n      if (canRequest) {\r\n        //console.log(\"4\");\r\n      } else {\r\n        //Show 'GPS Permission Request' dialogue\r\n        this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION)\r\n          .then(\r\n            () => {\r\n              // call method to turn on GPS\r\n              this.askToTurnOnGPS();\r\n            },\r\n            error => {\r\n              //Show alert if user click on 'No Thanks'\r\n              //console.log('requestPermission Error requesting location permissions ' + error)\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n \r\n  askToTurnOnGPS() {\r\n    this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(\r\n      () => {\r\n        // When GPS Turned ON call method to get Accurate location coordinates\r\n        this.loadMap();\r\n      },\r\n      error => {}\r\n    );\r\n  }\r\n  loadMap() {\r\n    let latLng = new google.maps.LatLng(28.6863237, 77.1254335);\r\n      let mapOptions = {\r\n        center: latLng,\r\n        zoom: 15,\r\n        disableDefaultUI: true,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n      }\r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n      this.directionsDisplay = new google.maps.DirectionsRenderer({\r\n        map: this.map\r\n      });\r\n      const userLocation = {\r\n        lat: this.deliveryLatLng.lat,\r\n        lng: this.deliveryLatLng.lng\r\n      };\r\n      this.makeUserMarker(userLocation, this.icons.end, 'title', this.map);\r\n      this.startNavigating();\r\n      this.navigationInterval = setInterval(() => {\r\n        this.startNavigating();\r\n      }, environment.timeToUpdateAgentLocation)\r\n  }\r\n  startNavigating() {\r\n    this.geolocation.getCurrentPosition().then((resp) => {\r\n      this.geoLatitude = resp.coords.latitude;\r\n      this.geoLongitude = resp.coords.longitude; \r\n      //console.log('Position', resp.coords.latitude, resp.coords.longitude);\r\n      this.events.publish('delivery:updateLatLongOfDeliveryAgent', resp.coords.latitude,resp.coords.longitude);\r\n      this.setRouteInMap(resp.coords.latitude, resp.coords.longitude);\r\n     }).catch((error) => {\r\n       //console.log('Error getting location', error);\r\n       this.presentAlert(\"Error in getting your location\");\r\n       clearInterval(this.navigationInterval);\r\n     });\r\n  }\r\n  setRouteInMap(latitude, longitude) {\r\n    this.directionsDisplay.setOptions({\r\n      suppressMarkers: true\r\n    });\r\n    \r\n    const request = {\r\n      origin: {lat: latitude, lng: longitude},\r\n      destination: {lat: this.deliveryLatLng.lat, lng: this.deliveryLatLng.lng},\r\n      travelMode: google.maps.TravelMode['DRIVING']\r\n    }\r\n    this.directionsService.route(request, (res, status) => {\r\n\r\n      if(status == google.maps.DirectionsStatus.OK){\r\n         this.directionsDisplay.setDirections(res);\r\n         this.removePreviousDeliveryMarkers();\r\n          const start_pos = {\r\n            lat: latitude,\r\n            lng: longitude\r\n          };\r\n        this.makeDeliveryMarker(start_pos, this.icons.start, \"title\", this.map);\r\n      } else {\r\n          console.warn(status)\r\n          this.presentAlert(\"There is some problem in setting up route. Please try again.\");\r\n          clearInterval(this.navigationInterval);\r\n      }\r\n\r\n  });\r\n  }\r\n  makeUserMarker(position, icon, title, map) {\r\n    new google.maps.Marker({\r\n        position: position,\r\n        map: map,\r\n        icon: icon,\r\n        title: title\r\n    });\r\n}\r\n  makeDeliveryMarker(position, icon, title, map) {\r\n    let marker = new google.maps.Marker({\r\n      position: position,\r\n      map: map,\r\n      icon: icon,\r\n      title: title\r\n    });\r\n    this.deliveryMarkers.push(marker);\r\n  }\r\n\r\n  removePreviousDeliveryMarkers() {\r\n    for (let index = 0; index < this.deliveryMarkers.length; index++) {\r\n      this.deliveryMarkers[index].setMap(null);\r\n    }\r\n  }\r\n\r\n  openGoogleMaps() {\r\n    let options: LaunchNavigatorOptions = {\r\n      start: [this.geoLatitude, this.geoLongitude],\r\n    }\r\n    this.launchNavigator.navigate([this.deliveryLatLng.lat, this.deliveryLatLng.lng], options)\r\n    .then(\r\n      success => //console.log('Launched navigator'),\r\n      error => this.presentAlert('Unable to open google maps.' + ' ' + error)\r\n    );\r\n  }\r\n  async finishNavigation() {\r\n    await this.presentLoading(\"Please wait...\");\r\n    this.events.publish('delivery:updateDeliveryStatus', this.orderId, 'delivered');\r\n  }\r\n  async finishNavigationConfirm() {\r\n    const alert = await this.alertController.create({\r\n      message: 'Are you sure you want to finish the navigation?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            //console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Finish',\r\n          handler: () => {\r\n            //console.log('Confirm Okay');\r\n            this.finishNavigation();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n  async presentLoading(msg: string) {\r\n    this.loading = await this.loadingCtrl.create({\r\n      message: msg,\r\n      duration: 3000\r\n    });\r\n    await this.loading.present();\r\n  }\r\n  async presentAlert(msg: string, action?) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: [{\r\n        text: 'OK',\r\n        handler: () => {\r\n          if(action) {\r\n            this.router.navigate(['delivery-orders']);\r\n          }\r\n        }\r\n      }]\r\n    });\r\n  \r\n    await alert.present();\r\n  }\r\n  removeSubscriptions() {\r\n    clearInterval(this.navigationInterval);\r\n\r\n    this.events.unsubscribe('delivery:finishedNavigationSuccess');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}