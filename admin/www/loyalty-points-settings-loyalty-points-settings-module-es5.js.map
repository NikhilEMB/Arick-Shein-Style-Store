{"version":3,"sources":["./src/app/loyalty-points-settings/loyalty-points-settings.page.html","./src/app/loyalty-points-settings/loyalty-points-settings.module.ts","./src/app/loyalty-points-settings/loyalty-points-settings.page.scss","./src/app/loyalty-points-settings/loyalty-points-settings.page.ts"],"names":[],"mappings":"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","file":"loyalty-points-settings-loyalty-points-settings-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\"\\r\\n      class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\"\\r\\n        name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\"\\r\\n      slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>loyalty-points-settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\\r\\n<ion-content style=\\\"--background: white;\\\">\\r\\n  <div style=\\\"padding: 20px 30px;\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n\\r\\n        <ion-col>\\r\\n          <div class=\\\"input-wrap active-toggle\\\">\\r\\n            <ion-label>Active</ion-label>\\r\\n            <ion-toggle [(ngModel)]=\\\"data.active\\\"></ion-toggle>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n  \\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <div class=\\\"input-wrap\\\">\\r\\n            <ion-label>Conversion Rate (1 loyalty point is equal to how much RS)</ion-label>\\r\\n            <ion-input type=\\\"number\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"data.conversionRate\\\" autocapitalize></ion-input>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <div class=\\\"input-wrap\\\">\\r\\n            <ion-label>Minimum Order Amount</ion-label>\\r\\n            <ion-input type=\\\"number\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"data.minOrderAmount\\\" autocapitalize></ion-input>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n  \\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <div class=\\\"input-wrap\\\">\\r\\n            <ion-label>Loyalty Point is what Percentage of Order Amount</ion-label>\\r\\n            <ion-input class=\\\"form-input\\\" type=\\\"number\\\" [(ngModel)]=\\\"data.percentRate\\\"></ion-input>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n  \\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <h6>Redeem</h6>\\r\\n        </ion-col>\\r\\n  \\r\\n        <ion-col size=\\\"6\\\">\\r\\n          <div class=\\\"input-wrap\\\">\\r\\n            <ion-label>Min order amount</ion-label>\\r\\n            <ion-input type=\\\"number\\\" class=\\\"form-input\\\" [(ngModel)]=\\\"data.redeem.minOrderAmt\\\"></ion-input>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n  \\r\\n        <ion-col size=\\\"6\\\">\\r\\n          <div class=\\\"input-wrap\\\">\\r\\n            <ion-label>How much % of order amount user can redeem loyalty points</ion-label>\\r\\n            <ion-input class=\\\"form-input\\\" type=\\\"number\\\" [(ngModel)]=\\\"data.redeem.percent\\\"></ion-input>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-button (click)=\\\"saveSettings()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n            <i class=\\\"flaticon-null-20 margin-icon\\\"></i> Save\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n  \\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  \\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoyaltyPointsSettingsPage } from './loyalty-points-settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoyaltyPointsSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoyaltyPointsSettingsPage]\r\n})\r\nexport class LoyaltyPointsSettingsPageModule {}\r\n","module.exports = \".active-toggle {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG95YWx0eS1wb2ludHMtc2V0dGluZ3MvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGxveWFsdHktcG9pbnRzLXNldHRpbmdzXFxsb3lhbHR5LXBvaW50cy1zZXR0aW5ncy5wYWdlLnNjc3MiLCJzcmMvYXBwL2xveWFsdHktcG9pbnRzLXNldHRpbmdzL2xveWFsdHktcG9pbnRzLXNldHRpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2xveWFsdHktcG9pbnRzLXNldHRpbmdzL2xveWFsdHktcG9pbnRzLXNldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hY3RpdmUtdG9nZ2xle1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn0iLCIuYWN0aXZlLXRvZ2dsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { ServicesFeatureService } from '../services/services-feature/services-feature.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-loyalty-points-settings',\r\n  templateUrl: './loyalty-points-settings.page.html',\r\n  styleUrls: ['./loyalty-points-settings.page.scss'],\r\n})\r\nexport class LoyaltyPointsSettingsPage implements OnInit {\r\n\r\n  data = {\r\n    active: false,\r\n    pointName: 'loyality points',\r\n    conversionRate: 0,\r\n    minOrderAmount: 0,\r\n    percentRate: 0,\r\n    redeem: {\r\n      minOrderAmt: 0,\r\n      percent: 0,\r\n    }\r\n  }\r\n  loading: any;\r\n  loyaltySubscription:Subscription;\r\n\r\n  constructor(\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    private featureService: ServicesFeatureService\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    await this.getLoyaltyPointsDetails();\r\n  }\r\n\r\n  async getLoyaltyPointsDetails () {\r\n    await this.presentLoading();\r\n    this.loyaltySubscription = this.featureService.getLoyaltyPointsDetails().subscribe(res => {\r\n      const data:any = res;\r\n      console.log('data...', data)\r\n      if(data) {\r\n        this.data.active = data.active,\r\n        this.data.pointName = data.pointName,\r\n        this.data.conversionRate = data.conversionRate,\r\n        this.data.minOrderAmount = data.minOrderAmount,\r\n        this.data.percentRate = data.percentRate,\r\n        this.data.redeem.percent = data.redeem.percent,\r\n        this.data.redeem.minOrderAmt = data.redeem.minOrderAmt\r\n      }\r\n    })\r\n    this.loading.dismiss();\r\n  }\r\n\r\n  async presentAlert(desc: any) {\r\n    const alert = await this.alertController.create({\r\n      message: desc,\r\n      buttons: ['Ok']\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please Wait...',\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async saveSettings() {\r\n    await this.presentLoading();\r\n    console.log('data', this.data);\r\n    const res = await this.featureService.setLoyaltyPointsDetails(this.data);\r\n    if(res) {\r\n      await this.presentAlert('Loyalty settings save successfully!');\r\n    }\r\n    this.loading.dismiss();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.loyaltySubscription.unsubscribe();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}