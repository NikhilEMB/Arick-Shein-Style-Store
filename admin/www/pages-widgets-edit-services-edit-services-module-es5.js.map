{"version":3,"sources":["./src/app/pages/widgets/edit-services/edit-services.page.html","./src/app/pages/widgets/edit-services/edit-services.module.ts","./src/app/pages/widgets/edit-services/edit-services.page.scss","./src/app/pages/widgets/edit-services/edit-services.page.ts"],"names":[],"mappings":"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","file":"pages-widgets-edit-services-edit-services-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\" defaultHref=\\\"homepage-setting\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>Edit Services</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"input-wrap\\\">\\r\\n        <ion-label>Section Name</ion-label>\\r\\n        <ion-input class=\\\"form-input\\\" [(ngModel)]=\\\"sectionName\\\"></ion-input>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n\\r\\n    <div *ngIf=\\\"isLoading; else dataLoaded;\\\" class=\\\"spinner\\\">\\r\\n      <ion-spinner name=\\\"dots\\\"></ion-spinner>\\r\\n    </div>\\r\\n  \\r\\n    <ng-template #dataLoaded>\\r\\n      <div *ngIf=\\\"!dataList.length\\\">\\r\\n        <p class=\\\"no-data-txt\\\">No data</p>\\r\\n      </div>\\r\\n  \\r\\n      <div *ngIf=\\\"dataList.length > 0\\\">\\r\\n        <ion-list class=\\\"s-c-list\\\" *ngFor=\\\"let data of dataList; let i=index\\\">\\r\\n          <ion-item lines=\\\"none\\\" (click)=\\\"selectParent(i)\\\">\\r\\n            <ion-label>{{data.name}}</ion-label>\\r\\n            <ion-checkbox slot=\\\"end\\\" [checked]=\\\"data.active\\\"></ion-checkbox>\\r\\n          </ion-item>\\r\\n          <hr class=\\\"line\\\">\\r\\n        </ion-list>\\r\\n      </div>\\r\\n      <ion-button (click)=\\\"onClickSave()\\\">\\r\\n        Save\\r\\n      </ion-button>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditServicesPage } from './edit-services.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditServicesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [EditServicesPage]\r\n})\r\nexport class EditServicesPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3dpZGdldHMvZWRpdC1zZXJ2aWNlcy9lZGl0LXNlcnZpY2VzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, Events, LoadingController, ModalController } from '@ionic/angular';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { FiltersService } from 'src/app/services/filters/filters.service';\r\nimport { SelectCategoriesPage } from 'src/app/admin/select-categories/select-categories.page';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-edit-services',\r\n  templateUrl: './edit-services.page.html',\r\n  styleUrls: ['./edit-services.page.scss'],\r\n})\r\nexport class EditServicesPage implements OnInit {\r\n\r\n  SELECT_CATEGORIES_LABELS: any;\r\n    SHARED_LABELS: any;\r\n    addedFilters = {};\r\n    dataList: any = [];\r\n    isLoading = true;\r\n    type = 'services';\r\n    linkedList = [];\r\n    selectList=[];\r\n    serviceId:any;\r\n    sectionName:any;\r\n    sectionIndex:any;\r\n    sections:any\r\n    loading: any\r\n    pageId = ''\r\n    constructor(private alertController: AlertController, private events: Events,private modalController: ModalController,\r\n        private labelService: LabelService,private loadingController: LoadingController,\r\n        private filtersService: FiltersService,private router: Router,private activatedRoute: ActivatedRoute, private angularFirestore: AngularFirestore) {\r\n         }\r\n\r\n    ionViewWillEnter() {\r\n      this.activatedRoute.queryParams.subscribe(async params => {\r\n          if (params && params.ID && params.index) {\r\n            this.serviceId = params.ID;\r\n            this.sectionIndex = params.index\r\n          }\r\n          if (params && params.pageId) {\r\n            this.pageId = params.pageId;\r\n          }\r\n        });\r\n\r\n      this.initializeSubscriptions();\r\n    }\r\n\r\n    ionViewWillLeave(){\r\n      this.removeSubscriptions()\r\n    }\r\n\r\n    removeSubscriptions(){\r\n      this.events.unsubscribe('widgets:addServicesSuccess');\r\n      this.events.unsubscribe('widgets:publishWidgetDataSuccess');\r\n      this.events.unsubscribe('widgets:serviceUpdateSuccess');\r\n    }\r\n\r\n    initializeSubscriptions(){\r\n      this.events.subscribe('widgets:addServicesSuccess', () => {\r\n        this.presentAlert('Section created successfully')\r\n        this.router.navigate(['homepage-setting']);\r\n      });\r\n      this.events.subscribe('widgets:serviceUpdateSuccess', () => {\r\n        this.presentAlert('Section updated successfully')\r\n        this.router.navigate(['homepage-setting']);\r\n      });\r\n      this.events.subscribe('widgets:publishWidgetDataSuccess',async (data) => {\r\n        let sections:any = await this.angularFirestore.collection('pages').doc(this.pageId).valueChanges().pipe(first()).toPromise();\r\n        if(sections && sections.sections){\r\n          this.sections = sections.sections;\r\n          this.sectionName = sections.sections[this.sectionIndex].sectionName;\r\n        }\r\n        this.dataList.forEach(element => {\r\n          if (data.serviceList.indexOf(element.id) > -1){\r\n            element.active = true\r\n            this.selectList.push(element.id)\r\n          }\r\n        });\r\n        if (this.loading){\r\n          this.loading.dismiss()\r\n        }\r\n      });\r\n    }\r\n\r\n    async ngOnInit() {\r\n        this.SELECT_CATEGORIES_LABELS = this.labelService.labels['SELECT_CATEGORIES'];\r\n        this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n        let dbList: any = [];\r\n        if (this.type === 'services') {\r\n            dbList = await this.filtersService.getServices();\r\n        }\r\n          if(this.linkedList.length) {\r\n            dbList.map(parent => {\r\n              if(this.linkedList.includes(parent.id)) {\r\n                parent.active = true;\r\n              }\r\n              if(parent.sublist.length) {\r\n                parent.sublist.map(child => {\r\n                  if(this.linkedList.includes(child.id)) {\r\n                    child.active = true;\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          }\r\n\r\n        this.dataList = dbList;\r\n        console.log('this.dataList', this.dataList);\r\n        this.isLoading = false;\r\n        if (this.serviceId){\r\n          this.presentLoading()\r\n          this.events.publish('widgets:getWidgetData', this.serviceId);\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.modalController.dismiss();\r\n    }\r\n\r\n    toggleParentCheck(i) {\r\n        this.dataList[i].active = !this.dataList[i].active;\r\n    }\r\n\r\n    selectParent(i) {\r\n      this.dataList[i].active = !this.dataList[i].active;\r\n      if ((this.selectList.indexOf(this.dataList[i].id) > -1) == false){\r\n        this.selectList.push(this.dataList[i].id)\r\n      }\r\n      else if (this.selectList.indexOf(this.dataList[i].id) > -1){\r\n        this.selectList.splice(this.selectList.indexOf(this.dataList[i].id),1)\r\n      }\r\n    }\r\n\r\n    async onClickSave() {\r\n      if(!this.sectionName){\r\n        this.presentAlert('Please Fill the name Properly')\r\n       }\r\n      else if(this.sectionName.length < 5){\r\n        this.presentAlert('Name should be atleast 5 characters')\r\n      }\r\n       else{\r\n        let indexArray = []\r\n        for (let i=0 ; i<this.selectList.length; i++){\r\n         indexArray.push(this.dataList.findIndex(ele => ele.id == this.selectList[i]))\r\n        }\r\n        this.bubbleSort(indexArray)\r\n         if (this.serviceId){\r\n          this.sections[this.sectionIndex].sectionName=this.sectionName\r\n          await this.angularFirestore.collection('pages').doc(this.pageId).update({'sections':this.sections});\r\n          this.events.publish('widgets:updateServices', this.serviceId, this.selectList);\r\n         }\r\n         else{\r\n          this.events.publish('widgets:addServices', this.selectList, this.sectionName, this.pageId);\r\n         }\r\n       }\r\n    }\r\n\r\n    bubbleSort(arr){\r\n      var len = arr.length;\r\n      for (var i = len-1; i>=0; i--){\r\n        for(var j = 1; j<=i; j++){\r\n          if(arr[j-1]>arr[j]){\r\n              var temp = arr[j-1];\r\n              arr[j-1] = arr[j];\r\n              arr[j] = temp;\r\n              var temp2 = this.selectList[j-1];\r\n              this.selectList[j-1] = this.selectList[j];\r\n              this.selectList[j] = temp2;\r\n           }\r\n        }\r\n      }\r\n      return arr;\r\n   }\r\n\r\n    async presentAlert(msg) {\r\n      const alert = await this.alertController.create({\r\n        message: msg,\r\n        buttons: ['OK']\r\n      });\r\n    \r\n      await alert.present();\r\n    }\r\n\r\n    async presentLoading() {\r\n      this.loading = await this.loadingController.create({\r\n        message: 'Please Wait...',\r\n        duration: 10000\r\n      });\r\n      await this.loading.present();\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}