{"version":3,"sources":["./src/app/admin/promo-popup-settings/promo-popup-settings.page.html","./src/app/admin/promo-popup-settings/promo-popup-settings.module.ts","./src/app/admin/promo-popup-settings/promo-popup-settings.page.scss","./src/app/admin/promo-popup-settings/promo-popup-settings.page.ts"],"names":[],"mappings":"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","file":"admin-promo-popup-settings-promo-popup-settings-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title text-center>Promo Popup</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"main-container info-container fixed-height\\\">\\r\\n    <ng-container>\\r\\n\\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <div class=\\\"input-wrap\\\">\\r\\n              <div class=\\\"flex-space-between\\\">\\r\\n\\r\\n                <div class=\\\"flex-label\\\">\\r\\n                  <ion-label> {{'PROMO_POPUP_SETTINGS.active' | translate}}\\r\\n                  </ion-label>\\r\\n                  <ion-toggle [(ngModel)]=\\\"popup.active\\\" [checked]=\\\"popup.active\\\"></ion-toggle>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </div>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <div class=\\\"flex-space-between\\\">\\r\\n              <div>\\r\\n                <ion-label>{{'PROMO_POPUP_SETTINGS.banner' | translate}}\\r\\n                </ion-label>\\r\\n              </div>\\r\\n              <div class=\\\"upload-btn-wrapper\\\">\\r\\n                <button [disabled]=\\\"popup.banner.url\\\" class=\\\"upload-btn btn-1 i-start\\\"\\r\\n                  (click)=\\\"uploadImage($event.target.files)\\\"> <i class=\\\"flaticon-null-16\\\"></i>Upload Banner\\r\\n                  Image</button>\\r\\n                <!-- <input [disabled]=\\\"popup.banner.url\\\" type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"uploadImage($event.target.files)\\\" /> -->\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"img-container\\\">\\r\\n              <div class=\\\"no-img\\\" *ngIf=\\\"!popup.banner.url\\\">\\r\\n                <p>No attached image</p>\\r\\n              </div>\\r\\n              <div *ngIf=\\\"popup.banner.url\\\">\\r\\n                <div class=\\\"img-wrap\\\">\\r\\n                  <img class=\\\"category-img\\\" [src]=\\\"popup.banner.url\\\" (click)=\\\"imgZoom(popup.banner.url)\\\" />\\r\\n                  <div class=\\\"overlay\\\">\\r\\n                    <ion-button class=\\\"btn-2 remove\\\" shape=\\\"round\\\" fill=\\\"clear\\\" color=\\\"danger\\\" (click)=\\\"removeImage()\\\">\\r\\n                      <ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n                    </ion-button>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            {{'PROMO_POPUP_SETTINGS.link_with' | translate}}\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-list>\\r\\n              <ion-radio-group [value]=\\\"popup.link.type\\\">\\r\\n                <ion-item class=\\\"pps-links\\\" *ngFor=\\\"let link of linkTypes; let i=index;\\\" lines=\\\"none\\\"\\r\\n                  (click)=\\\"selectLinkType(i)\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" [value]=\\\"link\\\"></ion-radio>\\r\\n                  <ion-label>\\r\\n                    {{link}} : <ng-container\\r\\n                      *ngIf=\\\"(link === popup.link.type) && (!linkLength || linkLength == 1) && checkCurrentType(popup.link.type)\\\">\\r\\n                      {{popup.link.name}}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"(link === popup.link.type) && (linkLength > 1) && checkCurrentType(popup.link.type)\\\">\\r\\n                      {{linkLength}} {{link}} selected\\r\\n                    </ng-container>\\r\\n                  </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('external')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"external\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    External Link :\\r\\n                  </ion-label>&nbsp;\\r\\n                  <ion-input [(ngModel)]='linkUrl' style=\\\"border: 1px solid;max-width: 250px;\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('contactUs')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"contactUs\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    Contact Us\\r\\n                  </ion-label>\\r\\n                </ion-item>\\r\\n                <!-- <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('referEarn')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"referEarn\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    Refer and Earn\\r\\n                  </ion-label>\\r\\n                </ion-item> -->\\r\\n                <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('feedback')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"feedback\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    Feedback\\r\\n                  </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('offers')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"offers\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    Offers\\r\\n                  </ion-label>\\r\\n                </ion-item>\\r\\n                <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('membership')\\\">\\r\\n                  <ion-radio slot=\\\"start\\\" value=\\\"membership\\\"></ion-radio>\\r\\n                  <ion-label style=\\\"text-transform: capitalize\\\">\\r\\n                    Membership\\r\\n                  </ion-label>\\r\\n                </ion-item>\\r\\n                <div style=\\\"display: flex; align-items: center\\\">\\r\\n                  <ion-item class=\\\"bs-links\\\" lines=\\\"none\\\" (click)=\\\"selectStaticLink('pdf')\\\">\\r\\n                    <ion-radio slot=\\\"start\\\" value=\\\"pdf\\\"></ion-radio>\\r\\n                    <p>PDF File</p>\\r\\n                    <div class=\\\"upload-btn-wrapper\\\">\\r\\n                      <button class=\\\"upload-btn btn-1 i-start\\\"> <i class=\\\"flaticon-null-16\\\"></i>Upload Pdf File</button>\\r\\n                      <input type=\\\"file\\\" name=\\\"myFile\\\" (change)=\\\"uploadPdf($event.target.files)\\\" />\\r\\n                    </div>\\r\\n                    <br>\\r\\n                  </ion-item>\\r\\n                  <a href=\\\"{{pdfUrl}}\\\" target=\\\"_blank\\\" *ngIf=\\\"pdfUrl != '' \\\">Uploaded File</a>&nbsp;&nbsp;\\r\\n                  <p *ngIf=\\\"popup.link && popup.link.type == 'pdf' && popup.link.url && newFile == true\\\">\\r\\n                    Selected File : {{popup.link.url.name}}\\r\\n                  </p>\\r\\n                </div>\\r\\n              </ion-radio-group>\\r\\n\\r\\n            </ion-list>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ng-container>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer no-border class=\\\"page-footer\\\">\\r\\n  <div class=\\\"main-container\\\">\\r\\n\\r\\n    <ion-button (click)=\\\"savePopup()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\">\\r\\n      <i class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n      {{'SHARED.save' | translate}}\\r\\n    </ion-button>\\r\\n\\r\\n  </div>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PromoPopupSettingsPage } from './promo-popup-settings.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SharedModule } from 'src/app/components/shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PromoPopupSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [PromoPopupSettingsPage]\r\n})\r\nexport class PromoPopupSettingsPageModule {}\r\n","module.exports = \".pps-links-type {\\n  color: #000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vcHJvbW8tcG9wdXAtc2V0dGluZ3MvQzpcXEJXSS1BRE1JTlNcXFNoZWluLUFkbWluLUNvZGUvc3JjXFxhcHBcXGFkbWluXFxwcm9tby1wb3B1cC1zZXR0aW5nc1xccHJvbW8tcG9wdXAtc2V0dGluZ3MucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9wcm9tby1wb3B1cC1zZXR0aW5ncy9wcm9tby1wb3B1cC1zZXR0aW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9hZG1pbi9wcm9tby1wb3B1cC1zZXR0aW5ncy9wcm9tby1wb3B1cC1zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHBzLWxpbmtzLXR5cGUge1xyXG4gIGNvbG9yOiAjMDAwO1xyXG59XHJcbiIsIi5wcHMtbGlua3MtdHlwZSB7XG4gIGNvbG9yOiAjMDAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, Events, LoadingController, ModalController, ToastController } from '@ionic/angular';\r\nimport { ImageModalPage } from 'src/app/image-modal/image-modal.page';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { BannerLinkingModalPage } from '../admin-banners/banner-linking-modal/banner-linking-modal.page';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { ImageEditorComponent } from 'src/app/components/image-editor/image-editor.component';\r\n\r\n@Component({\r\n  selector: 'app-promo-popup-settings',\r\n  templateUrl: './promo-popup-settings.page.html',\r\n  styleUrls: ['./promo-popup-settings.page.scss'],\r\n})\r\nexport class PromoPopupSettingsPage implements OnInit {\r\n  SHARED_LABELS: any;\r\n  headerText = '';\r\n  PROMO_POPUP_SETTINGS_LABELS: any;\r\n  popup: any = {\r\n    active: false,\r\n    banner: {\r\n      url: ''\r\n    },\r\n    link: {\r\n      type: '',\r\n      name: '',\r\n      id: ''\r\n    }\r\n  }\r\n\r\n  linkTypes = [];\r\n  loading: any;\r\n  referralFeature = false;\r\n  linkUrl: string = ''\r\n  newFile: boolean = false;\r\n  pdfUrl: string = '';\r\n  statusType: string = '';\r\n  currentType: string = '';\r\n  linkLength: any;\r\n\r\n  constructor(\r\n    private labelService: LabelService,\r\n    private events: Events,\r\n    private loadingController: LoadingController,\r\n    private alertController: AlertController,\r\n    private modalController: ModalController,\r\n    private toastController: ToastController,\r\n    private configService: ConfigService\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n    this.PROMO_POPUP_SETTINGS_LABELS = this.labelService.labels['PROMO_POPUP_SETTINGS'];\r\n    this.headerText = this.PROMO_POPUP_SETTINGS_LABELS['header_text'];\r\n    this.referralFeature = this.configService.environment.referralFeature;\r\n    this.initializeSubscriptions();\r\n\r\n    this.linkTypes = [\r\n      this.PROMO_POPUP_SETTINGS_LABELS['none'],\r\n      this.PROMO_POPUP_SETTINGS_LABELS['product'],\r\n      this.PROMO_POPUP_SETTINGS_LABELS['category'],\r\n      this.PROMO_POPUP_SETTINGS_LABELS['brand'],\r\n      this.PROMO_POPUP_SETTINGS_LABELS['search'],\r\n      this.PROMO_POPUP_SETTINGS_LABELS['service'],\r\n      'page'\r\n    ]\r\n    if (this.referralFeature) {\r\n      this.linkTypes.push(this.PROMO_POPUP_SETTINGS_LABELS['refer_and_earn'])\r\n    }\r\n    this.popup.link.type = this.PROMO_POPUP_SETTINGS_LABELS['none'];\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.removeSubscriptions();\r\n  }\r\n\r\n  initializeSubscriptions() {\r\n    console.log('initializeSubscriptions pro')\r\n    this.events.subscribe('promo-popup:savePopupSuccess', () => {\r\n      if (this.loading) {\r\n        this.loading.dismiss();\r\n      }\r\n      this.presentAlert(this.PROMO_POPUP_SETTINGS_LABELS['data_saved_msg'])\r\n    });\r\n\r\n    this.events.subscribe('promo-popup:publishPopupData', (data) => {\r\n      // console.log('Popup Data', data)\r\n      if (data) {\r\n        this.popup = data;\r\n        this.linkUrl = data.link.type == 'external' ? data.link.url : \"\";\r\n        this.pdfUrl = data.link.type == 'pdf' ? data.link.url : \"\";\r\n        this.currentType = \"type\" in data.link ? data.link.type : \"\";\r\n        this.linkLength =  \"ids\" in data.link ? data.link.ids.length : this.linkLength;\r\n      }\r\n    });\r\n\r\n    this.events.publish('promo-popup:getPopupData');\r\n  }\r\n\r\n  toggleActive() {\r\n    this.popup.active = !this.popup.active;\r\n  }\r\n\r\n  removeImage() {\r\n    this.popup.banner.url = '';\r\n  }\r\n\r\n  imgZoom(img: any) {\r\n    this.modalController.create({\r\n      component: ImageModalPage,\r\n      cssClass: 'photo-modal-class',\r\n      componentProps: {\r\n        imgs: [{ url: img }],\r\n        index: 0\r\n      }\r\n    }).then(modal => modal.present());\r\n  }\r\n\r\n\r\n  selectLinkType(i: number) {\r\n    const type = this.linkTypes[i];\r\n    this.popup.link.type = type;\r\n    if (type === this.PROMO_POPUP_SETTINGS_LABELS['product']) {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === this.PROMO_POPUP_SETTINGS_LABELS['category']) {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === 'subcategory') {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === this.PROMO_POPUP_SETTINGS_LABELS['brand']) {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === this.PROMO_POPUP_SETTINGS_LABELS['service']) {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === this.PROMO_POPUP_SETTINGS_LABELS['search']) {\r\n      this.searchTextAlert();\r\n    }\r\n    else if (type === 'page') {\r\n      this.presentModal(this.popup.link.type);\r\n    }\r\n    else if (type === this.PROMO_POPUP_SETTINGS_LABELS['refer_and_earn']) {\r\n      return null;\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n    this.popup.link.ids = [];\r\n    this.popup.link.name = '';\r\n  }\r\n\r\n  async presentModal(type: string) { \r\n  // console.log('modal linkType : ', type);\r\n  // console.log('modal linkId : ', this.popup.link.ids);\r\n  // console.log('modal currentType : ', this.popup.type);\r\n  // console.log('modal status : ', this.statusType);\r\n\r\n    if (type !== this.currentType) {\r\n      this.popup.link.ids = [];\r\n    }\r\n\r\n    const modal = await this.modalController.create({\r\n      component: BannerLinkingModalPage,\r\n      cssClass: 'custom-modal',\r\n      showBackdrop: true,\r\n      backdropDismiss: false,\r\n      componentProps: {\r\n        linkType: type,\r\n        linkId: this.popup.link.ids,\r\n        currentType: this.popup.type,\r\n        status: this.statusType\r\n      }\r\n    });\r\n    modal.onDidDismiss()\r\n      .then((res) => {\r\n        if (res && res.data) {\r\n          console.log('data from modal', res.data);\r\n          this.popup.link.ids = res.data.id || [];\r\n          if (res.data.id && res.data.id.length > 0) {\r\n            this.popup.link.id = res.data.id[0]\r\n          }\r\n          else {\r\n            this.popup.link.id = ''\r\n          }\r\n          this.popup.link.name = res.data.name;\r\n          this.linkLength = this.popup.link.ids.length\r\n          this.statusType = res.data.status || '';\r\n          this.currentType = res.data.type || '';\r\n          if (res.data.hasOwnProperty('isSubcategories')) {\r\n            this.popup.link['isSubcategories'] = res.data.isSubcategories;\r\n          }\r\n          if (type == 'subcategory') {\r\n            this.popup.link['categoryId'] = res.data.categoryId;\r\n          }\r\n          if (res.data.hasOwnProperty('serviceData')) {\r\n            this.popup.link['serviceData'] = res.data.serviceData;\r\n          }\r\n        } else {\r\n          this.defaultLinkType();\r\n        }\r\n      });\r\n\r\n    await modal.present();\r\n\r\n  }\r\n\r\n  async searchTextAlert() {\r\n    const alert = await this.alertController.create({\r\n      subHeader: this.PROMO_POPUP_SETTINGS_LABELS['search_text'],\r\n      inputs: [\r\n        {\r\n          name: 'searchTxt',\r\n          type: 'text',\r\n          placeholder: this.PROMO_POPUP_SETTINGS_LABELS['enter_search_text']\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: this.SHARED_LABELS['cancel'],\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            this.defaultLinkType();\r\n          }\r\n        }, {\r\n          text: this.SHARED_LABELS['add'],\r\n          handler: (data) => {\r\n            if (!data.searchTxt) {\r\n              this.defaultLinkType();\r\n              this.presentToast(this.PROMO_POPUP_SETTINGS_LABELS['please_enter_valid_data']);\r\n            }\r\n            else {\r\n              this.popup.link.name = data.searchTxt;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  defaultLinkType() {\r\n    this.popup.link.ids = [];\r\n    this.popup.link.name = '';\r\n    this.popup.link.type = this.PROMO_POPUP_SETTINGS_LABELS['none'];\r\n    delete this.popup.link.url\r\n    this.linkUrl = '';\r\n    this.linkLength = '';\r\n  }\r\n\r\n  async savePopup() {\r\n    // console.log(\"this.popup\",this.popup);\r\n    if (!this.popup.banner) {\r\n      this.popup.banner = { url: '' }\r\n    }\r\n    else if (this.popup.active && (this.popup.banner && !this.popup.banner.url)) {\r\n      this.presentAlert(this.PROMO_POPUP_SETTINGS_LABELS['upload_banner_msg'])\r\n    }\r\n    else if (this.popup.link && this.popup.link.type == 'pdf' && !this.popup.link.url) {\r\n      this.presentAlert('Please select a file to upload');\r\n    }\r\n    else if (this.popup.link && this.popup.link.type == 'external') {\r\n      if (this.linkUrl != '' && this.isValidHttpUrl(this.linkUrl)) {\r\n        this.popup.link.url = this.linkUrl;\r\n        this.filterData();\r\n        await this.presentLoading();\r\n        console.log(\"promo-popup:savePopup\");\r\n        this.events.publish('promo-popup:savePopup', this.popup);\r\n      }\r\n      else {\r\n        this.presentAlert('Please enter a valid link')\r\n      }\r\n    }\r\n    else {\r\n      this.filterData();\r\n      await this.presentLoading();\r\n      console.log(\"promo-popup:savePopup\");\r\n      this.events.publish('promo-popup:savePopup', this.popup);\r\n    }\r\n  }\r\n\r\n  isValidHttpUrl(string) {\r\n    let url;\r\n    try {\r\n      url = new URL(string);\r\n    } catch (_) {\r\n      return false;\r\n    }\r\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\r\n  }\r\n\r\n  filterData() {\r\n    if (this.popup.link.type !== this.PROMO_POPUP_SETTINGS_LABELS['category'] && this.popup.link.hasOwnProperty('isSubcategories')) {\r\n      delete this.popup.link.isSubcategories;\r\n    }\r\n    if (this.popup.link.type !== this.PROMO_POPUP_SETTINGS_LABELS['service'] && this.popup.link.hasOwnProperty('serviceData')) {\r\n      delete this.popup.link.serviceData;\r\n    }\r\n  }\r\n\r\n  async presentToast(msg: string) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async presentAlert(msg: string) {\r\n    const alert = await this.alertController.create({\r\n      message: msg,\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async presentLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: this.SHARED_LABELS['please_wait'],\r\n      duration: 10000,\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async uploadImage(files: FileList) {\r\n    const modal = await this.modalController.create({\r\n      component: ImageEditorComponent,\r\n      componentProps: {\r\n        aspectRatioWidthVal: 1,\r\n        aspectRatioHeightVal: 1,\r\n      },\r\n      cssClass: 'custom-img-editor'\r\n    })\r\n    await modal.present();\r\n    modal.onDidDismiss().then(res => {\r\n      if (!this.popup.banner) {\r\n        this.popup.banner = { url: '' }\r\n      }\r\n      this.popup.banner.url = res.data || '';\r\n    })\r\n    //console.log(type);\r\n    // for (let i = 0; i < files.length; i++) {\r\n    //   let reader = new FileReader();\r\n    //   reader.readAsDataURL(files.item(i))\r\n    //   reader.onload = (event:any) => { // called once readAsDataURL is completed\r\n    //     let base64Image:any = event.target.result;\r\n    // if (!this.popup.banner){\r\n    //   this.popup.banner = {url: ''}\r\n    // }\r\n    // this.popup.banner.url = base64Image;\r\n    // }\r\n    // }\r\n  }\r\n\r\n  checkCurrentType(type: string) {\r\n    return type === this.currentType;\r\n  }\r\n\r\n  selectStaticLink(type) {\r\n    this.popup.link.ids = [];\r\n    this.popup.link.name = '';\r\n    if (type == 'contactUs') {\r\n      this.popup.link.type = 'contactUs';\r\n    }\r\n    // else if (type == 'referEarn') {\r\n    //   this.popup.link.type = 'referEarn';\r\n    // }\r\n    else if (type == 'feedback') {\r\n      this.popup.link.type = 'feedback';\r\n    }\r\n    else if (type == 'offers') {\r\n      this.popup.link.type = 'offers';\r\n    }\r\n    else if (type == 'membership') {\r\n      this.popup.link.type = 'membership';\r\n    }\r\n    else if (type == 'external') {\r\n      this.popup.link.type = 'external';\r\n      this.popup.link.url = this.linkUrl;\r\n    }\r\n    else if (type == 'pdf') {\r\n      this.popup.link.type = 'pdf';\r\n    }\r\n  }\r\n\r\n  uploadPdf(file: any) {\r\n    if (file[0]) {\r\n      console.log(file[0])\r\n      this.popup.link.url = file[0];\r\n      this.newFile = true\r\n    }\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.events.unsubscribe('promo-popup:publishPopupData');\r\n    this.events.unsubscribe('promo-popup:savePopupSuccess');\r\n  }\r\n\r\n}\r\n\r\n"],"sourceRoot":""}