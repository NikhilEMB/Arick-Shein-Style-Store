{"version":3,"sources":["./src/app/admin/membership-settings/membership-settings.page.html","./src/app/admin/membership-settings/membership-settings.module.ts","./src/app/admin/membership-settings/membership-settings.page.scss","./src/app/admin/membership-settings/membership-settings.page.ts"],"names":[],"mappings":"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","file":"admin-membership-settings-membership-settings-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-menu-button slot=\\\"start\\\"\\r\\n      class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\"\\r\\n        name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\"\\r\\n      slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Membership Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <super-tabs no-shadow\\r\\n    no-border>\\r\\n    <super-tabs-toolbar slot=\\\"top\\\">\\r\\n      <super-tab-button>\\r\\n        <ion-label>Current Users</ion-label>\\r\\n      </super-tab-button>\\r\\n      <super-tab-button>\\r\\n        <ion-label>Settings</ion-label>\\r\\n      </super-tab-button>\\r\\n    </super-tabs-toolbar>\\r\\n    <super-tabs-container>\\r\\n      <super-tab>\\r\\n        <ion-content>\\r\\n          <div class=\\\"main-container\\\">\\r\\n            <div *ngIf=\\\"membershipUsers.length == 0\\\">\\r\\n              <p style=\\\"font-weight: bold;font-size: medium;\\\">Sorry! No user\\r\\n                with membership active</p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"membershipUsers.length > 0\\\"\\r\\n              class=\\\"m-t-10\\\">\\r\\n              <ion-grid class=\\\"ion-no-padding data-table ion-text-center\\\">\\r\\n                <ion-row class=\\\"ion-text-capitalize\\\">\\r\\n                  <ion-col>Name</ion-col>\\r\\n                  <ion-col>Plan Price ({{currencyCode}})</ion-col>\\r\\n                  <ion-col>Plan Discounted Price ({{currencyCode}})</ion-col>\\r\\n                  <ion-col>Discount</ion-col>\\r\\n                  <ion-col>Max Discount ({{currencyCode}})</ion-col>\\r\\n                  <ion-col>Free Delivery</ion-col>\\r\\n                  <ion-col>Delivery Fee as Cashback</ion-col>\\r\\n                  <ion-col>Delivery Free Above Amount ({{currencyCode}})\\r\\n                  </ion-col>\\r\\n                  <ion-col>Initial Cashback ({{currencyCode}})</ion-col>\\r\\n                  <ion-col>Months</ion-col>\\r\\n                  <ion-col>Valid Till</ion-col>\\r\\n                </ion-row>\\r\\n                <ion-row *ngFor=\\\"let user of membershipUsers; let i=index;\\\">\\r\\n                  <ion-col>\\r\\n                    {{user.name}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.plan.price}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.plan.discountedPrice}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.discount}} %\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.maxDiscount}}\\r\\n                  </ion-col>\\r\\n                  <ion-col\\r\\n                    *ngIf='user.membership.planConfig.isDeliveryFree == true'>\\r\\n                    Yes\\r\\n                  </ion-col>\\r\\n                  <ion-col\\r\\n                    *ngIf='user.membership.planConfig.isDeliveryFree != true'>\\r\\n                    No\\r\\n                  </ion-col>\\r\\n                  <ion-col\\r\\n                    *ngIf='user.membership.planConfig.isDeliveryFeeAsCashback == true'>\\r\\n                    Yes\\r\\n                  </ion-col>\\r\\n                  <ion-col\\r\\n                    *ngIf='user.membership.planConfig.isDeliveryFeeAsCashback != true'>\\r\\n                    No\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.deliveryFreeAmount}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.plan.initialCashback}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{user.membership.planConfig.plan.months}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{getDateTimeFormat(user.membership.planConfig.validTill)}}\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-content>\\r\\n      </super-tab>\\r\\n      <super-tab>\\r\\n        <ion-content>\\r\\n          <div class=\\\"main-container\\\">\\r\\n            <div class=\\\"toggle\\\">\\r\\n              <p>Active</p>&nbsp;&nbsp;&nbsp;\\r\\n              <div class=\\\"toggle-btn\\\">\\r\\n                <label class=\\\"switch\\\">\\r\\n                  <input type=\\\"checkbox\\\"\\r\\n                    (click)=\\\"toggleActive()\\\"\\r\\n                    [checked]=\\\"membership.active\\\">\\r\\n                  <span class=\\\"slider round\\\"></span>\\r\\n                </label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"data-field-txt\\\">\\r\\n                Membership Name\\r\\n              </div>\\r\\n              <div>\\r\\n                <ion-input type=\\\"text\\\"\\r\\n                  [(ngModel)]=\\\"membership.name\\\"\\r\\n                  class=\\\"form-input\\\"></ion-input>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"data-field-txt\\\">\\r\\n                <p>Membership Description</p>\\r\\n                <br>\\r\\n                <ckeditor [(ngModel)]=\\\"membership.description\\\"\\r\\n                  [config]=\\\"ckeConfig\\\"></ckeditor>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"data-field-txt\\\">\\r\\n                Discount on total bill (%)\\r\\n              </div>\\r\\n              <div>\\r\\n                <ion-input type=\\\"number\\\"\\r\\n                  [(ngModel)]=\\\"membership.discount\\\"\\r\\n                  class=\\\"form-input\\\"></ion-input>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"data-field-txt\\\">\\r\\n                Max discount({{currencyCode}})\\r\\n              </div>\\r\\n              <div>\\r\\n                <ion-input type=\\\"number\\\"\\r\\n                  [(ngModel)]=\\\"membership.maxDiscount\\\"\\r\\n                  class=\\\"form-input\\\"></ion-input>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"toggle\\\">\\r\\n              <p>Delivery free</p>&nbsp;&nbsp;&nbsp;\\r\\n              <div class=\\\"toggle-btn\\\">\\r\\n                <label class=\\\"switch\\\">\\r\\n                  <input type=\\\"checkbox\\\"\\r\\n                    (click)=\\\"toggleDeliveryFreeActive()\\\"\\r\\n                    [checked]=\\\"membership.isDeliveryFree\\\">\\r\\n                  <span class=\\\"slider round\\\"></span>\\r\\n                </label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <!-- TODO - delivery fee as cashback -->\\r\\n            <div class=\\\"toggle\\\">\\r\\n              <p>Delivery fee as cashback</p>&nbsp;&nbsp;&nbsp;\\r\\n              <div class=\\\"toggle-btn\\\">\\r\\n                <label class=\\\"switch\\\">\\r\\n                  <input type=\\\"checkbox\\\"\\r\\n                    (click)=\\\"toggleDeliveryFreeAsCashback()\\\"\\r\\n                    [disabled]=\\\"membership.isDeliveryFree\\\"\\r\\n                    [checked]=\\\"membership.isDeliveryFeeAsCashback\\\">\\r\\n                  <span class=\\\"slider round\\\"></span>\\r\\n                </label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"data-field-txt\\\">\\r\\n                Delivery free on order above({{currencyCode}})\\r\\n              </div>\\r\\n              <div>\\r\\n                <ion-input type=\\\"number\\\"\\r\\n                  [(ngModel)]=\\\"membership.deliveryFreeAmount\\\"\\r\\n                  class=\\\"form-input\\\"></ion-input>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div class=\\\"data-field\\\">\\r\\n              <div class=\\\"content-alignment\\\">\\r\\n                <div class=\\\"data-field-txt\\\">\\r\\n                  Membership plans\\r\\n                </div>\\r\\n                <br>\\r\\n                <ion-button (click)=\\\"addPlan()\\\"\\r\\n                  fill=\\\"outline\\\"\\r\\n                  shape=\\\"round\\\"\\r\\n                  size=\\\"small\\\">\\r\\n                  + Add\\r\\n                </ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div *ngIf=\\\"membership.plans.length\\\"\\r\\n              class=\\\"m-t-10\\\">\\r\\n              <ion-grid class=\\\"ion-no-padding data-table ion-text-center\\\">\\r\\n                <ion-row class=\\\"ion-text-capitalize\\\">\\r\\n                  <ion-col>Months</ion-col>\\r\\n                  <ion-col>Price</ion-col>\\r\\n                  <ion-col>Discounted Price</ion-col>\\r\\n                  <ion-col>Initial Cashback</ion-col>\\r\\n                  <ion-col>Remove</ion-col>\\r\\n                </ion-row>\\r\\n                <ion-row *ngFor=\\\"let plan of membership.plans; let i=index;\\\">\\r\\n                  <ion-col>\\r\\n                    {{plan.months}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{plan.price | currency: currencyCode: true: '0.0'}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{plan.discountedPrice | currency: currencyCode: true:\\r\\n                    '0.0'}}\\r\\n                  </ion-col>\\r\\n                  <ion-col>\\r\\n                    {{(plan.initialCashback || 0) | currency: currencyCode:\\r\\n                    true:\\r\\n                    '0.0'}}\\r\\n                  </ion-col>\\r\\n                  <ion-col (click)=\\\"removePlan(i)\\\">\\r\\n                    <i class=\\\"flaticon-null-17\\\"></i>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </div>\\r\\n            <br>\\r\\n            <div style=\\\"display: flex;justify-content: center\\\">\\r\\n              <ion-button (click)=\\\"saveMembership()\\\"\\r\\n                shape=\\\"round\\\"\\r\\n                class=\\\"btn-1 i-start\\\">\\r\\n                Save\\r\\n              </ion-button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-content>\\r\\n      </super-tab>\\r\\n    </super-tabs-container>\\r\\n  </super-tabs>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MembershipSettingsPage } from './membership-settings.page';\r\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\r\nimport { CKEditorModule } from 'ng2-ckeditor';  \r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MembershipSettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SuperTabsModule,\r\n    CKEditorModule\r\n  ],\r\n  declarations: [MembershipSettingsPage]\r\n})\r\nexport class MembershipSettingsPageModule {}\r\n","module.exports = \"ion-toggle {\\n  margin-top: -10px;\\n}\\n\\n.toggle {\\n  display: -webkit-box;\\n  display: flex;\\n  margin: 0% auto;\\n}\\n\\n.data-field {\\n  display: block;\\n}\\n\\n.list-header {\\n  position: relative;\\n  width: 53.5vw;\\n}\\n\\n.list-container {\\n  margin-top: 90px;\\n  width: 52vw;\\n}\\n\\n.list-container ion-grid ion-row {\\n  border-bottom: var(--ion-color-medium) 1px solid;\\n}\\n\\n.list-container ion-grid ion-row ion-col {\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  display: -webkit-inline-box;\\n  display: inline-flex;\\n}\\n\\n.f-d-c {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.f-d-c .m-s-btn {\\n  margin-top: 15px;\\n}\\n\\n.name {\\n  width: 60vw;\\n  max-width: 60vw;\\n}\\n\\nion-input {\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n}\\n\\nion-col {\\n  border: 1px solid gray;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\nion-row:first-child {\\n  background: lightgray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vbWVtYmVyc2hpcC1zZXR0aW5ncy9DOlxcQldJLUFETUlOU1xcU2hlaW4tQWRtaW4tQ29kZS9zcmNcXGFwcFxcYWRtaW5cXG1lbWJlcnNoaXAtc2V0dGluZ3NcXG1lbWJlcnNoaXAtc2V0dGluZ3MucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9tZW1iZXJzaGlwLXNldHRpbmdzL21lbWJlcnNoaXAtc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0ksaUJBQUE7QUNBTjs7QURHRTtFQUNFLG9CQUFBO0VBQUEsYUFBQTtFQUNBLGVBQUE7QUNBSjs7QURHRTtFQUNFLGNBQUE7QUNBSjs7QURHQTtFQUNJLGtCQUFBO0VBQ0EsYUFBQTtBQ0FKOztBREdBO0VBQ0ksZ0JBQUE7RUFDQSxXQUFBO0FDQUo7O0FERVE7RUFDQSxnREFBQTtBQ0FSOztBREVRO0VBQ0ksd0JBQUE7VUFBQSx1QkFBQTtFQUNBLDJCQUFBO0VBQUEsb0JBQUE7QUNBWjs7QURNQTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNISjs7QURLSTtFQUNBLGdCQUFBO0FDSEo7O0FET0E7RUFDSSxXQUFBO0VBQ0EsZUFBQTtBQ0pKOztBRE9BO0VBQ0ksc0JBQUE7RUFDQSxrQkFBQTtBQ0pKOztBRE9FO0VBQ0Usc0JBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0FDSko7O0FET0U7RUFDRSxxQkFBQTtBQ0pKIiwiZmlsZSI6InNyYy9hcHAvYWRtaW4vbWVtYmVyc2hpcC1zZXR0aW5ncy9tZW1iZXJzaGlwLXNldHRpbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4gIGlvbi10b2dnbGV7XHJcbiAgICAgIG1hcmdpbi10b3A6IC0xMHB4XHJcbiAgfVxyXG5cclxuICAudG9nZ2xle1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG1hcmdpbjogMCUgYXV0b1xyXG4gIH1cclxuICBcclxuICAuZGF0YS1maWVsZHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuXHJcbi5saXN0LWhlYWRlcntcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHdpZHRoOiA1My41dnc7XHJcbn1cclxuXHJcbi5saXN0LWNvbnRhaW5lcntcclxuICAgIG1hcmdpbi10b3A6IDkwcHg7XHJcbiAgICB3aWR0aDogNTJ2dztcclxuICAgIGlvbi1ncmlke1xyXG4gICAgICAgIGlvbi1yb3d7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSkgMXB4IHNvbGlkO1xyXG4gICAgICAgIC8vIG1hcmdpbi1sZWZ0OiA1dnc7XHJcbiAgICAgICAgaW9uLWNvbHtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi5mLWQtYyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgLm0tcy1idG4ge1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIH1cclxufVxyXG5cclxuLm5hbWV7XHJcbiAgICB3aWR0aDogNjB2dztcclxuICAgIG1heC13aWR0aDogNjB2dztcclxufVxyXG5cclxuaW9uLWlucHV0e1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuICBpb24tY29se1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHhcclxuICB9XHJcbiAgXHJcbiAgaW9uLXJvdzpmaXJzdC1jaGlsZHtcclxuICAgIGJhY2tncm91bmQ6IGxpZ2h0Z3JheVxyXG4gIH0iLCJpb24tdG9nZ2xlIHtcbiAgbWFyZ2luLXRvcDogLTEwcHg7XG59XG5cbi50b2dnbGUge1xuICBkaXNwbGF5OiBmbGV4O1xuICBtYXJnaW46IDAlIGF1dG87XG59XG5cbi5kYXRhLWZpZWxkIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5saXN0LWhlYWRlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDUzLjV2dztcbn1cblxuLmxpc3QtY29udGFpbmVyIHtcbiAgbWFyZ2luLXRvcDogOTBweDtcbiAgd2lkdGg6IDUydnc7XG59XG4ubGlzdC1jb250YWluZXIgaW9uLWdyaWQgaW9uLXJvdyB7XG4gIGJvcmRlci1ib3R0b206IHZhcigtLWlvbi1jb2xvci1tZWRpdW0pIDFweCBzb2xpZDtcbn1cbi5saXN0LWNvbnRhaW5lciBpb24tZ3JpZCBpb24tcm93IGlvbi1jb2wge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG59XG5cbi5mLWQtYyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4uZi1kLWMgLm0tcy1idG4ge1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4ubmFtZSB7XG4gIHdpZHRoOiA2MHZ3O1xuICBtYXgtd2lkdGg6IDYwdnc7XG59XG5cbmlvbi1pbnB1dCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuaW9uLWNvbCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuaW9uLXJvdzpmaXJzdC1jaGlsZCB7XG4gIGJhY2tncm91bmQ6IGxpZ2h0Z3JheTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, Events, LoadingController } from '@ionic/angular';\r\nimport { ConfigService } from 'src/app/services/config/config.service';\r\nimport { LabelService } from 'src/app/services/label/label.service';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n    selector: 'app-membership-settings',\r\n    templateUrl: './membership-settings.page.html',\r\n    styleUrls: ['./membership-settings.page.scss'],\r\n})\r\nexport class MembershipSettingsPage implements OnInit {\r\n\r\n    SHARED_LABELS: any;\r\n    MEMBERSHIP_SETTINGS_LABELS: any;\r\n    headerText: any;\r\n    membership = {\r\n        active: false,\r\n        name: '',\r\n        description: '',\r\n        discount: 0,\r\n        maxDiscount: 0,\r\n        isDeliveryFree: false,\r\n        isDeliveryFeeAsCashback: false,\r\n        deliveryFreeAmount: 0,\r\n        plans: [],\r\n        initialCashback: 0\r\n    }\r\n    currencyCode: any;\r\n    isMembership = false;\r\n    membershipUsers = []\r\n    ckeConfig: any;\r\n\r\n    constructor(private events: Events,\r\n        private labelService: LabelService,\r\n        private router: Router,\r\n        private sharedService: SharedService,\r\n        private configService: ConfigService,\r\n        private alertController: AlertController\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.SHARED_LABELS = this.labelService.labels['SHARED'];\r\n        this.MEMBERSHIP_SETTINGS_LABELS = this.labelService.labels['MEMBERSHIP_SETTINGS'];\r\n        this.headerText = this.MEMBERSHIP_SETTINGS_LABELS['header_text'];\r\n        this.currencyCode = this.configService.environment.currencyCode;\r\n        this.ckeConfig = {\r\n            allowedContent: true,\r\n            height: 200\r\n        }\r\n    }\r\n\r\n    async ionViewWillEnter() {\r\n        this.isMembership = this.configService.environment.membership;\r\n        if (this.isMembership == false) {\r\n            const alert = await this.alertController.create({\r\n                message: \"Sorry, this feature is not available. Please upgrade your plan for access\",\r\n                buttons: ['ok']\r\n            });\r\n            alert.onWillDismiss().then(() => {\r\n                this.router.navigate(['admin-home']);\r\n            })\r\n            await alert.present();\r\n        }\r\n        this.initializeSubscriptions();\r\n        await this.sharedService.presentLoading(\"Loading data ...\");\r\n        this.events.publish('membership:getMembershipUsers');\r\n        this.events.publish('membership:getMembershipSettings');\r\n    }\r\n\r\n    ionViewWillLeave() {\r\n        this.removeSubscriptions();\r\n    }\r\n\r\n    initializeSubscriptions() {\r\n        this.events.subscribe('membership:membershipSettingsSaved', () => {\r\n            if (this.sharedService.loading) {\r\n                this.sharedService.loading.dismiss();\r\n            }\r\n            this.sharedService.presentAlert('Membership data saved');\r\n        });\r\n        this.events.subscribe('membership:membershipSettings', (settings) => {\r\n            if (this.sharedService.loading) {\r\n                this.sharedService.loading.dismiss();\r\n            }\r\n            if (settings && settings !== undefined) {\r\n                this.membership = settings;\r\n            }\r\n        });\r\n        this.events.subscribe('membership:publishAllMembers', (userData) => {\r\n            if (this.sharedService.loading) {\r\n                this.sharedService.loading.dismiss();\r\n            }\r\n            this.membershipUsers = userData\r\n        });\r\n    }\r\n\r\n    getDateTimeFormat(date) {\r\n        return moment(date).format('MMM D, YYYY hh:mm a');\r\n    }\r\n\r\n    toggleActive() {\r\n        this.membership.active = !this.membership.active;\r\n    }\r\n    toggleDeliveryFreeActive() {\r\n        this.membership.isDeliveryFree = !this.membership.isDeliveryFree;\r\n        if (this.membership.isDeliveryFree) {\r\n            this.membership.isDeliveryFeeAsCashback = false;\r\n        }\r\n    }\r\n\r\n    toggleDeliveryFreeAsCashback() {\r\n        this.membership.isDeliveryFeeAsCashback = !this.membership.isDeliveryFeeAsCashback;\r\n    }\r\n\r\n    async addPlan() {\r\n        const alert = await this.alertController.create({\r\n            subHeader: 'Plan Details',\r\n            inputs: [\r\n                {\r\n                    name: 'months',\r\n                    type: 'number',\r\n                    placeholder: 'No of months'\r\n                },\r\n                {\r\n                    name: 'price',\r\n                    type: 'number',\r\n                    placeholder: 'Enter price'\r\n                },\r\n                {\r\n                    name: 'discountedPrice',\r\n                    type: 'number',\r\n                    placeholder: 'Enter discounted price'\r\n                },\r\n                {\r\n                    name: 'initialCashback',\r\n                    type: 'number',\r\n                    placeholder: 'Enter initial cashback'\r\n                },\r\n\r\n            ],\r\n            buttons: [\r\n                {\r\n                    text: 'cancel',\r\n                    role: 'cancel',\r\n                    cssClass: 'secondary',\r\n                    handler: () => {\r\n                        console.log('Confirm Cancel');\r\n                    }\r\n                }, {\r\n                    text: 'Add',\r\n                    handler: (plan) => {\r\n                        if (!parseInt(plan.months) || !parseInt(plan.price) || !parseInt(plan.discountedPrice)) {\r\n                            this.sharedService.presentToast('Please fill all the details');\r\n                            return false;\r\n                        } else if (parseInt(plan.discountedPrice) > parseInt(plan.price)) {\r\n                            this.sharedService.presentToast('Discounted price greater');\r\n                            return false;\r\n                        }\r\n                        else {\r\n                            this.membership.plans.push({\r\n                                months: parseInt(plan.months),\r\n                                price: parseInt(plan.price),\r\n                                discountedPrice: parseInt(plan.discountedPrice),\r\n                                initialCashback: parseInt(plan.initialCashback)\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n        await alert.present();\r\n    }\r\n\r\n    removePlan(i) {\r\n        this.membership.plans.splice(i, 1);\r\n    }\r\n\r\n    async saveMembership() {\r\n        let emptyFields = this.membership.active && (!this.membership.name || !this.membership.description ||\r\n            (this.membership.discount && !this.membership.maxDiscount) ||\r\n            (this.membership.isDeliveryFree && !this.membership.deliveryFreeAmount) ||\r\n            !this.membership.plans.length) ? true : false;\r\n\r\n        if (emptyFields) {\r\n            this.sharedService.presentAlert('Please fill all the details');\r\n        } else {\r\n            await this.sharedService.presentLoading('Please wait ...');\r\n            this.events.publish('membership:saveMembershipSettings', this.membership);\r\n        }\r\n\r\n    }\r\n\r\n    removeSubscriptions() {\r\n        this.events.unsubscribe('membership:membershipSettingsSaved');\r\n        this.events.unsubscribe('membership:membershipSettings');\r\n        this.events.unsubscribe('membership:publishAllMembers');\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}