{"version":3,"sources":["./src/app/admin/import-export-manager/orders/import-orders/import-orders.page.html","./src/app/admin/import-export-manager/orders/import-orders/import-orders.module.ts","./src/app/admin/import-export-manager/orders/import-orders/import-orders.page.scss","./src/app/admin/import-export-manager/orders/import-orders/import-orders.page.ts"],"names":[],"mappings":"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","file":"admin-import-export-manager-orders-import-orders-import-orders-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons style=\\\"margin-left: -8px;\\\" slot=\\\"start\\\">\\r\\n      <ion-back-button class=\\\"custom-back-button\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-menu-button style=\\\"margin-left: 8px;\\\" slot=\\\"start\\\" class=\\\"menu-btn\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\r\\n    </ion-menu-button>\\r\\n    <div class=\\\"header-logo\\\" slot=\\\"start\\\"><img src=\\\"../../../assets/img/shop-logo.png\\\"></div>\\r\\n    <ion-title>Import Orders</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"main-container\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n\\r\\n        <ion-col id=\\\"scroll\\\" size=\\\"6\\\">\\r\\n          <div class=\\\"sectionArea\\\">\\r\\n            <h2>Import fields</h2>\\r\\n            <div>\\r\\n\\r\\n              <ion-item>\\r\\n                <ion-label>Delivery Agent</ion-label>\\r\\n                <ion-checkbox slot=\\\"end\\\" mode=\\\"ios\\\" disabled [checked]=\\\"buttonState === 'Import'\\\"></ion-checkbox>\\r\\n              </ion-item>\\r\\n\\r\\n            </div>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"6\\\">\\r\\n          <div class=\\\"sectionArea\\\">\\r\\n            <h2>Instructions</h2>\\r\\n          </div>\\r\\n          <div style=\\\"margin-top: 10px;\\\">\\r\\n            <ol>\\r\\n              <li>Simply select the CSV file containing the the list of delivery agent(s) phone no.</li>\\r\\n              <li style=\\\"font-weight: bold\\\">The format for the delivery agent is as follows : </li>\\r\\n              <ol>\\r\\n                <li>[ +919988776655 ]</li>\\r\\n              </ol>\\r\\n              <li>Right now only the updating of delivery agent is supported.</li>\\r\\n            </ol>\\r\\n          </div>\\r\\n        </ion-col>\\r\\n        \\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer no-border class=\\\"page-footer\\\" style=\\\"border-top: 1px solid #ccc;\\\">\\r\\n  <div class=\\\"main-container\\\" style=\\\"display: flex; align-content: center; justify-content: space-between; align-items: center;\\\">\\r\\n    <div class=\\\"upload-btn-wrapper\\\">\\r\\n      <ion-button [disabled]=\\\"saveDisable()\\\" shape=\\\"round\\\" class=\\\"btn-1 i-start\\\" color=\\\"success\\\" (click)=\\\"importOrdersHandler($event, buttonState)\\\" >\\r\\n        <i *ngIf=\\\"buttonState === 'Import'\\\" class=\\\"flaticon-null-20 margin-icon\\\"></i>\\r\\n        <i *ngIf=\\\"buttonState === 'Upload'\\\" class=\\\"flaticon-null-16\\\"></i>\\r\\n        {{buttonState}} CSV\\r\\n      </ion-button>\\r\\n      <ng-container *ngIf=\\\"buttonState !== 'Import'\\\">\\r\\n        <input type=\\\"file\\\" name=\\\"myfile\\\" (change)=\\\"importOrdersHandler($event, buttonState)\\\"/>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ImportOrdersPage } from './import-orders.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ImportOrdersPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ImportOrdersPage]\r\n})\r\nexport class ImportOrdersPageModule {}\r\n","module.exports = \".main-container {\\n  width: 100%;\\n  padding: 0;\\n}\\n\\n#scroll1 {\\n  overflow: hidden;\\n  height: 75vh;\\n  border-right: 1px solid lightgray;\\n}\\n\\n#scroll1:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll2 {\\n  overflow: hidden;\\n  height: 86vh;\\n}\\n\\n#scroll2:hover {\\n  overflow-y: auto;\\n}\\n\\n#scroll {\\n  overflow: hidden;\\n  height: calc(100vh - 157px);\\n  border-right: 1px solid lightgray;\\n}\\n\\n#scroll:hover {\\n  overflow-y: auto;\\n}\\n\\n.sectionArea h2 {\\n  text-align: center;\\n}\\n\\nh2 {\\n  margin-top: 0;\\n  font-size: 24px;\\n}\\n\\n#mainField {\\n  margin: 0 4px 8px 8px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n\\n#mainFieldSelect {\\n  height: 34px;\\n  margin: 0 4px 8px 8px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n\\n#subField {\\n  margin: 0 8px 16px 40px;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: justify;\\n          justify-content: space-between;\\n}\\n\\n.dropdown {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  gap: 4px;\\n}\\n\\n.hide {\\n  visibility: hidden;\\n  max-height: 0;\\n  opacity: 0;\\n  -webkit-transition: max-height 0.5s linear;\\n  transition: max-height 0.5s linear;\\n}\\n\\n#fieldSelection {\\n  margin: 0 4px 8px 8px;\\n}\\n\\n.customSelect {\\n  width: 70%;\\n  border-color: #ccc;\\n  border-radius: 12px;\\n  height: 25px;\\n}\\n\\nion-datetime {\\n  --padding-top: 0px ;\\n}\\n\\nli {\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRtaW4vaW1wb3J0LWV4cG9ydC1tYW5hZ2VyL29yZGVycy9pbXBvcnQtb3JkZXJzL0M6XFxCV0ktQURNSU5TXFxTaGVpbi1BZG1pbi1Db2RlL3NyY1xcYXBwXFxhZG1pblxcaW1wb3J0LWV4cG9ydC1tYW5hZ2VyXFxvcmRlcnNcXGltcG9ydC1vcmRlcnNcXGltcG9ydC1vcmRlcnMucGFnZS5zY3NzIiwic3JjL2FwcC9hZG1pbi9pbXBvcnQtZXhwb3J0LW1hbmFnZXIvb3JkZXJzL2ltcG9ydC1vcmRlcnMvaW1wb3J0LW9yZGVycy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsVUFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUNBQUE7QUNDRjs7QURBRTtFQUNFLGdCQUFBO0FDRUo7O0FERUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURBRTtFQUNFLGdCQUFBO0FDRUo7O0FERUE7RUFDRSxnQkFBQTtFQUNBLDJCQUFBO0VBRUEsaUNBQUE7QUNBRjs7QURDRTtFQUNFLGdCQUFBO0FDQ0o7O0FER0U7RUFDRSxrQkFBQTtBQ0FKOztBRElBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7QUNERjs7QURJQTtFQUNFLHFCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHlCQUFBO1VBQUEsOEJBQUE7QUNERjs7QURJQTtFQUNFLFlBQUE7RUFDQSxxQkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0FDREY7O0FESUE7RUFDRSx1QkFBQTtFQUNBLG9CQUFBO0VBQUEsYUFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSx5QkFBQTtVQUFBLDhCQUFBO0FDREY7O0FESUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0EsUUFBQTtBQ0RGOztBRElBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0EsVUFBQTtFQUNBLDBDQUFBO0VBQUEsa0NBQUE7QUNERjs7QURJQTtFQUNFLHFCQUFBO0FDREY7O0FESUE7RUFDRSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUNERjs7QURJQTtFQUNFLG1CQUFBO0FDREY7O0FESUE7RUFDRSxlQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9hZG1pbi9pbXBvcnQtZXhwb3J0LW1hbmFnZXIvb3JkZXJzL2ltcG9ydC1vcmRlcnMvaW1wb3J0LW9yZGVycy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbi1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDBcclxufVxyXG5cclxuI3Njcm9sbDEge1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgaGVpZ2h0OiA3NXZoO1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAmOmhvdmVyIHtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgfVxyXG59XHJcblxyXG4jc2Nyb2xsMiB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IDg2dmg7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gIH1cclxufVxyXG5cclxuI3Njcm9sbCB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNTdweCk7XHJcbiAgLy8gaGVpZ2h0OiAxMDB2aDtcclxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgJjpob3ZlciB7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gIH1cclxufVxyXG4uc2VjdGlvbkFyZWF7XHJcbiAgaDIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxufVxyXG5cclxuaDIge1xyXG4gIG1hcmdpbi10b3A6IDA7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG59XHJcblxyXG4jbWFpbkZpZWxkIHtcclxuICBtYXJnaW46IDAgNHB4IDhweCA4cHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuI21haW5GaWVsZFNlbGVjdCB7XHJcbiAgaGVpZ2h0OiAzNHB4O1xyXG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4jc3ViRmllbGQge1xyXG4gIG1hcmdpbjogMCA4cHggMTZweCA0MHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5kcm9wZG93biB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogNHB4O1xyXG59XHJcblxyXG4uaGlkZSB7XHJcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gIG1heC1oZWlnaHQ6IDA7XHJcbiAgb3BhY2l0eTogMDtcclxuICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDAuNXMgbGluZWFyO1xyXG59XHJcblxyXG4jZmllbGRTZWxlY3Rpb24ge1xyXG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcclxufVxyXG5cclxuLmN1c3RvbVNlbGVjdCB7XHJcbiAgd2lkdGg6IDcwJTtcclxuICBib3JkZXItY29sb3I6ICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBoZWlnaHQ6IDI1cHg7XHJcbn1cclxuXHJcbmlvbi1kYXRldGltZSB7XHJcbiAgLS1wYWRkaW5nLXRvcDogMHB4XHJcbn1cclxuXHJcbmxpIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbn0iLCIubWFpbi1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMDtcbn1cblxuI3Njcm9sbDEge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDc1dmg7XG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbn1cbiNzY3JvbGwxOmhvdmVyIHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuI3Njcm9sbDIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDg2dmg7XG59XG4jc2Nyb2xsMjpob3ZlciB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbiNzY3JvbGwge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNTdweCk7XG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbn1cbiNzY3JvbGw6aG92ZXIge1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uc2VjdGlvbkFyZWEgaDIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmgyIHtcbiAgbWFyZ2luLXRvcDogMDtcbiAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4jbWFpbkZpZWxkIHtcbiAgbWFyZ2luOiAwIDRweCA4cHggOHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbiNtYWluRmllbGRTZWxlY3Qge1xuICBoZWlnaHQ6IDM0cHg7XG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4jc3ViRmllbGQge1xuICBtYXJnaW46IDAgOHB4IDE2cHggNDBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uZHJvcGRvd24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDRweDtcbn1cblxuLmhpZGUge1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIG1heC1oZWlnaHQ6IDA7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC41cyBsaW5lYXI7XG59XG5cbiNmaWVsZFNlbGVjdGlvbiB7XG4gIG1hcmdpbjogMCA0cHggOHB4IDhweDtcbn1cblxuLmN1c3RvbVNlbGVjdCB7XG4gIHdpZHRoOiA3MCU7XG4gIGJvcmRlci1jb2xvcjogI2NjYztcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgaGVpZ2h0OiAyNXB4O1xufVxuXG5pb24tZGF0ZXRpbWUge1xuICAtLXBhZGRpbmctdG9wOiAwcHggO1xufVxuXG5saSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Papa } from 'ngx-papaparse';\r\nimport { SharedService } from 'src/app/services/shared/shared.service';\r\nimport { map, first, take } from 'rxjs/operators';\r\nimport { ImportExportManagerService } from 'src/app/services/import-export-manager/import-export-manager.service';\r\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from '@angular/fire/firestore';\r\n@Component({\r\n  selector: 'app-import-orders',\r\n  templateUrl: './import-orders.page.html',\r\n  styleUrls: ['./import-orders.page.scss'],\r\n})\r\nexport class ImportOrdersPage implements OnInit {\r\n  headerIndex: number\r\n  isDisableDatePicker: boolean = true;\r\n  buttonState: string = 'Upload'\r\n  updateObj: any[] = []\r\n  orderLength: number = 0\r\n  supportedUpdateFields = ['deliveryPhoneNo']\r\n  allDeliveryAgents: any = []\r\n  \r\n  constructor(\r\n    private toastController: ToastController,\r\n    private papa: Papa,\r\n    private importExportManagerService: ImportExportManagerService,\r\n    private sharedService: SharedService,\r\n    private afs: AngularFirestore,\r\n  ) {}\r\n  \r\n  ngOnInit() {}\r\n  \r\n  \r\n  async ionViewWillEnter() {\r\n    this.allDeliveryAgents = await this.importExportManagerService.getAllDeliveryAgents()\r\n    console.log('allDeliveryAgents', this.allDeliveryAgents)\r\n  }\r\n\r\n  async presentToastWithOptions(header: string, message: string, errorCode: string) {\r\n    const toast = await this.toastController.create({\r\n      mode: 'ios',\r\n      color: 'dark',\r\n      header: header,\r\n      message: message,\r\n      duration: 4000,\r\n      position: 'top',\r\n      buttons: [\r\n        {\r\n          side: 'start',\r\n          text: errorCode,\r\n          handler: () => {\r\n            console.log('Favorite clicked');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  saveDisable() {}\r\n\r\n  async checkValidCSV(event: any, jsonData: any[]) {\r\n    if (event.target.files[0].name.includes('.csv')) {\r\n      // console.log('jsonData :', jsonData)\r\n      for(let i = 0; i < jsonData.length; i++) {\r\n        if (jsonData[i].includes('orderId')) {\r\n          // console.log('jsonData[i]:', jsonData[i])\r\n          this.headerIndex = i\r\n        }\r\n      }\r\n      console.log('headerIndex :', this.headerIndex)\r\n      if (jsonData[this.headerIndex].includes('orderId') && jsonData[this.headerIndex].includes('deliveryPhoneNo')) {\r\n        return true\r\n      } else {\r\n        await this.presentToastWithOptions('Invalid CSV Format!', 'The CSV is either missing the orderId or the deliveryPhoneNo column(s)!', 'ERR-191')  \r\n        return false\r\n      }\r\n    } else {\r\n      await this.presentToastWithOptions('Invalid File Format!', 'The file should be only in [ .csv ] format.', 'ERR-190')\r\n      return false\r\n    }\r\n  }\r\n\r\n  formatDeliveryPhoneNo(phoneNo: string) {\r\n    let formattedStr = phoneNo.replace('[', '')\r\n    formattedStr = formattedStr.replace(']', '')\r\n    return formattedStr.trim()\r\n  }\r\n\r\n  async importOrdersHandler(event: any, state: string) {\r\n    let jsonData = []\r\n    if (state === 'Upload') {\r\n      let csv = event.target.files[0]\r\n      console.log('csv : ', csv)\r\n      let options = {\r\n        complete: async (result, file) => {\r\n          jsonData = result.data\r\n          let validity = await this.checkValidCSV(event, jsonData)\r\n          console.log('validity : ', validity)\r\n          if (validity) {\r\n            let orderIdIndex = jsonData[this.headerIndex].findIndex(f => f === 'orderId')\r\n            let deliveryPhoneNoIndex = jsonData[this.headerIndex].findIndex(f => f === 'deliveryPhoneNo')\r\n            console.log('orderIdIndex :', orderIdIndex)\r\n            console.log('deliveryPhoneNoIndex :', deliveryPhoneNoIndex)\r\n            for (let i = this.headerIndex + 1; i < jsonData.length; i++) {\r\n              if (jsonData[i][orderIdIndex] && jsonData[i][deliveryPhoneNoIndex]) {\r\n                // console.log(jsonData[i])\r\n                this.updateObj.push({\r\n                  orderId: jsonData[i][orderIdIndex],\r\n                  value: this.supportedUpdateFields.map(s => ({field: s, data: this.formatDeliveryPhoneNo(jsonData[i][deliveryPhoneNoIndex]), agentId: ''}))\r\n                })\r\n              }\r\n            }\r\n            console.log(this.updateObj)\r\n            let count = 0\r\n            if (this.updateObj && this.updateObj.length) {\r\n              for (const order of this.updateObj) {\r\n                if (order.value && order.value.length) {\r\n                  if (this.allDeliveryAgents.some(a => a.phoneNo === order.value[0].data)) {\r\n                    console.log('all good')\r\n                    count++\r\n                  } else {\r\n                    console.log('error')\r\n                    await this.presentToastWithOptions('Invalid Delivery Agent Phone Number!', 'The provided delivery agent phone number does not exist!', 'ERR-192')\r\n                    this.updateObj = []\r\n                    return\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (count == this.updateObj.length) {\r\n              this.buttonState = 'Import'\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.papa.parse(csv, options)\r\n    }\r\n    if (state === 'Import') {\r\n      console.log('Importing...')\r\n      if (this.updateObj && this.updateObj.length) {\r\n        for (const order of this.updateObj)  {\r\n          let agent = this.allDeliveryAgents.find(s => s.phoneNo === order.value[0].data)\r\n          this.importExportManagerService.updateOrder(parseInt(order.orderId), agent.id)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}