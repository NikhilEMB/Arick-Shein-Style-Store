<div class="main-container">
  <ion-row style="height: 100%;">
    <ion-col size="4" id="scroll2" style="height: 100%; background-color: black;">
      <p style="text-align:center; font-size: medium; font-weight: bold; margin: 8px 0 8px 0; color: white;">
        Saved Twilio Template(s)
      </p>
      <div *ngIf="logs && availableTemplates.length">
        <ion-card *ngFor="let template of availableTemplates; let i = index" class="customCard">
          <ion-card-header>
            <ion-card-subtitle>{{i+1}} - {{template.templateName}}</ion-card-subtitle>
            <ion-card-title>Created At - {{template.time}}</ion-card-title>
          </ion-card-header>
          <div class="save-button" style="display: flex; justify-content: space-evenly; padding-bottom: 16px;">
            <ion-button mode="ios" size="small" (click)="useTemplate(i)" shape="round" class="btn-1 i-start"
              color="secondary">
              <i class="flaticon-null-20"></i>Use
            </ion-button>
            <ion-button mode="ios" size="small" (click)="deleteTemplate(template.docId)" shape="round" class="btn-1 i-start"
              color="danger">
              <i class="flaticon-null-21"></i>Delete
            </ion-button>
          </div>
        </ion-card>
      </div>
      <div *ngIf="!logs && !availableTemplates.length">
        <p style="text-align:center; font-size: medium; margin-top: 20px; color: lightgray">No Templates available yet!</p>
      </div>
    </ion-col>
    <ion-col size="8" style="height: 100%">
      <ion-row style="height: 85%; border-bottom: 1px solid lightgray;">
        <ion-col size="12" id="scroll1" style="height: 100%; padding: 0">
          <p style="text-align:center; font-size: medium; font-weight: bold; margin: 8px 0 8px 0;">
            Make / Edit Twilio Template
          </p>
          <div style="padding: 0 10px 0 10px;">
            <ion-item>
              <ion-label position="floating">Template Name</ion-label>
              <ion-input mode="ios" [(ngModel)]="templateDetails.templateName"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Template Body</ion-label>
                <ion-textarea style="overflow: hidden;" mode="ios" auto-grow="true" [(ngModel)]="templateDetails.templateBody"></ion-textarea>
            </ion-item>
            <div class="save-button" style="display: flex; justify-content: space-evenly; padding: 16px 0 16px 0;">
              <ion-button mode="ios" size="small" (click)="addFormatting('newLine')" shape="round" class="btn-1 i-start" color="dark">
              [ {{templateNewLine}} ] Add New Line
              </ion-button>
              <ion-button mode="ios" size="small" color="dark" (click)="addFormatting('newVariable')" shape="round" class="btn-1 i-start">
              [ {{templateVar}} ] Add Param
              </ion-button>              
              <ion-button mode="ios" size="small" color="dark" (click)="clearAll()" shape="round" class="btn-1 i-start">
              <i class="flaticon-repeat-sign"></i>
              Clear All
              </ion-button>              
            </div>
          </div>
        </ion-col>
      </ion-row>
      <ion-row style="height: 15%;">
        <ion-col style="height: 100%; display: flex; justify-content: flex-start; align-items: center;">
          <div class="save-button" style="display: flex;">
            <ion-button mode="ios" style="margin: 0 16px 0 0;" [disabled]="validateTemplate()" (click)="finalizeTemplate()" shape="round" class="btn-1 i-start"
              color="success">
              <i class="flaticon-null-20"></i>Done
            </ion-button>
            <ion-button mode="ios" style="margin: 0 16px 0 0;" [disabled]="validateTemplate()" (click)="addTemplate()" shape="round" class="btn-1 i-start"
              color="success">
              <i class="flaticon-null-28"></i>Add
            </ion-button>
            <ion-button mode="ios" [disabled]="validateTemplate() || useState" (click)="updateTemplate(templateDetails.id)" shape="round" class="btn-1 i-start"
              color="warning">
              <i class="flaticon-technical-support"></i>Update
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</div>
